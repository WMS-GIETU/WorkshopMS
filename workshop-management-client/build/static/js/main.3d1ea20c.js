/*! For license information please see main.3d1ea20c.js.LICENSE.txt */
(()=>{var e={256:(e,t,n)=>{"use strict";const r=n(7724);e.exports=(e,t,n)=>r(e,t,">",n)},500:(e,t,n)=>{"use strict";const r=n(1323),i=n(6225),a=n(8207),o=n(9520),s=n(4501),A=n(2192),u=n(4747),l=n(3974),c=n(6627),h=n(7963),f=n(1647),d=n(4760),p=n(3390),g=n(3193),m=n(3033),v=n(5094),w=n(8356),y=n(8644),b=n(8020),x=n(6187),B=n(7508),C=n(7814),E=n(9930),F=n(9896),S=n(4369),k=n(538),_=n(7525),I=n(3383),N=n(7458),U=n(7263),L=n(4074),Q=n(2285),R=n(3359),D=n(1390),T=n(1061),P=n(7724),O=n(256),M=n(7497),j=n(7941),H=n(536),K=n(7853);e.exports={parse:s,valid:A,clean:u,inc:l,diff:c,major:h,minor:f,patch:d,prerelease:p,compare:g,rcompare:m,compareLoose:v,compareBuild:w,sort:y,rsort:b,gt:x,lt:B,eq:C,neq:E,gte:F,lte:S,cmp:k,coerce:_,Comparator:I,Range:N,satisfies:U,toComparators:L,maxSatisfying:Q,minSatisfying:R,minVersion:D,validRange:T,outside:P,gtr:O,ltr:M,intersects:j,simplifyRange:H,subset:K,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},536:(e,t,n)=>{"use strict";const r=n(7263),i=n(3193);e.exports=(e,t,n)=>{const a=[];let o=null,s=null;const A=e.sort((e,t)=>i(e,t,n));for(const i of A){r(i,t,n)?(s=i,o||(o=i)):(s&&a.push([o,s]),s=null,o=null)}o&&a.push([o,null]);const u=[];for(const[r,i]of a)r===i?u.push(r):i||r!==A[0]?i?r===A[0]?u.push(`<=${i}`):u.push(`${r} - ${i}`):u.push(`>=${r}`):u.push("*");const l=u.join(" || "),c="string"===typeof t.raw?t.raw:String(t);return l.length<c.length?l:t}},538:(e,t,n)=>{"use strict";const r=n(7814),i=n(9930),a=n(6187),o=n(9896),s=n(7508),A=n(4369);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return i(e,n,u);case">":return a(e,n,u);case">=":return o(e,n,u);case"<":return s(e,n,u);case"<=":return A(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},745:()=>{},1061:(e,t,n)=>{"use strict";const r=n(7458);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(n){return null}}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!A.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},1323:(e,t,n)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=n(6225),o=n(1411),s=(t=e.exports={}).re=[],A=t.safeRe=[],u=t.src=[],l=t.safeSrc=[],c=t.t={};let h=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",a],[f,i]],p=(e,t,n)=>{const r=(e=>{for(const[t,n]of d)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=h++;o(e,i,t),c[e]=i,u[i]=t,l[i]=r,s[i]=new RegExp(t,n?"g":void 0),A[i]=new RegExp(r,n?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),p("FULL",`^${u[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),p("LOOSE",`^${u[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),p("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[c.COERCE],!0),p("COERCERTLFULL",u[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1390:(e,t,n)=>{"use strict";const r=n(8207),i=n(7458),a=n(6187);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let i=0;i<e.set.length;++i){const t=e.set[i];let o=null;t.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!a(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!o||n&&!a(n,o)||(n=o)}return n&&e.test(n)?n:null}},1411:e=>{"use strict";const t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000"}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};e.exports=t},1647:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t)=>new r(e,t).minor},2192:(e,t,n)=>{"use strict";const r=n(4501);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2285:(e,t,n)=>{"use strict";const r=n(8207),i=n(7458);e.exports=(e,t,n)=>{let a=null,o=null,s=null;try{s=new i(t,n)}catch(A){return null}return e.forEach(e=>{s.test(e)&&(a&&-1!==o.compare(e)||(a=e,o=new r(a,n)))}),a}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function A(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!c.call(d,e)||!c.call(f,e)&&(h.test(e)?d[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}var D,T=Object.assign;function P(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var O=!1;function M(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var A="\n"+i[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}}while(1<=o&&0<=s);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function j(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case _:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,ce=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var me=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Be=null,Ce=null;function Ee(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Fe(e){Be?Ce?Ce.push(e):Ce=[e]:Be=e}function Se(){if(Be){var e=Be,t=Ce;if(Ce=Be=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function ke(e,t){return e(t)}function _e(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return ke(e,t,n)}finally{Ie=!1,(null!==Be||null!==Ce)&&(_e(),Se())}}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(le){Le=!1}function Re(e,t,n,r,i,a,o,s,A){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var De=!1,Te=null,Pe=!1,Oe=null,Me={onError:function(e){De=!0,Te=e}};function je(e,t,n,r,i,a,o,s,A){De=!1,Te=null,Re.apply(Me,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,A=i.child;A;){if(A===n){s=!0,n=i,r=o;break}if(A===r){s=!0,r=i,n=o;break}A=A.sibling}if(!s){for(A=o.child;A;){if(A===n){s=!0,n=o,r=i;break}if(A===r){s=!0,r=o,n=i;break}A=A.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/At|0)|0},st=Math.log,At=Math.LN2;var ut=64,lt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Bt,Ct,Et,Ft=!1,St=[],kt=null,_t=null,It=null,Nt=new Map,Ut=new Map,Lt=[],Qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Tt(e){var t=vi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Et(e.priority,function(){Bt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ot(e,t,n){Pt(e)&&n.delete(t)}function Mt(){Ft=!1,null!==kt&&Pt(kt)&&(kt=null),null!==_t&&Pt(_t)&&(_t=null),null!==It&&Pt(It)&&(It=null),Nt.forEach(Ot),Ut.forEach(Ot)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Ht(e){function t(t){return jt(t,e)}if(0<St.length){jt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==_t&&jt(_t,e),null!==It&&jt(It,e),Nt.forEach(t),Ut.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Tt(n),null===n.blockedOn&&Lt.shift()}var Kt=y.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=wt,a=Kt.transition;Kt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,Kt.transition=a}}function Vt(e,t,n,r){var i=wt,a=Kt.transition;Kt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,Kt.transition=a}}function Gt(e,t,n,r){if(zt){var i=Xt(e,t,n,r);if(null===i)zr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Dt(kt,e,t,n,r,i),!0;case"dragenter":return _t=Dt(_t,e,t,n,r,i),!0;case"mouseover":return It=Dt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Dt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ut.set(a,Dt(Ut.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Qt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&bt(a),null===(a=Xt(e,t,n,r))&&zr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=vi(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,An,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(un),cn=T({},un,{view:0,detail:0}),hn=an(cn),fn=T({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&"mousemove"===e.type?(on=e.screenX-An.screenX,sn=e.screenY-An.screenY):sn=on=0,An=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),dn=an(fn),pn=an(T({},fn,{dataTransfer:0})),gn=an(T({},cn,{relatedTarget:0})),mn=an(T({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=T({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(vn),yn=an(T({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function En(){return Cn}var Fn=T({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Fn),kn=an(T({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(T({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=an(T({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=T({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=an(Nn),Ln=[9,13,27,32],Qn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Dn=l&&"TextEvent"in window&&!Rn,Tn=l&&(!Qn||Rn&&8<Rn&&11>=Rn),Pn=String.fromCharCode(32),On=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Wn(e,t,n,r){Fe(r),0<(t=Vr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function qn(e){Pr(e,0)}function Xn(e){if(G(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,be(e)),Ne(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ar(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,wr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&Ar(vr,r)||(vr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Br={},Cr={};function Er(e){if(Br[e])return Br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Br[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Fr=Er("animationend"),Sr=Er("animationiteration"),kr=Er("animationstart"),_r=Er("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Ir.set(e,t),A(t,[e])}for(var Lr=0;Lr<Nr.length;Lr++){var Qr=Nr[Lr];Ur(Qr.toLowerCase(),"on"+(Qr[0].toUpperCase()+Qr.slice(1)))}Ur(Fr,"onAnimationEnd"),Ur(Sr,"onAnimationIteration"),Ur(kr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(_r,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,A,u){if(je.apply(this,arguments),De){if(!De)throw Error(a(198));var l=Te;De=!1,Te=null,Pe||(Pe=!0,Oe=l)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],A=s.instance,u=s.currentTarget;if(s=s.listener,A!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=A}else for(o=0;o<r.length;o++){if(A=(s=r[o]).instance,u=s.currentTarget,s=s.listener,A!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=A}}}if(Pe)throw e=Oe,Pe=!1,Oe=null,e}function Or(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[jr]){e[jr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Mr(t,!1,e),Mr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Mr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var A=o.tag;if((3===A||4===A)&&((A=o.stateNode.containerInfo)===i||8===A.nodeType&&A.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(A=o.tag)||6===A){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne(function(){var r=a,i=be(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var A=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":A=Sn;break;case"focusin":u="focus",A=gn;break;case"focusout":u="blur",A=gn;break;case"beforeblur":case"afterblur":A=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=_n;break;case Fr:case Sr:case kr:A=mn;break;case _r:A=In;break;case"scroll":A=hn;break;case"wheel":A=Un;break;case"copy":case"cut":case"paste":A=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=kn}var l=0!==(4&t),c=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var f,d=r;null!==d;){var p=(f=d).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ue(d,h))&&l.push(Wr(d,p,f)))),c)break;d=d.return}0<l.length&&(s=new A(s,u,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(A="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[di])&&(A||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,A?(A=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(c=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(A=null,u=r),A!==u)){if(l=dn,p="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,p="onPointerLeave",h="onPointerEnter",d="pointer"),c=null==A?s:yi(A),f=null==u?s:yi(u),(s=new l(p,d+"leave",A,n,i)).target=c,s.relatedTarget=f,p=null,vi(i)===r&&((l=new l(h,d+"enter",u,n,i)).target=f,l.relatedTarget=c,p=l),c=p,A&&u)e:{for(h=u,d=0,f=l=A;f;f=Gr(f))d++;for(f=0,p=h;p;p=Gr(p))f++;for(;0<d-f;)l=Gr(l),d--;for(;0<f-d;)h=Gr(h),f--;for(;d--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==A&&qr(o,s,A,l,!1),null!==u&&null!==c&&qr(o,c,u,l,!0)}if("select"===(A=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===A&&"file"===s.type)var g=Yn;else if(zn(s))if(Jn)g=or;else{g=ir;var m=rr}else(A=s.nodeName)&&"input"===A.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?yi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,yr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(o,n,i)}var v;if(Qn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Mn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(m=Vr(r,w)).length&&(w=new yn(w,e,null,n,i),o.push({event:w,listeners:m}),v?w.data=v:null!==(v=jn(n))&&(w.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(On=!0,Pn);case"textInput":return(e=t.data)===Pn&&On?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Qn&&Mn(e,t)?(e=en(),Zt=$t=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Pr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,A=s.alternate,u=s.stateNode;if(null!==A&&A===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(A=Ue(n,a))&&o.unshift(Wr(n,A,s)):i||null!=(A=Ue(n,a))&&o.push(Wr(n,A,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function Ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),hi="__reactFiber$"+ci,fi="__reactProps$"+ci,di="__reactContainer$"+ci,pi="__reactEvents$"+ci,gi="__reactListeners$"+ci,mi="__reactHandles$"+ci;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[fi]||null}var xi=[],Bi=-1;function Ci(e){return{current:e}}function Ei(e){0>Bi||(e.current=xi[Bi],xi[Bi]=null,Bi--)}function Fi(e,t){Bi++,xi[Bi]=e.current,e.current=t}var Si={},ki=Ci(Si),_i=Ci(!1),Ii=Si;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ui(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(_i),Ei(ki)}function Qi(e,t,n){if(ki.current!==Si)throw Error(a(168));Fi(ki,t),Fi(_i,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,K(e)||"Unknown",i));return T({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=ki.current,Fi(ki,e),Fi(_i,_i.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(_i),Ei(ki),Fi(ki,e)):Ei(_i),Fi(_i,n)}var Pi=null,Oi=!1,Mi=!1;function ji(e){null===Pi?Pi=[e]:Pi.push(e)}function Hi(){if(!Mi&&null!==Pi){Mi=!0;var e=0,t=wt;try{var n=Pi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pi=null,Oi=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ge(Ze,Hi),i}finally{wt=t,Mi=!1}}return null}var Ki=[],zi=0,Wi=null,Vi=0,Gi=[],qi=0,Xi=null,Yi=1,Ji="";function $i(e,t){Ki[zi++]=Vi,Ki[zi++]=Wi,Wi=e,Vi=t}function Zi(e,t,n){Gi[qi++]=Yi,Gi[qi++]=Ji,Gi[qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Ki[--zi],Ki[zi]=null,Vi=Ki[--zi],Ki[zi]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Ji=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function Aa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(Aa(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(Aa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ca(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(Aa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function da(e){null===aa?aa=[e]:aa.push(e)}var pa=y.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function A(e,t,n,r){return null===t||6!==t.tag?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===B?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===U&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Qu(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Qu(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case x:return(t=Pu(t,e.mode,n)).return=e,t;case U:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;ma(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:A(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case U:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:c(e,t,n,r,null);ma(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return A(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case U:return d(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return c(t,e=e.get(n)||null,r,i,null);ma(t,r)}return null}function p(i,a,s,A){for(var u=null,l=null,c=a,p=a=0,g=null;null!==c&&p<s.length;p++){c.index>p?(g=c,c=null):g=c.sibling;var m=f(i,c,s[p],A);if(null===m){null===c&&(c=g);break}e&&c&&null===m.alternate&&t(i,c),a=o(m,a,p),null===l?u=m:l.sibling=m,l=m,c=g}if(p===s.length)return n(i,c),ia&&$i(i,p),u;if(null===c){for(;p<s.length;p++)null!==(c=h(i,s[p],A))&&(a=o(c,a,p),null===l?u=c:l.sibling=c,l=c);return ia&&$i(i,p),u}for(c=r(i,c);p<s.length;p++)null!==(g=d(c,i,p,s[p],A))&&(e&&null!==g.alternate&&c.delete(null===g.key?p:g.key),a=o(g,a,p),null===l?u=g:l.sibling=g,l=g);return e&&c.forEach(function(e){return t(i,e)}),ia&&$i(i,p),u}function g(i,s,A,u){var l=R(A);if("function"!==typeof l)throw Error(a(150));if(null==(A=l.call(A)))throw Error(a(151));for(var c=l=null,p=s,g=s=0,m=null,v=A.next();null!==p&&!v.done;g++,v=A.next()){p.index>g?(m=p,p=null):m=p.sibling;var w=f(i,p,v.value,u);if(null===w){null===p&&(p=m);break}e&&p&&null===w.alternate&&t(i,p),s=o(w,s,g),null===c?l=w:c.sibling=w,c=w,p=m}if(v.done)return n(i,p),ia&&$i(i,g),l;if(null===p){for(;!v.done;g++,v=A.next())null!==(v=h(i,v.value,u))&&(s=o(v,s,g),null===c?l=v:c.sibling=v,c=v);return ia&&$i(i,g),l}for(p=r(i,p);!v.done;g++,v=A.next())null!==(v=d(p,i,g,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===c?l=v:c.sibling=v,c=v);return e&&p.forEach(function(e){return t(i,e)}),ia&&$i(i,g),l}return function e(r,a,o,A){if("object"===typeof o&&null!==o&&o.type===B&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var u=o.key,l=a;null!==l;){if(l.key===u){if((u=o.type)===B){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===U&&va(u)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===B?((a=Ru(o.props.children,r.mode,A,o.key)).return=r,r=a):((A=Qu(o.type,o.key,o.props,null,r.mode,A)).ref=ga(r,a,o),A.return=r,r=A)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Pu(o,r.mode,A)).return=r,r=a}return s(r);case U:return e(r,a,(l=o._init)(o._payload),A)}if(te(o))return p(r,a,o,A);if(R(o))return g(r,a,o,A);ma(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tu(o,r.mode,A)).return=r,r=a),s(r)):n(r,a)}}var ya=wa(!0),ba=wa(!1),xa=Ci(null),Ba=null,Ca=null,Ea=null;function Fa(){Ea=Ca=Ba=null}function Sa(e){var t=xa.current;Ei(xa),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){Ba=e,Ea=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Ba)throw Error(a(308));Ca=e,Ba.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Na=null;function Ua(e){null===Na?Na=[e]:Na.push(e)}function La(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ua(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qa(e,r)}function Qa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kA)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ua(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var A=s,u=A.next;A.next=null,null===o?a=u:o.next=u,o=A;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=A))}if(null!==a){var c=i.baseState;for(o=0,l=u=A=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=e,p=s;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(d=p.payload)){c=d.call(f,c,h);break e}c=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(h="function"===typeof(d=p.payload)?d.call(f,c,h):d)||void 0===h)break e;c=T({},c,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=f,A=c):l=l.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(A=c),i.baseState=A,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);DA|=o,e.lanes=o,e.memoizedState=c}}function Ka(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za={},Wa=Ci(za),Va=Ci(za),Ga=Ci(za);function qa(e){if(e===za)throw Error(a(174));return e}function Xa(e,t){switch(Fi(Ga,t),Fi(Va,e),Fi(Wa,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ae(null,"");break;default:t=Ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Wa),Fi(Wa,t)}function Ya(){Ei(Wa),Ei(Va),Ei(Ga)}function Ja(e){qa(Ga.current);var t=qa(Wa.current),n=Ae(t,e.type);t!==n&&(Fi(Va,e),Fi(Wa,n))}function $a(e){Va.current===e&&(Ei(Wa),Ei(Va))}var Za=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=y.ReactCurrentDispatcher,io=y.ReactCurrentBatchConfig,ao=0,oo=null,so=null,Ao=null,uo=!1,lo=!1,co=0,ho=0;function fo(){throw Error(a(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),lo){o=0;do{if(lo=!1,co=0,25<=o)throw Error(a(301));o+=1,Ao=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(lo)}if(ro.current=$o,t=null!==so&&null!==so.next,ao=0,Ao=so=oo=null,uo=!1,t)throw Error(a(300));return e}function mo(){var e=0!==co;return co=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ao?oo.memoizedState=Ao=e:Ao=Ao.next=e,Ao}function wo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===Ao?oo.memoizedState:Ao.next;if(null!==t)Ao=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===Ao?oo.memoizedState=Ao=e:Ao=Ao.next=e}return Ao}function yo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var A=s=null,u=null,l=o;do{var c=l.lane;if((ao&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(A=u=h,s=r):u=u.next=h,oo.lanes|=c,DA|=c}l=l.next}while(null!==l&&l!==o);null===u?s=r:u.next=A,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,DA|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function Co(e,t){var n=oo,r=wo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Do(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Ao&&1&Ao.memoizedState.tag){if(n.flags|=2048,No(9,Fo.bind(null,n,r,i,t),void 0,null),null===_A)throw Error(a(349));0!==(30&ao)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fo(e,t,n,r){t.value=n,t.getSnapshot=r,ko(t)&&_o(e)}function So(e,t,n){return n(function(){ko(t)&&_o(e)})}function ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function _o(e){var t=Qa(e,1);null!==t&&nu(t,e,1,-1)}function Io(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=qo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return wo().memoizedState}function Lo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Qo(e,t,n,r){var i=wo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&po(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}oo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Ro(e,t){return Lo(8390656,8,e,t)}function Do(e,t){return Qo(2048,8,e,t)}function To(e,t){return Qo(4,2,e,t)}function Po(e,t){return Qo(4,4,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qo(4,4,Oo.bind(null,t,e),n)}function jo(){}function Ho(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),oo.lanes|=n,DA|=n,e.baseState=!0),t)}function Wo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Vo(){return wo().memoizedState}function Go(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Yo(t,n);else if(null!==(n=La(e,t,n,r))){nu(n,e,r,eu()),Jo(n,t,r)}}function qo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Yo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var A=t.interleaved;return null===A?(i.next=i,Ua(t)):(i.next=A.next,A.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=La(e,t,i,r))&&(nu(n,e,r,i=eu()),Jo(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){lo=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var $o={readContext:Ia,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ia,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Io,useDebugValue:jo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_A)throw Error(a(349));0!==(30&ao)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(So.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Fo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=_A.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=co++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:Ho,useContext:Ia,useEffect:Do,useImperativeHandle:Mo,useInsertionEffect:To,useLayoutEffect:Po,useMemo:Ko,useReducer:bo,useRef:Uo,useState:function(){return bo(yo)},useDebugValue:jo,useDeferredValue:function(e){return zo(wo(),so.memoizedState,e)},useTransition:function(){return[bo(yo)[0],wo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:Vo,unstable_isNewReconciler:!1},ts={readContext:Ia,useCallback:Ho,useContext:Ia,useEffect:Do,useImperativeHandle:Mo,useInsertionEffect:To,useLayoutEffect:Po,useMemo:Ko,useReducer:xo,useRef:Uo,useState:function(){return xo(yo)},useDebugValue:jo,useDeferredValue:function(e){var t=wo();return null===so?t.memoizedState=e:zo(t,so.memoizedState,e)},useTransition:function(){return[xo(yo)[0],wo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:Vo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=T({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:T({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nu(t,e,r,n),Ma(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ar(n,r)||!Ar(i,a))}function os(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ui(t)?Ii:ki.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function As(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ui(t)?Ii:ki.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zA||(zA=!0,WA=r),cs(0,t)},n}function ds(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){cs(0,t),"function"!==typeof r&&(null===VA?VA=new Set([this]):VA.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=y.ReactCurrentOwner,ws=!1;function ys(e,t,n,r){t.child=null===e?ba(t,null,n,r):ya(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=go(e,t,n,r,a,i),n=mo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Ar)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Lu(a,r)).ref=t.ref,e.return=t,t.child=e}function Bs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Ar(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Fs(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(LA,UA),UA|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fi(LA,UA),UA|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Fi(LA,UA),UA|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fi(LA,UA),UA|=r;return ys(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fs(e,t,n,r,i){var a=Ui(n)?Ii:ki.current;return a=Ni(t,a),_a(t,i),n=go(e,t,n,r,a,i),r=mo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ss(e,t,n,r,i){if(Ui(n)){var a=!0;Di(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ks(e,t),os(t,n,r),As(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var A=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ia(u):u=Ni(t,u=Ui(n)?Ii:ki.current);var l=n.getDerivedStateFromProps,c="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||A!==u)&&ss(t,o,r,u),Ra=!1;var h=t.memoizedState;o.state=h,Ha(t,r,o,i),A=t.memoizedState,s!==r||h!==A||_i.current||Ra?("function"===typeof l&&(rs(t,n,l,r),A=t.memoizedState),(s=Ra||as(t,n,s,r,h,A,u))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),o.props=r,o.state=A,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ta(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,c=t.pendingProps,h=o.context,"object"===typeof(A=n.contextType)&&null!==A?A=Ia(A):A=Ni(t,A=Ui(n)?Ii:ki.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==c||h!==A)&&ss(t,o,r,A),Ra=!1,h=t.memoizedState,o.state=h,Ha(t,r,o,i);var d=t.memoizedState;s!==c||h!==d||_i.current||Ra?("function"===typeof f&&(rs(t,n,f,r),d=t.memoizedState),(u=Ra||as(t,n,u,r,h,d,A)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,A),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,A)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=A,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,a,i)}function ks(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ti(t,n,!1),zs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Qi(0,t.context,!1),Xa(e,t.containerInfo)}function Is(e,t,n,r,i){return fa(),da(i),t.flags|=256,ys(e,t,n,r),t.child}var Ns,Us,Ls,Qs,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ts(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,A=0!==(128&t.flags);if((r=A)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Fi(Za,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(A=i.children,e=i.fallback,s?(i=t.mode,s=t.child,A={mode:"hidden",children:A},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=A):s=Du(A,i,0,null),e=Ru(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Rs,e):Ps(t,A));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Os(e,t,s,r=ls(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=Ru(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ya(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Os(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var A=r.dgst;return r=A,Os(e,t,s,r=ls(o=Error(a(419)),r,void 0))}if(A=0!==(s&e.childLanes),ws||A){if(null!==(r=_A)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Qa(e,i),nu(r,e,i,-1))}return pu(),Os(e,t,s,r=ls(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[qi++]=Yi,Gi[qi++]=Ji,Gi[qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Ps(t,r.children),t.flags|=4096,t)}(e,t,A,i,r,o,n);if(s){s=i.fallback,A=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&A)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lu(r,s):(s=Ru(s,A,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,A=null===(A=e.child.memoizedState)?Ds(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},s.memoizedState=A,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Lu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ps(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,n,r){return null!==r&&da(r),ya(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fi(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),DA|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Ui(t.type)&&Li(),Vs(t),null;case 3:return r=t.stateNode,Ya(),Ei(_i),Ei(ki),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ca(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Us(e,t),Vs(t),null;case 5:$a(t);var i=qa(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vs(t),null}if(e=qa(Wa.current),ca(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":Y(r,o),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Or("invalid",r);break;case"textarea":ie(r,o),Or("invalid",r)}for(var A in ve(n,o),i=null,o)if(o.hasOwnProperty(A)){var u=o[A];"children"===A?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(A)&&null!=u&&"onScroll"===A&&Or("scroll",r)}switch(n){case"input":V(r),Z(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{A=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=A.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),"select"===n&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(A=we(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Or("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=T({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Or("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var l=u[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ce(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Or("scroll",e):null!=l&&w(e,o,l,A))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Qs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=qa(Ga.current),qa(Wa.current),ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Vs(t),null;case 13:if(Ei(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=ca(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===QA&&(QA=3):pu())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Ya(),Us(e,t),null===e&&Hr(t.stateNode.containerInfo),Vs(t),null;case 10:return Sa(t.type._context),Vs(t),null;case 19:if(Ei(Za),null===(o=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(A=o.rendering))if(r)Ws(o,!1);else{if(0!==QA||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(A=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=A.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(A=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=A.childLanes,o.lanes=A.lanes,o.child=A.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=A.memoizedProps,o.memoizedState=A.memoizedState,o.updateQueue=A.updateQueue,o.type=A.type,e=A.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fi(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>HA&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(A))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!A.alternate&&!ia)return Vs(t),null}else 2*Je()-o.renderingStartTime>HA&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(A.sibling=t.child,t.child=A):(null!==(n=o.last)?n.sibling=A:t.child=A,o.last=A)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Za.current,Fi(Za,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return cu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&UA)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Ui(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ei(_i),Ei(ki),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Ei(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Za),null;case 4:return Ya(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Us=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa(Wa.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=T({},i,{value:void 0}),r=T({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var A=i[l];for(a in A)A.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(A=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==A&&(null!=u||null!=A))if("style"===l)if(A){for(a in A)!A.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&A[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,A=A?A.__html:void 0,null!=u&&A!==u&&(o=o||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Or("scroll",e),o||A===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Qs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function eA(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tA=!1;function nA(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eA(t,n,a)}i=i.next}while(i!==r)}}function rA(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iA(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function aA(e){var t=e.alternate;null!==t&&(e.alternate=null,aA(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oA(e){return 5===e.tag||3===e.tag||4===e.tag}function sA(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function AA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(AA(e,t,n),e=e.sibling;null!==e;)AA(e,t,n),e=e.sibling}function uA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uA(e,t,n),e=e.sibling;null!==e;)uA(e,t,n),e=e.sibling}var lA=null,cA=!1;function hA(e,t,n){for(n=n.child;null!==n;)fA(e,t,n),n=n.sibling}function fA(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lA,i=cA;lA=null,hA(e,t,n),cA=i,null!==(lA=r)&&(cA?(e=lA,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lA.removeChild(n.stateNode));break;case 18:null!==lA&&(cA?(e=lA,n=n.stateNode,8===e.nodeType?Ai(e.parentNode,n):1===e.nodeType&&Ai(e,n),Ht(e)):Ai(lA,n.stateNode));break;case 4:r=lA,i=cA,lA=n.stateNode.containerInfo,cA=!0,hA(e,t,n),lA=r,cA=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eA(n,t,o),i=i.next}while(i!==r)}hA(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}hA(e,t,n);break;case 21:hA(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hA(e,t,n),Ys=r):hA(e,t,n);break;default:hA(e,t,n)}}function dA(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pA(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,A=s;e:for(;null!==A;){switch(A.tag){case 5:lA=A.stateNode,cA=!1;break e;case 3:case 4:lA=A.stateNode.containerInfo,cA=!0;break e}A=A.return}if(null===lA)throw Error(a(160));fA(o,s,i),lA=null,cA=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Cu(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gA(t,e),t=t.sibling}function gA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pA(t,e),mA(e),4&r){try{nA(3,e,e.return),rA(3,e)}catch(g){Cu(e,e.return,g)}try{nA(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:pA(t,e),mA(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(pA(t,e),mA(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,A=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===A&&"radio"===o.type&&null!=o.name&&J(i,o),we(A,s);var l=we(A,o);for(s=0;s<u.length;s+=2){var c=u[s],h=u[s+1];"style"===c?ge(i,h):"dangerouslySetInnerHTML"===c?ce(i,h):"children"===c?he(i,h):w(i,c,h,l)}switch(A){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;null!=d?ne(i,!!o.multiple,d,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Cu(e,e.return,g)}}break;case 6:if(pA(t,e),mA(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cu(e,e.return,g)}}break;case 3:if(pA(t,e),mA(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:pA(t,e),mA(e);break;case 13:pA(t,e),mA(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jA=Je())),4&r&&dA(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||c,pA(t,e),Ys=l):pA(t,e),mA(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!c&&0!==(1&e.mode))for($s=e,c=e.child;null!==c;){for(h=$s=c;null!==$s;){switch(d=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:nA(4,f,f.return);break;case 1:Zs(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){bA(h);continue}}null!==d?(d.return=f,$s=d):bA(h)}c=c.sibling}e:for(c=null,h=e;;){if(5===h.tag){if(null===c){c=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(A=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,A.style.display=pe("display",s))}catch(g){Cu(e,e.return,g)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pA(t,e),mA(e),4&r&&dA(e);case 21:}}function mA(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oA(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uA(e,sA(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;AA(e,sA(e),o);break;default:throw Error(a(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vA(e,t,n){$s=e,wA(e,t,n)}function wA(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,A=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=o,(Ys=A)&&!u)for($s=i;null!==$s;)A=(o=$s).child,22===o.tag&&null!==o.memoizedState?xA(i):null!==A?(A.return=o,$s=A):xA(i);for(;null!==a;)$s=a,wA(a,t,n),a=a.sibling;$s=i,Xs=s,Ys=u}yA(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):yA(e)}}function yA(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rA(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ka(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ka(t,s,n)}break;case 5:var A=t.stateNode;if(null===n&&4&t.flags){n=A;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iA(t)}catch(f){Cu(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bA(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xA(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rA(4,t)}catch(A){Cu(t,n,A)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(A){Cu(t,i,A)}}var a=t.return;try{iA(t)}catch(A){Cu(t,a,A)}break;case 5:var o=t.return;try{iA(t)}catch(A){Cu(t,o,A)}}}catch(A){Cu(t,t.return,A)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var BA,CA=Math.ceil,EA=y.ReactCurrentDispatcher,FA=y.ReactCurrentOwner,SA=y.ReactCurrentBatchConfig,kA=0,_A=null,IA=null,NA=0,UA=0,LA=Ci(0),QA=0,RA=null,DA=0,TA=0,PA=0,OA=null,MA=null,jA=0,HA=1/0,KA=null,zA=!1,WA=null,VA=null,GA=!1,qA=null,XA=0,YA=0,JA=null,$A=-1,ZA=0;function eu(){return 0!==(6&kA)?Je():-1!==$A?$A:$A=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&kA)&&0!==NA?NA&-NA:null!==pa.transition?(0===ZA&&(ZA=pt()),ZA):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<YA)throw YA=0,JA=null,Error(a(185));mt(e,n,r),0!==(2&kA)&&e===_A||(e===_A&&(0===(2&kA)&&(TA|=n),4===QA&&su(e,NA)),ru(e,r),1===n&&0===kA&&0===(1&t.mode)&&(HA=Je()+500,Oi&&Hi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,A=i[o];-1===A?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):A<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===_A?NA:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Oi=!0,ji(e)}(Au.bind(null,e)):ji(Au.bind(null,e)),oi(function(){0===(6&kA)&&Hi()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_u(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if($A=-1,ZA=0,0!==(6&kA))throw Error(a(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ht(e,e===_A?NA:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=kA;kA|=2;var o=du();for(_A===e&&NA===t||(KA=null,HA=Je()+500,hu(e,t));;)try{vu();break}catch(A){fu(e,A)}Fa(),EA.current=o,kA=i,null!==IA?t=0:(_A=null,NA=0,t=QA)}if(0!==t){if(2===t&&(0!==(i=dt(e))&&(r=i,t=au(e,i))),1===t)throw n=RA,hu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=dt(e))&&(r=o,t=au(e,o))),1===t))throw n=RA,hu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bu(e,MA,KA);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=jA+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bu.bind(null,e,MA,KA),t);break}bu(e,MA,KA);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CA(r/1960))-r)){e.timeoutHandle=ri(bu.bind(null,e,MA,KA),r);break}bu(e,MA,KA);break;default:throw Error(a(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=OA;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=MA,MA=n,null!==t&&ou(t)),e}function ou(e){null===MA?MA=e:MA.push.apply(MA,e)}function su(e,t){for(t&=~PA,t&=~TA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Au(e){if(0!==(6&kA))throw Error(a(327));xu();var t=ht(e,0);if(0===(1&t))return ru(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=dt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=RA,hu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,MA,KA),ru(e,Je()),null}function uu(e,t){var n=kA;kA|=1;try{return e(t)}finally{0===(kA=n)&&(HA=Je()+500,Oi&&Hi())}}function lu(e){null!==qA&&0===qA.tag&&0===(6&kA)&&xu();var t=kA;kA|=1;var n=SA.transition,r=wt;try{if(SA.transition=null,wt=1,e)return e()}finally{wt=r,SA.transition=n,0===(6&(kA=t))&&Hi()}}function cu(){UA=LA.current,Ei(LA)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==IA)for(n=IA.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Ya(),Ei(_i),Ei(ki),no();break;case 5:$a(r);break;case 4:Ya();break;case 13:case 19:Ei(Za);break;case 10:Sa(r.type._context);break;case 22:case 23:cu()}n=n.return}if(_A=e,IA=e=Lu(e.current,null),NA=UA=t,QA=0,RA=null,PA=TA=DA=0,MA=OA=null,null!==Na){for(t=0;t<Na.length;t++)if(null!==(r=(n=Na[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Na=null}return e}function fu(e,t){for(;;){var n=IA;try{if(Fa(),ro.current=$o,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(ao=0,Ao=so=oo=null,lo=!1,co=0,FA.current=null,null===n||null===n.return){QA=1,RA=t,IA=null;break}e:{var o=e,s=n.return,A=n,u=t;if(t=NA,A.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,c=A,h=c.tag;if(0===(1&c.mode)&&(0===h||11===h||15===h)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=gs(s);if(null!==d){d.flags&=-257,ms(d,s,A,0,t),1&d.mode&&ps(o,l,t),u=l;var p=(t=d).updateQueue;if(null===p){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}if(0===(1&t)){ps(o,l,t),pu();break e}u=Error(a(426))}else if(ia&&1&A.mode){var m=gs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,A,0,t),da(us(u,A));break e}}o=u=us(u,A),4!==QA&&(QA=2),null===OA?OA=[o]:OA.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,fs(0,u,t));break e;case 1:A=u;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===VA||!VA.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ds(o,A,t));break e}}o=o.return}while(null!==o)}yu(n)}catch(y){t=y,IA===n&&null!==n&&(IA=n=n.return);continue}break}}function du(){var e=EA.current;return EA.current=$o,null===e?$o:e}function pu(){0!==QA&&3!==QA&&2!==QA||(QA=4),null===_A||0===(268435455&DA)&&0===(268435455&TA)||su(_A,NA)}function gu(e,t){var n=kA;kA|=2;var r=du();for(_A===e&&NA===t||(KA=null,hu(e,t));;)try{mu();break}catch(i){fu(e,i)}if(Fa(),kA=n,EA.current=r,null!==IA)throw Error(a(261));return _A=null,NA=0,QA}function mu(){for(;null!==IA;)wu(IA)}function vu(){for(;null!==IA&&!Xe();)wu(IA)}function wu(e){var t=BA(e.alternate,e,UA);e.memoizedProps=e.pendingProps,null===t?yu(e):IA=t,FA.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,UA)))return void(IA=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(IA=n);if(null===e)return QA=6,void(IA=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(IA=t);IA=t=e}while(null!==t);0===QA&&(QA=5)}function bu(e,t,n){var r=wt,i=SA.transition;try{SA.transition=null,wt=1,function(e,t,n,r){do{xu()}while(null!==qA);if(0!==(6&kA))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_A&&(IA=_A=null,NA=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||GA||(GA=!0,_u(tt,function(){return xu(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=SA.transition,SA.transition=null;var s=wt;wt=1;var A=kA;kA|=4,FA.current=null,function(e,t){if(ei=zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,A=-1,u=-1,l=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||0!==i&&3!==h.nodeType||(A=s+i),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(d=h.firstChild);)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++l===i&&(A=s),f===o&&++c===r&&(u=s),null!==(d=h.nextSibling))break;f=(h=f).parentNode}h=d}n=-1===A||-1===u?null:{start:A,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(b){Cu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}p=tA,tA=!1}(e,n),gA(n,e),dr(ti),zt=!!ei,ti=ei=null,e.current=n,vA(n,e,i),Ye(),kA=A,wt=s,SA.transition=o}else e.current=n;if(GA&&(GA=!1,qA=e,XA=i),o=e.pendingLanes,0===o&&(VA=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zA)throw zA=!1,e=WA,WA=null,e;0!==(1&XA)&&0!==e.tag&&xu(),o=e.pendingLanes,0!==(1&o)?e===JA?YA++:(YA=0,JA=e):YA=0,Hi()}(e,t,n,r)}finally{SA.transition=i,wt=r}return null}function xu(){if(null!==qA){var e=yt(XA),t=SA.transition,n=wt;try{if(SA.transition=null,wt=16>e?16:e,null===qA)var r=!1;else{if(e=qA,qA=null,XA=0,0!==(6&kA))throw Error(a(331));var i=kA;for(kA|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var A=o.deletions;if(null!==A){for(var u=0;u<A.length;u++){var l=A[u];for($s=l;null!==$s;){var c=$s;switch(c.tag){case 0:case 11:case 15:nA(8,c,o)}var h=c.child;if(null!==h)h.return=c,$s=h;else for(;null!==$s;){var f=(c=$s).sibling,d=c.return;if(aA(c),c===l){$s=null;break}if(null!==f){f.return=d,$s=f;break}$s=d}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nA(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,$s=v;break e}$s=o.return}}var w=e.current;for($s=w;null!==$s;){var y=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,$s=y;else e:for(s=w;null!==$s;){if(0!==(2048&(A=$s).flags))try{switch(A.tag){case 0:case 11:case 15:rA(9,A)}}catch(x){Cu(A,A.return,x)}if(A===s){$s=null;break e}var b=A.sibling;if(null!==b){b.return=A.return,$s=b;break e}$s=A.return}}if(kA=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,SA.transition=t}}return!1}function Bu(e,t,n){e=Oa(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Bu(e,e,n);else for(;null!==t;){if(3===t.tag){Bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===VA||!VA.has(r))){t=Oa(t,e=ds(t,e=us(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,_A===e&&(NA&n)===n&&(4===QA||3===QA&&(130023424&NA)===NA&&500>Je()-jA?hu(e,0):PA|=n),ru(e,t)}function Fu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Qa(e,t))&&(mt(e,t,n),ru(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fu(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Fu(e,n)}function _u(e,t){return Ge(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Iu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Uu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case B:return Ru(n.children,i,o,t);case C:s=8,i|=8;break;case E:return(e=Nu(12,n,t,2|i)).elementType=E,e.lanes=o,e;case _:return(e=Nu(13,n,t,i)).elementType=_,e.lanes=o,e;case I:return(e=Nu(19,n,t,i)).elementType=I,e.lanes=o,e;case L:return Du(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case F:s=10;break e;case S:s=9;break e;case k:s=11;break e;case N:s=14;break e;case U:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ru(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Tu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Pu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mu(e,t,n,r,i,a,o,s,A){return e=new Ou(e,t,n,s,A),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function ju(e){if(!e)return Si;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ui(n))return Ri(e,n,t)}return t}function Hu(e,t,n,r,i,a,o,s,A){return(e=Mu(n,r,!0,e,0,a,0,s,A)).context=ju(null),n=e.current,(a=Pa(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),ru(e,r),e}function Ku(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nu(e,i,o,a),Ma(e,i,o)),o}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}BA=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:_s(t),fa();break;case 5:Ja(t);break;case 1:Ui(t.type)&&Di(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fi(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fi(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ts(e,t,n):(Fi(Za,1&Za.current),null!==(e=zs(e,t,n))?e.sibling:null);Fi(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fi(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return zs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Ni(t,ki.current);_a(t,n),i=go(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=is,t.stateNode=i,i._reactInternals=t,As(t,r,e,n),t=ks(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Uu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Fs(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(_s(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ta(e,t),Ha(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=us(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=us(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=ba(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=zs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Ts(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ya(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Fi(xa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!_i.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var A=o.dependencies;if(null!==A){s=o.child;for(var u=A.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var c=(l=l.shared).pending;null===c?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o.return,n,t),A.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(A=s.alternate)&&(A.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return Bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ks(e,t),t.tag=1,Ui(r)?(e=!0,Di(t)):e=!1,_a(t,n),os(t,r,i),As(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function Zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=zu(o);s.call(e)}}Ku(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=zu(o);a.call(e)}}var o=Hu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[di]=o.current,Hr(8===e.nodeType?e.parentNode:e),lu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zu(A);s.call(e)}}var A=Mu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=A,e[di]=A.current,Hr(8===e.nodeType?e.parentNode:e),lu(function(){Ku(t,A,n,r)}),A}(n,t,e,i,r);return zu(o)}Xu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ku(e,t,null,null)},Xu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu(function(){Ku(null,e,null,null)}),t[di]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Tt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Je()),0===(6&kA)&&(HA=Je()+500,Hi()))}break;case 13:lu(function(){var t=Qa(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Vu(e,1)}},xt=function(e){if(13===e.tag){var t=Qa(e,134217728);if(null!==t)nu(t,e,134217728,eu());Vu(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tu(e),n=Qa(e,t);if(null!==n)nu(n,e,t,eu());Vu(e,t)}},Ct=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=uu,_e=lu;var el={usingClientEntryPoint:!1,Events:[wi,yi,bi,Fe,Se,uu]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Mu(e,1,!1,null,0,n,0,r,i),e[di]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,o,s),e[di]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(lu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3033:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>r(t,e,n)},3193:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},3359:(e,t,n)=>{"use strict";const r=n(8207),i=n(7458);e.exports=(e,t,n)=>{let a=null,o=null,s=null;try{s=new i(t,n)}catch(A){return null}return e.forEach(e=>{s.test(e)&&(a&&1!==o.compare(e)||(a=e,o=new r(a,n)))}),a}},3383:(e,t,n)=>{"use strict";const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=a(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"===typeof e)try{e=new l(e,this.options)}catch(t){return!1}return A(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,t).test(this.value):""===e.operator?""===e.value||new c(this.value,t).test(e.semver):(!(t=a(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(A(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(A(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=i;const a=n(6272),{safeRe:o,t:s}=n(1323),A=n(538),u=n(1411),l=n(8207),c=n(7458)},3390:(e,t,n)=>{"use strict";const r=n(4501);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},3974:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t,n,i,a)=>{"string"===typeof n&&(a=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,a).version}catch(o){return null}}},4074:(e,t,n)=>{"use strict";const r=n(7458);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),A=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||d}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var y=w.prototype=new v;y.constructor=w,p(y,m.prototype),y.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,B={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var A=arguments.length-2;if(1===A)a.children=r;else if(1<A){for(var u=Array(A),l=0;l<A;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(i in A=e.defaultProps)void 0===a[i]&&(a[i]=A[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:B.current}}function F(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var A=!1;if(null===e)A=!0;else switch(s){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case n:case r:A=!0}}if(A)return o=o(A=e),e=""===a?"."+k(A,0):a,b(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),_(o,t,i,"",function(e){return e})):null!=o&&(F(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||A&&A.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(A=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var l=a+k(s=e[u],u);A+=_(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)A+=_(s=s.value,t,i,l=a+k(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function I(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},L={transition:null},Q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:L,ReactCurrentOwner:B};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=B.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(u in t)x.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==A?A[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){A=Array(u);for(var l=0;l<u;l++)A[l]=arguments[l+2];i.children=A}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:A,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return U.current.useCallback(e,t)},t.useContext=function(e){return U.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return U.current.useDeferredValue(e)},t.useEffect=function(e,t){return U.current.useEffect(e,t)},t.useId=function(){return U.current.useId()},t.useImperativeHandle=function(e,t,n){return U.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return U.current.useMemo(e,t)},t.useReducer=function(e,t,n){return U.current.useReducer(e,t,n)},t.useRef=function(e){return U.current.useRef(e)},t.useState=function(e){return U.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return U.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return U.current.useTransition()},t.version="18.3.1"},4369:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)<=0},4371:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4501:(e,t,n)=>{"use strict";const r=n(8207);e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(i){if(!n)return null;throw i}}},4747:(e,t,n)=>{"use strict";const r=n(4501);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},4760:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t)=>new r(e,t).patch},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5094:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t)=>r(e,t,!0)},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function o(e){try{A(r.next(e))}catch(Tt){a(Tt)}}function s(e){try{A(r.throw(e))}catch(Tt){a(Tt)}}function A(e){e.done?n(e.value):i(e.value).then(o,s)}A((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return A([e,t])}}function A(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(Tt){a=[6,Tt],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},A=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},u=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<c.length;f++)h[c.charCodeAt(f)]=f;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<d.length;g++)p[d.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,A=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],a=p[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&a;return u},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},w=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},y=5,b=11,x=2,B=65536>>y,C=(1<<y)-1,E=B+(1024>>y)+32,F=65536>>b,S=(1<<b-y)-1,k=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},_=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},I=function(e,t){var n=m(e),r=Array.isArray(n)?w(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),a=24,o=k(i,a/2,r[4]/2),s=2===r[5]?k(i,(a+r[4])/2):_(r,Math.ceil((a+r[4])/4));return new N(r[0],r[1],r[2],r[3],o,s)},N=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>y])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>y)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=E-F+(e>>b),t=this.index[t],t+=e>>y&S,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Q=0;Q<U.length;Q++)L[U.charCodeAt(Q)]=Q;var R=50,D=1,T=2,P=3,O=4,M=5,j=7,H=8,K=9,z=10,W=11,V=12,G=13,q=14,X=15,Y=16,J=17,$=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,ae=25,oe=26,se=27,Ae=28,ue=29,le=30,ce=31,he=32,fe=33,de=34,pe=35,ge=36,me=37,ve=38,we=39,ye=40,be=41,xe=42,Be=43,Ce=[9001,65288],Ee="!",Fe="\xd7",Se="\xf7",ke=I("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),_e=[le,ge],Ie=[D,T,P,M],Ne=[z,H],Ue=[se,oe],Le=Ie.concat(Ne),Qe=[ve,we,ye,de,pe],Re=[X,G],De=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(e,a){var o=ke.get(e);if(o>R?(i.push(!0),o-=R):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(Y);if(o===O||o===W){if(0===a)return r.push(a),n.push(le);var s=n[a-1];return-1===Le.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(le))}return r.push(a),o===ce?n.push("strict"===t?te:me):o===xe||o===ue?n.push(le):o===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(le):void n.push(o)}),[r,n,i]},Te=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((A=r[++a])===t)return!0;if(A!==z)break}if(i===z)for(a=n;a>0;){var o=r[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=r.length;){var A;if((A=r[++s])===t)return!0;if(A!==z)break}if(o!==z)break}return!1},Pe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==z)return r;n--}return 0},Oe=function(e,t,n,r,i){if(0===n[r])return Fe;var a=r-1;if(Array.isArray(i)&&!0===i[a])return Fe;var o=a-1,s=a+1,A=t[a],u=o>=0?t[o]:0,l=t[s];if(A===T&&l===P)return Fe;if(-1!==Ie.indexOf(A))return Ee;if(-1!==Ie.indexOf(l))return Fe;if(-1!==Ne.indexOf(l))return Fe;if(Pe(a,t)===H)return Se;if(ke.get(e[a])===W)return Fe;if((A===he||A===fe)&&ke.get(e[s])===W)return Fe;if(A===j||l===j)return Fe;if(A===K)return Fe;if(-1===[z,G,X].indexOf(A)&&l===K)return Fe;if(-1!==[J,$,Z,ie,Ae].indexOf(l))return Fe;if(Pe(a,t)===ne)return Fe;if(Te(re,ne,a,t))return Fe;if(Te([J,$],te,a,t))return Fe;if(Te(V,V,a,t))return Fe;if(A===z)return Se;if(A===re||l===re)return Fe;if(l===Y||A===Y)return Se;if(-1!==[G,X,te].indexOf(l)||A===q)return Fe;if(u===ge&&-1!==Re.indexOf(A))return Fe;if(A===Ae&&l===ge)return Fe;if(l===ee)return Fe;if(-1!==_e.indexOf(l)&&A===ae||-1!==_e.indexOf(A)&&l===ae)return Fe;if(A===se&&-1!==[me,he,fe].indexOf(l)||-1!==[me,he,fe].indexOf(A)&&l===oe)return Fe;if(-1!==_e.indexOf(A)&&-1!==Ue.indexOf(l)||-1!==Ue.indexOf(A)&&-1!==_e.indexOf(l))return Fe;if(-1!==[se,oe].indexOf(A)&&(l===ae||-1!==[ne,X].indexOf(l)&&t[s+1]===ae)||-1!==[ne,X].indexOf(A)&&l===ae||A===ae&&-1!==[ae,Ae,ie].indexOf(l))return Fe;if(-1!==[ae,Ae,ie,J,$].indexOf(l))for(var c=a;c>=0;){if((h=t[c])===ae)return Fe;if(-1===[Ae,ie].indexOf(h))break;c--}if(-1!==[se,oe].indexOf(l))for(c=-1!==[J,$].indexOf(A)?o:a;c>=0;){var h;if((h=t[c])===ae)return Fe;if(-1===[Ae,ie].indexOf(h))break;c--}if(ve===A&&-1!==[ve,we,de,pe].indexOf(l)||-1!==[we,de].indexOf(A)&&-1!==[we,ye].indexOf(l)||-1!==[ye,pe].indexOf(A)&&l===ye)return Fe;if(-1!==Qe.indexOf(A)&&-1!==[ee,oe].indexOf(l)||-1!==Qe.indexOf(l)&&A===se)return Fe;if(-1!==_e.indexOf(A)&&-1!==_e.indexOf(l))return Fe;if(A===ie&&-1!==_e.indexOf(l))return Fe;if(-1!==_e.concat(ae).indexOf(A)&&l===ne&&-1===Ce.indexOf(e[s])||-1!==_e.concat(ae).indexOf(l)&&A===$)return Fe;if(A===be&&l===be){for(var f=n[a],d=1;f>0&&t[--f]===be;)d++;if(d%2!==0)return Fe}return A===he&&l===fe?Fe:Se},Me=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=De(e,t.lineBreak),r=n[0],i=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map(function(e){return-1!==[ae,le,xe].indexOf(e)?me:e}));var o="keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,i,o]},je=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=u(e),r=Me(n,t),i=r[0],a=r[1],o=r[2],s=n.length,A=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var e=Fe;l<s&&(e=Oe(n,a,i,++l,o))===Fe;);if(e!==Fe||l===s){var t=new je(n,e,A,l);return A=l,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,ze=2,We=4,Ve=8,Ge=10,qe=47,Xe=92,Ye=9,Je=32,$e=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,at=41,ot=95,st=45,At=33,ut=60,lt=62,ct=64,ht=91,ft=93,dt=61,pt=123,gt=63,mt=125,vt=124,wt=126,yt=128,bt=65533,xt=42,Bt=43,Ct=44,Et=58,Ft=59,St=46,kt=0,_t=8,It=11,Nt=14,Ut=31,Lt=127,Qt=-1,Rt=48,Dt=97,Tt=101,Pt=102,Ot=117,Mt=122,jt=65,Ht=69,Kt=70,zt=85,Wt=90,Vt=function(e){return e>=Rt&&e<=57},Gt=function(e){return e>=55296&&e<=57343},qt=function(e){return Vt(e)||e>=jt&&e<=Kt||e>=Dt&&e<=Pt},Xt=function(e){return e>=Dt&&e<=Mt},Yt=function(e){return e>=jt&&e<=Wt},Jt=function(e){return Xt(e)||Yt(e)},$t=function(e){return e>=yt},Zt=function(e){return e===Ge||e===Ye||e===Je},en=function(e){return Jt(e)||$t(e)||e===ot},tn=function(e){return en(e)||Vt(e)||e===st},nn=function(e){return e>=kt&&e<=_t||e===It||e>=Nt&&e<=Ut||e===Lt},rn=function(e,t){return e===Xe&&t!==Ge},an=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==Xe||!rn(e,t))},on=function(e,t,n){return e===Bt||e===st?!!Vt(t)||t===St&&Vt(n):Vt(e===St?t:e)},sn=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Vt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(l.apply(void 0,r),10):0;e[t]===St&&t++;for(var a=[];Vt(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(l.apply(void 0,a),10):0;e[t]!==Ht&&e[t]!==Tt||t++;var A=1;e[t]!==Bt&&e[t]!==st||(e[t]===st&&(A=-1),t++);for(var u=[];Vt(e[t]);)u.push(e[t++]);var c=u.length?parseInt(l.apply(void 0,u),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,A*c)},An={type:2},un={type:3},ln={type:4},cn={type:13},hn={type:8},fn={type:21},dn={type:9},pn={type:10},gn={type:11},mn={type:12},vn={type:14},wn={type:23},yn={type:1},bn={type:25},xn={type:24},Bn={type:26},Cn={type:27},En={type:28},Fn={type:29},Sn={type:31},kn={type:32},_n=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(u(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case $e:return this.consumeStringToken($e);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=an(t,n,r)?ze:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),cn;break;case rt:return this.consumeStringToken(rt);case it:return An;case at:return un;case xt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),vn;break;case Bt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return ln;case st:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(on(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(an(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===st&&s===lt)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case St:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===xt&&(A=this.consumeCodePoint())===qe)return this.consumeToken();if(A===Qt)return this.consumeToken()}break;case Et:return Bn;case Ft:return Cn;case ut:if(this.peekCodePoint(0)===At&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ct:var u=this.peekCodePoint(0),c=this.peekCodePoint(1),h=this.peekCodePoint(2);if(an(u,c,h))return{type:7,value:this.consumeName()};break;case ht:return En;case Xe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ft:return Fn;case dt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case pt:return gn;case mt:return mn;case Ot:case zt:var f=this.peekCodePoint(0),d=this.peekCodePoint(1);return f!==Bt||!qt(d)&&d!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),fn;break;case wt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;break;case Qt:return kn}return Zt(e)?(this.consumeWhiteSpace(),Sn):Vt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(l.apply(void 0,e.map(function(e){return e===gt?Rt:e})),16),end:parseInt(l.apply(void 0,e.map(function(e){return e===gt?Kt:e})),16)};var r=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];qt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===$e){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),wn)}for(;;){var r=this.consumeCodePoint();if(r===Qt||r===at)return{type:22,value:l.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wn);if(r===$e||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),wn;if(r===Xe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),wn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Qt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=l.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Qt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ge)return this._value.splice(0,n),yn;if(r===Xe){var i=this._value[n+1];i!==Qt&&void 0!==i&&(i===Ge?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=We,n=this.peekCodePoint(0);for(n!==Bt&&n!==st||e.push(this.consumeCodePoint());Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===St&&Vt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Ht||n===Tt)&&((r===Bt||r===st)&&Vt(i)||Vt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return an(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=l(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Gt(n)||n>1114111?bt:n}return e===Qt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=l(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),In=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new _n;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||On(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?kn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Nn=function(e){return 15===e.type},Un=function(e){return 17===e.type},Ln=function(e){return 20===e.type},Qn=function(e){return 0===e.type},Rn=function(e,t){return Ln(e)&&e.value===t},Dn=function(e){return 31!==e.type},Tn=function(e){return 31!==e.type&&4!==e.type},Pn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},On=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Mn=function(e){return 17===e.type||15===e.type},jn=function(e){return 16===e.type||Mn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:We},zn={type:16,number:50,flags:We},Wn={type:16,number:100,flags:We},Vn=function(e,t,n){var r=e[0],i=e[1];return[Gn(r,t),Gn("undefined"!==typeof i?i:r,n)]},Gn=function(e,t){if(16===e.type)return e.number/100*t;if(Nn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},qn="deg",Xn="grad",Yn="rad",Jn="turn",$n={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case qn:return Math.PI*t.number/180;case Xn:return Math.PI/200*t.number;case Yn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===qn||e.unit===Xn||e.unit===Yn||e.unit===Jn)},er=function(e){switch(e.filter(Ln).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,Wn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wn,Wn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wn,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=lr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=hr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Tn);if(3===n.length){var r=n.map(or),i=r[0],a=r[1],o=r[2];return ar(i,a,o,1)}if(4===n.length){var s=n.map(or),A=(i=s[0],a=s[1],o=s[2],s[3]);return ar(i,a,o,A)}return 0};function Ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var ur=function(e,t){var n=t.filter(Tn),r=n[0],i=n[1],a=n[2],o=n[3],s=(17===r.type?tr(r.number):$n.parse(e,r))/(2*Math.PI),A=jn(i)?i.number/100:0,u=jn(a)?a.number/100:0,l="undefined"!==typeof o&&jn(o)?Gn(o,1):1;if(0===A)return ar(255*u,255*u,255*u,1);var c=u<=.5?u*(A+1):u+A-u*A,h=2*u-c,f=Ar(h,c,s+1/3),d=Ar(h,c,s),p=Ar(h,c,s-1/3);return ar(255*f,255*d,255*p,l)},lr={hsl:ur,hsla:ur,rgb:sr,rgba:sr},cr=function(e,t){return nr.parse(e,In.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ln(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&jn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=Wn);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var A=Gn(s,t);A>a?i.push(A):i.push(a),a=A}else i.push(null)}var u=null;for(o=0;o<i.length;o++){var l=i[o];if(null===l)null===u&&(u=o);else if(null!==u){for(var c=o-u,h=(l-i[u-1])/(c+1),f=1;f<=c;f++)i[u+f-1]=h*f;u=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},mr=function(e,t,n){var r=t/2,i=n/2,a=Gn(e[0],t)-r,o=i-Gn(e[1],n);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,A=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[i,a-u,a+u,o-A,o+A]},wr=function(e,t){return Math.sqrt(e*e+t*t)},yr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],o=t[1],s=wr(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:0===e.shape?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)a=o=Math.min(wr(t,n),wr(t,n-i),wr(t-r,n),wr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=yr(r,i,t,n,!0),u=A[0],l=A[1];o=s*(a=wr(u-t,(l-n)/s))}break;case 1:0===e.shape?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)a=o=Math.max(wr(t,n),wr(t,n-i),wr(t-r,n),wr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var c=yr(r,i,t,n,!1);u=c[0],l=c[1],o=s*(a=wr(u-t,(l-n)/s))}}return Array.isArray(e.size)&&(a=Gn(e.size[0],r),o=2===e.size.length?Gn(e.size[1],i):a),[a,o]},xr=function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if(Zn(a))return void(n=($n.parse(e,a)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Br="closest-side",Cr="farthest-side",Er="closest-corner",Fr="farthest-corner",Sr="circle",kr="ellipse",_r="cover",Ir="contain",Nr=function(e,t){var n=0,r=3,i=[],a=[];return Pn(t).forEach(function(t,o){var s=!0;if(0===o?s=t.reduce(function(e,t){if(Ln(t))switch(t.value){case"center":return a.push(zn),!1;case"top":case"left":return a.push(Kn),!1;case"right":case"bottom":return a.push(Wn),!1}else if(jn(t)||Mn(t))return a.push(t),!1;return e},s):1===o&&(s=t.reduce(function(e,t){if(Ln(t))switch(t.value){case Sr:return n=0,!1;case kr:return n=1,!1;case Ir:case Br:return r=0,!1;case Cr:return r=1,!1;case Er:return r=2,!1;case _r:case Fr:return r=3,!1}else if(Mn(t)||jn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var A=pr(e,t);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},Ur=function(e){return 1===e.type},Lr=function(e){return 2===e.type},Qr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Tr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Rr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Tr[e.name])}var Dr,Tr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if(Zn(a))return void(n=$n.parse(e,a))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,i=[],a=[];return Pn(t).forEach(function(t,o){var s=!0;if(0===o){var A=!1;s=t.reduce(function(e,t){if(A)if(Ln(t))switch(t.value){case"center":return a.push(zn),e;case"top":case"left":return a.push(Kn),e;case"right":case"bottom":return a.push(Wn),e}else(jn(t)||Mn(t))&&a.push(t);else if(Ln(t))switch(t.value){case Sr:return n=0,!1;case kr:return n=1,!1;case"at":return A=!0,!1;case Br:return r=0,!1;case _r:case Cr:return r=1,!1;case Ir:case Er:return r=2,!1;case Fr:return r=3,!1}else if(Mn(t)||jn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var u=pr(e,t);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},"-moz-radial-gradient":Nr,"-ms-radial-gradient":Nr,"-o-radial-gradient":Nr,"-webkit-radial-gradient":Nr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,a=0,o=3,s=[];return Pn(t).forEach(function(t,n){var a=t[0];if(0===n){if(Ln(a)&&"linear"===a.value)return void(i=1);if(Ln(a)&&"radial"===a.value)return void(i=2)}if(18===a.type)if("from"===a.name){var o=nr.parse(e,a.values[0]);r.push({stop:Kn,color:o})}else if("to"===a.name)o=nr.parse(e,a.values[0]),r.push({stop:Wn,color:o});else if("color-stop"===a.name){var s=a.values.filter(Tn);if(2===s.length){o=nr.parse(e,s[1]);var A=s[0];Un(A)&&r.push({stop:{type:16,number:100*A.number,flags:A.flags},color:o})}}}),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}}},Pr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Tn(e)&&Rr(e)}).map(function(t){return Qr.parse(e,t)})}},Or={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ln(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Mr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(jn)}).map(Hn)}},jr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Ln).map(function(e){return e.value}).join(" ")}).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Dr||(Dr={}));var Kr,zr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Wr)})}},Wr=function(e){return Ln(e)||jn(e)},Vr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gr=Vr("top"),qr=Vr("right"),Xr=Vr("bottom"),Yr=Vr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(jn))}}},$r=Jr("top-left"),Zr=Jr("top-right"),ei=Jr("bottom-right"),ti=Jr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),ai=ni("bottom"),oi=ni("left"),si=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Nn(t)?t.number:0}}},Ai=si("top"),ui=si("right"),li=si("bottom"),ci=si("left"),hi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},di={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).reduce(function(e,t){return e|pi(t.value)},0)}},pi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var vi,wi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},yi={name:"line-height",initialValue:"normal",prefix:!1,type:4},bi=function(e,t){return Ln(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:jn(e)?Gn(e,t):t},xi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Qr.parse(e,t)}},Bi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ei=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Fi=Ei("top"),Si=Ei("right"),ki=Ei("bottom"),_i=Ei("left"),Ii={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ni={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ui=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Li=Ui("top"),Qi=Ui("right"),Ri=Ui("bottom"),Di=Ui("left"),Ti={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Pi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Oi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:hr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,i=0;i<t.length;i++){var a=t[i];Mn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n})}},Mi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ji={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Hi[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Hi={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,a,o,s]:null}},Ki={type:16,number:50,flags:We},zi=[Ki,Ki],Wi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(jn);return 2!==n.length?zi:[n[0],n[1]]}},Vi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vi||(vi={}));for(var Gi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},qi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:1}},Ji={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$i={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:Ln(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ln).map(function(e){return e.value})}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ia=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},oa={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Dn),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var A=s&&Un(s)?s.number:1;r.push({counter:o.value,increment:A})}}return r}},sa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Dn),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Ln(a)&&"none"!==a.value){var s=o&&Un(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},Aa={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(t){return Xi.parse(e,t)})}},ua={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Qn);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},la=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ca={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];Rn(a,"inset")?n.inset=!0:Mn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n})}},ha={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Ln).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},fa={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},da={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Nn(t)?t.number:0}},pa=function(){function e(e,t){var n,r;this.animationDuration=va(e,Aa,t.animationDuration),this.backgroundClip=va(e,fr,t.backgroundClip),this.backgroundColor=va(e,dr,t.backgroundColor),this.backgroundImage=va(e,Pr,t.backgroundImage),this.backgroundOrigin=va(e,Or,t.backgroundOrigin),this.backgroundPosition=va(e,Mr,t.backgroundPosition),this.backgroundRepeat=va(e,jr,t.backgroundRepeat),this.backgroundSize=va(e,zr,t.backgroundSize),this.borderTopColor=va(e,Gr,t.borderTopColor),this.borderRightColor=va(e,qr,t.borderRightColor),this.borderBottomColor=va(e,Xr,t.borderBottomColor),this.borderLeftColor=va(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=va(e,$r,t.borderTopLeftRadius),this.borderTopRightRadius=va(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=va(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=va(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=va(e,ri,t.borderTopStyle),this.borderRightStyle=va(e,ii,t.borderRightStyle),this.borderBottomStyle=va(e,ai,t.borderBottomStyle),this.borderLeftStyle=va(e,oi,t.borderLeftStyle),this.borderTopWidth=va(e,Ai,t.borderTopWidth),this.borderRightWidth=va(e,ui,t.borderRightWidth),this.borderBottomWidth=va(e,li,t.borderBottomWidth),this.borderLeftWidth=va(e,ci,t.borderLeftWidth),this.boxShadow=va(e,ca,t.boxShadow),this.color=va(e,hi,t.color),this.direction=va(e,fi,t.direction),this.display=va(e,di,t.display),this.float=va(e,gi,t.cssFloat),this.fontFamily=va(e,Zi,t.fontFamily),this.fontSize=va(e,ea,t.fontSize),this.fontStyle=va(e,ra,t.fontStyle),this.fontVariant=va(e,na,t.fontVariant),this.fontWeight=va(e,ta,t.fontWeight),this.letterSpacing=va(e,mi,t.letterSpacing),this.lineBreak=va(e,wi,t.lineBreak),this.lineHeight=va(e,yi,t.lineHeight),this.listStyleImage=va(e,xi,t.listStyleImage),this.listStylePosition=va(e,Bi,t.listStylePosition),this.listStyleType=va(e,Ci,t.listStyleType),this.marginTop=va(e,Fi,t.marginTop),this.marginRight=va(e,Si,t.marginRight),this.marginBottom=va(e,ki,t.marginBottom),this.marginLeft=va(e,_i,t.marginLeft),this.opacity=va(e,Yi,t.opacity);var i=va(e,Ii,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=va(e,Ni,t.overflowWrap),this.paddingTop=va(e,Li,t.paddingTop),this.paddingRight=va(e,Qi,t.paddingRight),this.paddingBottom=va(e,Ri,t.paddingBottom),this.paddingLeft=va(e,Di,t.paddingLeft),this.paintOrder=va(e,ha,t.paintOrder),this.position=va(e,Pi,t.position),this.textAlign=va(e,Ti,t.textAlign),this.textDecorationColor=va(e,Ji,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=va(e,$i,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=va(e,Oi,t.textShadow),this.textTransform=va(e,Mi,t.textTransform),this.transform=va(e,ji,t.transform),this.transformOrigin=va(e,Wi,t.transformOrigin),this.visibility=va(e,Vi,t.visibility),this.webkitTextStrokeColor=va(e,fa,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=va(e,da,t.webkitTextStrokeWidth),this.wordBreak=va(e,Gi,t.wordBreak),this.zIndex=va(e,qi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return ia(this.display,4)||ia(this.display,33554432)||ia(this.display,268435456)||ia(this.display,536870912)||ia(this.display,67108864)||ia(this.display,134217728)},e}(),ga=function(){function e(e,t){this.content=va(e,aa,t.content),this.quotes=va(e,ua,t.quotes)}return e}(),ma=function(){function e(e,t){this.counterIncrement=va(e,oa,t.counterIncrement),this.counterReset=va(e,sa,t.counterReset)}return e}(),va=function(e,t,n){var r=new _n,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var a=new In(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Ln(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return $n.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Qr.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Mn(s)?s:Kn;case"length-percentage":var A=a.parseComponentValue();return jn(A)?A:Kn;case"time":return Xi.parse(e,a.parseComponentValue())}}},wa="data-html2canvas-debug",ya=function(e){switch(e.getAttribute(wa)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ba=function(e,t){var n=ya(e);return 1===n||t===n},xa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ba(t,3),this.styles=new pa(e,window.getComputedStyle(t,null)),ls(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),ba(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ea="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Fa=0;Fa<Ca.length;Fa++)Ea[Ca.charCodeAt(Fa)]=Fa;for(var Sa=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,A=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=Ea[e.charCodeAt(t)],r=Ea[e.charCodeAt(t+1)],i=Ea[e.charCodeAt(t+2)],a=Ea[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&a;return u},ka=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},_a=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ia=5,Na=11,Ua=2,La=65536>>Ia,Qa=(1<<Ia)-1,Ra=La+(1024>>Ia)+32,Da=65536>>Na,Ta=(1<<Na-Ia)-1,Pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Oa=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ma=function(e,t){var n=Sa(e),r=Array.isArray(n)?_a(n):new Uint32Array(n),i=Array.isArray(n)?ka(n):new Uint16Array(n),a=24,o=Pa(i,a/2,r[4]/2),s=2===r[5]?Pa(i,(a+r[4])/2):Oa(r,Math.ceil((a+r[4])/4));return new ja(r[0],r[1],r[2],r[3],o,s)},ja=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ia])<<Ua)+(e&Qa),this.data[t];if(e<=65535)return t=((t=this.index[La+(e-55296>>Ia)])<<Ua)+(e&Qa),this.data[t];if(e<this.highStart)return t=Ra-Da+(e>>Na),t=this.index[t],t+=e>>Ia&Ta,t=((t=this.index[t])<<Ua)+(e&Qa),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256),za=0;za<Ha.length;za++)Ka[Ha.charCodeAt(za)]=za;var Wa,Va=1,Ga=2,qa=3,Xa=4,Ya=5,Ja=7,$a=8,Za=9,eo=10,to=11,no=12,ro=13,io=14,ao=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Ao=Ma(Ba),uo="\xd7",lo="\xf7",co=function(e){return Ao.get(e)},ho=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===Ga&&o===qa)return uo;if(a===Ga||a===qa||a===Xa)return lo;if(o===Ga||o===qa||o===Xa)return lo;if(a===$a&&-1!==[$a,Za,to,no].indexOf(o))return uo;if((a===to||a===Za)&&(o===Za||o===eo))return uo;if((a===no||a===eo)&&o===eo)return uo;if(o===ro||o===Ya)return uo;if(o===Ja)return uo;if(a===Va)return uo;if(a===ro&&o===io){for(;i===Ya;)i=t[--r];if(i===io)return uo}if(a===ao&&o===ao){for(var s=0;i===ao;)s++,i=t[--r];if(s%2===0)return uo}return lo},fo=function(e){var t=oo(e),n=t.length,r=0,i=0,a=t.map(co);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=uo;r<n&&(e=ho(t,a,++r))===uo;);if(e!==uo||r===n){var o=so.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=u(r.data).map(function(e){return l(e)}),a=0,o={},s=i.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s});return e.body.removeChild(t),s},vo=function(){return"undefined"!==typeof(new Image).crossOrigin},wo=function(){return"string"===typeof(new XMLHttpRequest).responseType},yo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Tt){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=Bo(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Co(o).then(function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height=n+"px",bo(i)?Co(Bo(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Bo=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Co=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Eo={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(Eo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Eo.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(Eo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yo(document);return Object.defineProperty(Eo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xo(document):Promise.resolve(!1);return Object.defineProperty(Eo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vo();return Object.defineProperty(Eo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wo();return Object.defineProperty(Eo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Eo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Eo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Fo=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),So=function(e,t,n,r){var i=Uo(t,n),a=[],s=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Eo.SUPPORT_RANGE_BOUNDS){var i=_o(r,s,t.length).getClientRects();if(i.length>1){var A=Io(t),u=0;A.forEach(function(t){a.push(new Fo(t,o.fromDOMRectList(e,_o(r,u+s,t.length).getClientRects()))),u+=t.length})}else a.push(new Fo(t,o.fromDOMRectList(e,i)))}else{var l=r.splitText(t.length);a.push(new Fo(t,ko(e,r))),r=l}else Eo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),a},ko=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return o.EMPTY},_o=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Io=function(e){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return po(e)},No=function(e,t){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Qo(e,t)},Uo=function(e,t){return 0!==t.letterSpacing?Io(e):No(e,t)},Lo=[32,160,4961,65792,65793,4153,4241],Qo=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],a=function(){if(n.value){var e=n.value.slice(),t=u(e),r="";t.forEach(function(e){-1===Lo.indexOf(e)?r+=l(e):(r.length&&i.push(r),i.push(l(e)),r="")}),r.length&&i.push(r)}};!(n=r.next()).done;)a();return i},Ro=function(){function e(e,t,n){this.text=Do(t.data,n.textTransform),this.textBounds=So(e,this.text,n,t)}return e}(),Do=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(To,Po);case 2:return e.toUpperCase();default:return e}},To=/(^|\s|:|-|\(|\))([a-z])/g,Po=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Oo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xa),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xa),jo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=s(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xa),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),Ko=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xa),zo=[{type:15,flags:0,unit:"px",number:3}],Wo=[{type:16,flags:0,number:50}],Vo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Go=function(e){var t=e.type===Yo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},qo="checkbox",Xo="radio",Yo="password",Jo=707406591,$o=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Go(n),r.type!==qo&&r.type!==Xo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Vo(r.bounds)),r.type){case qo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zo;break;case Xo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Wo}return r}return t(n,e),n}(xa),Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(xa),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=as(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?cr(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,a=n.contentWindow.document.body?cr(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(i)?rr(a)?r.styles.backgroundColor:a:i}}catch(Tt){}return r}return t(n,e),n}(xa),ns=["OL","UL","MENU"],rs=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,As(i)&&i.data.trim().length>0)n.textNodes.push(new Ro(e,i,n.styles));else if(us(i))if(Fs(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return rs(e,t,n,r)});else{var o=is(e,i);o.styles.isVisible()&&(os(i,o,r)?o.flags|=4:ss(o.styles)&&(o.flags|=2),-1!==ns.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?rs(e,i.shadowRoot,o,r):Cs(i)||gs(i)||Es(i)||rs(e,i,o,r))}},is=function(e,t){return ys(t)?new Oo(e,t):vs(t)?new Mo(e,t):gs(t)?new jo(e,t):hs(t)?new Ho(e,t):fs(t)?new Ko(e,t):ds(t)?new $o(e,t):Es(t)?new Zo(e,t):Cs(t)?new es(e,t):bs(t)?new ts(e,t):new xa(e,t)},as=function(e,t){var n=is(e,t);return n.flags|=4,rs(e,t,n,n),n},os=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ms(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},As=function(e){return e.nodeType===Node.TEXT_NODE},us=function(e){return e.nodeType===Node.ELEMENT_NODE},ls=function(e){return us(e)&&"undefined"!==typeof e.style&&!cs(e)},cs=function(e){return"object"===typeof e.className},hs=function(e){return"LI"===e.tagName},fs=function(e){return"OL"===e.tagName},ds=function(e){return"INPUT"===e.tagName},ps=function(e){return"HTML"===e.tagName},gs=function(e){return"svg"===e.tagName},ms=function(e){return"BODY"===e.tagName},vs=function(e){return"CANVAS"===e.tagName},ws=function(e){return"VIDEO"===e.tagName},ys=function(e){return"IMG"===e.tagName},bs=function(e){return"IFRAME"===e.tagName},xs=function(e){return"STYLE"===e.tagName},Bs=function(e){return"SCRIPT"===e.tagName},Cs=function(e){return"TEXTAREA"===e.tagName},Es=function(e){return"SELECT"===e.tagName},Fs=function(e){return"SLOT"===e.tagName},Ss=function(e){return e.tagName.indexOf("-")>0},ks=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return i&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),a},e}(),_s={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Is={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ns={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Us={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ls=function(e,t,n,r,i,a){return e<t||e>n?Vs(e,i,a.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+a},Qs=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Rs=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(Qs(Math.abs(e),a,r,function(e){return l(Math.floor(e%a)+t)})+i)},Ds=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Qs(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Ts=1,Ps=2,Os=4,Ms=8,js=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Vs(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var A=0;o>0&&A<=4;A++){var u=o%10;0===u&&ia(a,Ts)&&""!==s?s=t[u]+s:u>1||1===u&&0===A||1===u&&1===A&&ia(a,Ps)||1===u&&1===A&&ia(a,Os)&&e>100||1===u&&A>1&&ia(a,Ms)?s=t[u]+(A>0?n[A-1]:"")+s:1===u&&A>0&&(s=n[A-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},Hs="\u5341\u767e\u5343\u842c",Ks="\u62fe\u4f70\u4edf\u842c",zs="\u30de\u30a4\u30ca\u30b9",Ws="\ub9c8\uc774\ub108\uc2a4",Vs=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var s=Rs(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ds(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Ls(e,1,3999,_s,3,r).toLowerCase();case 7:return Ls(e,1,3999,_s,3,r);case 8:return Rs(e,945,969,!1,r);case 9:return Rs(e,97,122,!1,r);case 10:return Rs(e,65,90,!1,r);case 11:return Rs(e,1632,1641,!0,r);case 12:case 49:return Ls(e,1,9999,Is,3,r);case 35:return Ls(e,1,9999,Is,3,r).toLowerCase();case 13:return Rs(e,2534,2543,!0,r);case 14:case 30:return Rs(e,6112,6121,!0,r);case 15:return Ds(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Ds(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8ca0",i,Ps|Os|Ms);case 47:return js(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ks,"\u8ca0",i,Ts|Ps|Os|Ms);case 42:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8d1f",i,Ps|Os|Ms);case 41:return js(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ks,"\u8d1f",i,Ts|Ps|Os|Ms);case 26:return js(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",zs,i,0);case 25:return js(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",zs,i,Ts|Ps|Os);case 31:return js(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ws,a,Ts|Ps|Os);case 33:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ws,a,0);case 32:return js(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ws,a,Ts|Ps|Os);case 18:return Rs(e,2406,2415,!0,r);case 20:return Ls(e,1,19999,Us,3,r);case 21:return Rs(e,2790,2799,!0,r);case 22:return Rs(e,2662,2671,!0,r);case 22:return Ls(e,1,10999,Ns,3,r);case 23:return Ds(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ds(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Rs(e,3302,3311,!0,r);case 28:return Ds(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Ds(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Rs(e,3792,3801,!0,r);case 37:return Rs(e,6160,6169,!0,r);case 38:return Rs(e,4160,4169,!0,r);case 39:return Rs(e,2918,2927,!0,r);case 40:return Rs(e,1776,1785,!0,r);case 43:return Rs(e,3046,3055,!0,r);case 44:return Rs(e,3174,3183,!0,r);case 45:return Rs(e,3664,3673,!0,r);case 46:return Rs(e,3872,3881,!0,r);default:return Rs(e,48,57,!0,r)}},Gs="data-html2canvas-ignore",qs=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new ks,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Ys(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,A=a.contentWindow,u=A.document,l=Zs(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(iA),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$s(u)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(u,n)}).then(function(){return a})]:[2,a]}})})});return u.open(),u.write(nA(document.doctype)+"<html></html>"),rA(this.referenceElement.ownerDocument,o,s),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),l},e.prototype.createElementClone=function(e){if(ba(e,2),vs(e))return this.createCanvasClone(e);if(ws(e))return this.createVideoClone(e);if(xs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return ys(t)&&(ys(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ss(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tA(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Tt){if(this.context.logger.error("Unable to access cssRules property",Tt),"SecurityError"!==Tt.name)throw Tt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Tt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Tt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Tt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){us(t)&&(Bs(t)||t.hasAttribute(Gs)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&us(t)&&xs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(us(i)&&Fs(i)&&"function"===typeof i.assignedNodes){var a=i.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(As(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&us(e)&&(ls(e)||cs(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ls(r)&&(this.clonedReferenceElement=r),ms(r)&&lA(r);var s=this.counters.parse(new ma(this.context,i)),A=this.resolvePseudoContent(e,r,a,Wa.BEFORE);Ss(e)&&(t=!0),ws(e)||this.cloneChildNodes(e,r,t),A&&r.insertBefore(A,r.firstChild);var u=this.resolvePseudoContent(e,r,o,Wa.AFTER);return u&&r.appendChild(u),this.counters.pop(s),(i&&(this.options.copyStyles||cs(e))&&!bs(e)||t)&&tA(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Cs(e)||Es(e))&&(Cs(r)||Es(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ma(this.context,n));var s=new ga(this.context,n),A=o.createElement("html2canvaspseudoelement");tA(n,A),s.content.forEach(function(t){if(0===t.type)A.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",A.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Ln);r.length&&A.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Tn),u=a[0],l=a[1];if(u&&Ln(u)){var c=i.counters.getCounterValue(u.value),h=l&&Ln(l)?Ci.parse(i.context,l.value):3;A.appendChild(o.createTextNode(Vs(c,h,!1)))}}else if("counters"===t.name){var f=t.values.filter(Tn),d=(u=f[0],f[1]);if(l=f[2],u&&Ln(u)){var p=i.counters.getCounterValues(u.value),g=l&&Ln(l)?Ci.parse(i.context,l.value):3,m=d&&0===d.type?d.value:"",v=p.map(function(e){return Vs(e,g,!1)}).join(m);A.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":A.appendChild(o.createTextNode(la(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(la(s.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(t.value))}}),A.className=sA+" "+AA;var u=r===Wa.BEFORE?" "+sA:" "+AA;return cs(t)?t.className.baseValue+=u:t.className+=u,A}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Wa||(Wa={}));var Xs,Ys=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Gs,"true"),e.body.appendChild(n),n},Js=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},$s=function(e){return Promise.all([].slice.call(e.images,0).map(Js))},Zs=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))},50)}})},eA=["all","d","content"],tA=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===eA.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nA=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rA=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iA=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},aA=":before",oA=":after",sA="___html2canvas___pseudoelement_before",AA="___html2canvas___pseudoelement_after",uA='{\n    content: "" !important;\n    display: none !important;\n}',lA=function(e){cA(e,"."+sA+aA+uA+"\n         ."+AA+oA+uA)},cA=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},hA=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),fA=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:yA(e)||mA(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o=this;return i(this,function(i){switch(i.label){case 0:return t=hA.isSameOrigin(e),n=!vA(e)&&!0===this._options.useCORS&&Eo.SUPPORT_CORS_IMAGES&&!t,r=!vA(e)&&!t&&!yA(e)&&"string"===typeof this._options.proxy&&Eo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vA(e)||yA(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(wA(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,a){var o=Eo.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(s.response)}else a("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=a;var A=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var u=t._options.imageTimeout;s.timeout=u,s.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+r)}}s.send()})},e}(),dA=/^data:image\/svg\+xml/i,pA=/^data:image\/.*;base64,/i,gA=/^data:image\/.*/i,mA=function(e){return Eo.SUPPORT_SVG_DRAWING||!bA(e)},vA=function(e){return gA.test(e)},wA=function(e){return pA.test(e)},yA=function(e){return"blob"===e.substr(0,4)},bA=function(e){return"svg"===e.substr(-3).toLowerCase()||dA.test(e)},xA=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),BA=function(e,t,n){return new xA(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},CA=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=BA(this.start,this.startControl,t),i=BA(this.startControl,this.endControl,t),a=BA(this.endControl,this.end,t),o=BA(r,i,t),s=BA(i,a,t),A=BA(o,s,t);return n?new e(this.start,r,o,A):new e(A,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),EA=function(e){return 1===e.type},FA=function(){function e(e){var t=e.styles,n=e.bounds,r=Vn(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Vn(t.borderTopRightRadius,n.width,n.height),s=o[0],A=o[1],u=Vn(t.borderBottomRightRadius,n.width,n.height),l=u[0],c=u[1],h=Vn(t.borderBottomLeftRadius,n.width,n.height),f=h[0],d=h[1],p=[];p.push((i+s)/n.width),p.push((f+l)/n.width),p.push((a+d)/n.height),p.push((A+c)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,a/=g,s/=g,A/=g,l/=g,c/=g,f/=g,d/=g);var m=n.width-s,v=n.height-c,w=n.width-l,y=n.height-d,b=t.borderTopWidth,x=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,E=Gn(t.paddingTop,e.bounds.width),F=Gn(t.paddingRight,e.bounds.width),S=Gn(t.paddingBottom,e.bounds.width),k=Gn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?SA(n.left+C/3,n.top+b/3,i-C/3,a-b/3,Xs.TOP_LEFT):new xA(n.left+C/3,n.top+b/3),this.topRightBorderDoubleOuterBox=i>0||a>0?SA(n.left+m,n.top+b/3,s-x/3,A-b/3,Xs.TOP_RIGHT):new xA(n.left+n.width-x/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=l>0||c>0?SA(n.left+w,n.top+v,l-x/3,c-B/3,Xs.BOTTOM_RIGHT):new xA(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=f>0||d>0?SA(n.left+C/3,n.top+y,f-C/3,d-B/3,Xs.BOTTOM_LEFT):new xA(n.left+C/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?SA(n.left+2*C/3,n.top+2*b/3,i-2*C/3,a-2*b/3,Xs.TOP_LEFT):new xA(n.left+2*C/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||a>0?SA(n.left+m,n.top+2*b/3,s-2*x/3,A-2*b/3,Xs.TOP_RIGHT):new xA(n.left+n.width-2*x/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=l>0||c>0?SA(n.left+w,n.top+v,l-2*x/3,c-2*B/3,Xs.BOTTOM_RIGHT):new xA(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=f>0||d>0?SA(n.left+2*C/3,n.top+y,f-2*C/3,d-2*B/3,Xs.BOTTOM_LEFT):new xA(n.left+2*C/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||a>0?SA(n.left+C/2,n.top+b/2,i-C/2,a-b/2,Xs.TOP_LEFT):new xA(n.left+C/2,n.top+b/2),this.topRightBorderStroke=i>0||a>0?SA(n.left+m,n.top+b/2,s-x/2,A-b/2,Xs.TOP_RIGHT):new xA(n.left+n.width-x/2,n.top+b/2),this.bottomRightBorderStroke=l>0||c>0?SA(n.left+w,n.top+v,l-x/2,c-B/2,Xs.BOTTOM_RIGHT):new xA(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=f>0||d>0?SA(n.left+C/2,n.top+y,f-C/2,d-B/2,Xs.BOTTOM_LEFT):new xA(n.left+C/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||a>0?SA(n.left,n.top,i,a,Xs.TOP_LEFT):new xA(n.left,n.top),this.topRightBorderBox=s>0||A>0?SA(n.left+m,n.top,s,A,Xs.TOP_RIGHT):new xA(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||c>0?SA(n.left+w,n.top+v,l,c,Xs.BOTTOM_RIGHT):new xA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||d>0?SA(n.left,n.top+y,f,d,Xs.BOTTOM_LEFT):new xA(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?SA(n.left+C,n.top+b,Math.max(0,i-C),Math.max(0,a-b),Xs.TOP_LEFT):new xA(n.left+C,n.top+b),this.topRightPaddingBox=s>0||A>0?SA(n.left+Math.min(m,n.width-x),n.top+b,m>n.width+x?0:Math.max(0,s-x),Math.max(0,A-b),Xs.TOP_RIGHT):new xA(n.left+n.width-x,n.top+b),this.bottomRightPaddingBox=l>0||c>0?SA(n.left+Math.min(w,n.width-C),n.top+Math.min(v,n.height-B),Math.max(0,l-x),Math.max(0,c-B),Xs.BOTTOM_RIGHT):new xA(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=f>0||d>0?SA(n.left+C,n.top+Math.min(y,n.height-B),Math.max(0,f-C),Math.max(0,d-B),Xs.BOTTOM_LEFT):new xA(n.left+C,n.top+n.height-B),this.topLeftContentBox=i>0||a>0?SA(n.left+C+k,n.top+b+E,Math.max(0,i-(C+k)),Math.max(0,a-(b+E)),Xs.TOP_LEFT):new xA(n.left+C+k,n.top+b+E),this.topRightContentBox=s>0||A>0?SA(n.left+Math.min(m,n.width+C+k),n.top+b+E,m>n.width+C+k?0:s-C+k,A-(b+E),Xs.TOP_RIGHT):new xA(n.left+n.width-(x+F),n.top+b+E),this.bottomRightContentBox=l>0||c>0?SA(n.left+Math.min(w,n.width-(C+k)),n.top+Math.min(v,n.height+b+E),Math.max(0,l-(x+F)),c-(B+S),Xs.BOTTOM_RIGHT):new xA(n.left+n.width-(x+F),n.top+n.height-(B+S)),this.bottomLeftContentBox=f>0||d>0?SA(n.left+C+k,n.top+y,Math.max(0,f-(C+k)),d-(B+S),Xs.BOTTOM_LEFT):new xA(n.left+C+k,n.top+n.height-(B+S))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xs||(Xs={}));var SA=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,A=e+n,u=t+r;switch(i){case Xs.TOP_LEFT:return new CA(new xA(e,u),new xA(e,u-s),new xA(A-o,t),new xA(A,t));case Xs.TOP_RIGHT:return new CA(new xA(e,t),new xA(e+o,t),new xA(A,u-s),new xA(A,u));case Xs.BOTTOM_RIGHT:return new CA(new xA(A,t),new xA(A,t+s),new xA(e+o,u),new xA(e,u));case Xs.BOTTOM_LEFT:default:return new CA(new xA(A,u),new xA(A-o,u),new xA(e,t+s),new xA(e,t))}},kA=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},_A=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},IA=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},NA=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),UA=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),LA=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),QA=function(e){return 0===e.type},RA=function(e){return 1===e.type},DA=function(e){return 2===e.type},TA=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},PA=function(e,t,n,r,i){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e})},OA=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),MA=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new FA(this.container),this.container.styles.opacity<1&&this.effects.push(new LA(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new NA(n,r,i))}if(0!==this.container.styles.overflowX){var a=kA(this.curves),o=IA(this.curves);TA(a,o)?this.effects.push(new UA(a,6)):(this.effects.push(new UA(a,2)),this.effects.push(new UA(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!RA(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=kA(n.curves),o=IA(n.curves);TA(a,o)||r.unshift(new UA(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter(function(t){return ia(t.target,e)})},e}(),jA=function(e,t,n,r){e.container.elements.forEach(function(i){var a=ia(i.flags,4),o=ia(i.flags,2),s=new MA(i,e);ia(i.styles.display,2048)&&r.push(s);var A=ia(i.flags,8)?[]:r;if(a||o){var u=a||i.styles.isPositioned()?n:t,l=new OA(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var h=0;u.negativeZIndex.some(function(e,t){return c>e.element.container.styles.zIndex.order?(h=t,!1):h>0}),u.negativeZIndex.splice(h,0,l)}else if(c>0){var f=0;u.positiveZIndex.some(function(e,t){return c>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0}),u.positiveZIndex.splice(f,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);jA(s,l,a?l:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),jA(s,t,n,A);ia(i.flags,8)&&HA(i,A)})},HA=function(e,t){for(var n=e instanceof Ko?e.start:1,r=e instanceof Ko&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Ho&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Vs(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},KA=function(e){var t=new MA(e,null),n=new OA(t),r=[];return jA(t,n,n,r),HA(t.container,r),n},zA=function(e,t){switch(t){case 0:return XA(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return XA(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return XA(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return XA(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},WA=function(e,t){switch(t){case 0:return XA(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return XA(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return XA(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return XA(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},VA=function(e,t){switch(t){case 0:return XA(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return XA(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return XA(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return XA(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},GA=function(e,t){switch(t){case 0:return qA(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qA(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qA(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return qA(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qA=function(e,t){var n=[];return EA(e)?n.push(e.subdivide(.5,!1)):n.push(e),EA(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},XA=function(e,t,n,r){var i=[];return EA(e)?i.push(e.subdivide(.5,!1)):i.push(e),EA(n)?i.push(n.subdivide(.5,!0)):i.push(n),EA(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),EA(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},YA=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},JA=function(e){var t=e.styles,n=e.bounds,r=Gn(t.paddingLeft,n.width),i=Gn(t.paddingRight,n.width),a=Gn(t.paddingTop,n.width),o=Gn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},$A=function(e,t){return 0===e?t.bounds:2===e?JA(t):YA(t)},ZA=function(e,t){return 0===e?t.bounds:2===e?JA(t):YA(t)},eu=function(e,t,n){var r=$A(iu(e.styles.backgroundOrigin,t),e),i=ZA(iu(e.styles.backgroundClip,t),e),a=ru(iu(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],A=Vn(iu(e.styles.backgroundPosition,t),r.width-o,r.height-s);return[au(iu(e.styles.backgroundRepeat,t),A,a,r,i),Math.round(r.left+A[0]),Math.round(r.top+A[1]),o,s]},tu=function(e){return Ln(e)&&e.value===Dr.AUTO},nu=function(e){return"number"===typeof e},ru=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(jn(o)&&s&&jn(s))return[Gn(o,n.width),Gn(s,n.height)];var A=nu(a);if(Ln(o)&&(o.value===Dr.CONTAIN||o.value===Dr.COVER))return nu(a)?n.width/n.height<a!==(o.value===Dr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var u=nu(r),l=nu(i),c=u||l;if(tu(o)&&(!s||tu(s)))return u&&l?[r,i]:A||c?c&&A?[u?r:i*a,l?i:r/a]:[u?r:n.width,l?i:n.height]:[n.width,n.height];if(A){var h=0,f=0;return jn(o)?h=Gn(o,n.width):jn(s)&&(f=Gn(s,n.height)),tu(o)?h=f*a:s&&!tu(s)||(f=h/a),[h,f]}var d=null,p=null;if(jn(o)?d=Gn(o,n.width):s&&jn(s)&&(p=Gn(s,n.height)),null===d||s&&!tu(s)||(p=u&&l?d/r*i:n.height),null!==p&&tu(o)&&(d=u&&l?p/i*r:n.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},iu=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},au=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],A=n[1];switch(e){case 2:return[new xA(Math.round(r.left),Math.round(r.top+o)),new xA(Math.round(r.left+r.width),Math.round(r.top+o)),new xA(Math.round(r.left+r.width),Math.round(A+r.top+o)),new xA(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new xA(Math.round(r.left+a),Math.round(r.top)),new xA(Math.round(r.left+a+s),Math.round(r.top)),new xA(Math.round(r.left+a+s),Math.round(r.height+r.top)),new xA(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new xA(Math.round(r.left+a),Math.round(r.top+o)),new xA(Math.round(r.left+a+s),Math.round(r.top+o)),new xA(Math.round(r.left+a+s),Math.round(r.top+o+A)),new xA(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new xA(Math.round(i.left),Math.round(i.top)),new xA(Math.round(i.left+i.width),Math.round(i.top)),new xA(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xA(Math.round(i.left),Math.round(i.height+i.top))]}},ou="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",su="Hidden Text",Au=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=ou,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(su)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(su)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),uu=function(){function e(e,t){this.context=e,this.options=t}return e}(),lu=1e4,cu=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Au(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),DA(e)&&(this.ctx.globalAlpha=e.opacity),QA(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),RA(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return ia(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Io(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=gu(e.fontFamily).join(", "),r=Nn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,o,s,A,u,l,c=this;return i(this,function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(a,o),A=s.baseline,u=s.middle,l=t.paintOrder,e.textBounds.forEach(function(e){l.forEach(function(n){switch(n){case 0:c.ctx.fillStyle=ir(t.color),c.renderTextWithLetterSpacing(e,t.letterSpacing,A);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){c.ctx.shadowColor=ir(n.color),c.ctx.shadowOffsetX=n.offsetX.number*c.options.scale,c.ctx.shadowOffsetY=n.offsetY.number*c.options.scale,c.ctx.shadowBlur=n.blur.number,c.renderTextWithLetterSpacing(e,t.letterSpacing,A)}),c.ctx.shadowColor="",c.ctx.shadowOffsetX=0,c.ctx.shadowOffsetY=0,c.ctx.shadowBlur=0),t.textDecorationLine.length&&(c.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:c.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:c.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:c.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+u),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(c.ctx.strokeStyle=ir(t.webkitTextStrokeColor),c.ctx.lineWidth=t.webkitTextStrokeWidth,c.ctx.lineJoin=window.chrome?"miter":"round",c.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+A)),c.ctx.strokeStyle="",c.ctx.lineWidth=0,c.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=JA(e),i=IA(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b;return i(this,function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,s=0,A=t.textNodes,i.label=1;case 1:return s<A.length?(u=A[s],[4,this.renderTextNode(u,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Oo))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Mo&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof jo))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=i.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof $o&&(c=Math.min(t.bounds.width,t.bounds.height),t.type===qo?t.checked&&(this.ctx.save(),this.path([new xA(t.bounds.left+.39363*c,t.bounds.top+.79*c),new xA(t.bounds.left+.16*c,t.bounds.top+.5549*c),new xA(t.bounds.left+.27347*c,t.bounds.top+.44071*c),new xA(t.bounds.left+.39694*c,t.bounds.top+.5649*c),new xA(t.bounds.left+.72983*c,t.bounds.top+.23*c),new xA(t.bounds.left+.84*c,t.bounds.top+.34085*c),new xA(t.bounds.left+.39363*c,t.bounds.top+.79*c)]),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore()):t.type===Xo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+c/2,t.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore())),hu(t)&&t.value.length){switch(h=this.createFontStyle(a),y=h[0],f=h[1],d=this.fontMetrics.getMetrics(y,f).baseline,this.ctx.font=y,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=du(t.styles.textAlign),b=JA(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}g=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new xA(b.left,b.top),new xA(b.left+b.width,b.top),new xA(b.left+b.width,b.top+b.height),new xA(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fo(t.value,g),a.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ia(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,w=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(a)[0],this.ctx.font=y,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(t.bounds.left,t.bounds.top+Gn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bi(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fo(e.listValue,b),a.letterSpacing,bi(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,A,u,l,c,h,f,d,p,g;return i(this,function(i){switch(i.label){case 0:return ia(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(g=a[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:A=0,u=e.nonPositionedInlineLevel,i.label=15;case 15:return A<u.length?(g=u[A],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return A++,[3,15];case 18:l=0,c=e.inlineLevel,i.label=19;case 19:return l<c.length?(g=c[l],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:h=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:d=0,p=e.positiveZIndex,i.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return d++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=EA(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),EA(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s;return i(this,function(A){switch(A.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C,E,F,S,k,_,I,N,U,L,Q,R;return i(this,function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return a&&(s=eu(e,t,[a.width,a.height,a.width/a.height]),y=s[0],F=s[1],S=s[2],B=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(a,B,C),"repeat"),r.renderRepeat(y,v,F,S)),[3,6];case 5:Ur(n)?(A=eu(e,t,[null,null,null]),y=A[0],F=A[1],S=A[2],B=A[3],C=A[4],u=vr(n.angle,B,C),l=u[0],c=u[1],h=u[2],f=u[3],d=u[4],(p=document.createElement("canvas")).width=B,p.height=C,g=p.getContext("2d"),m=g.createLinearGradient(c,f,h,d),gr(n.stops,l).forEach(function(e){return m.addColorStop(e.stop,ir(e.color))}),g.fillStyle=m,g.fillRect(0,0,B,C),B>0&&C>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(y,v,F,S))):Lr(n)&&(w=eu(e,t,[null,null,null]),y=w[0],b=w[1],x=w[2],B=w[3],C=w[4],E=0===n.position.length?[zn]:n.position,F=Gn(E[0],B),S=Gn(E[E.length-1],C),k=br(n,F,S,B,C),_=k[0],I=k[1],_>0&&I>0&&(N=r.ctx.createRadialGradient(b+F,x+S,0,b+F,x+S,_),gr(n.stops,2*_).forEach(function(e){return N.addColorStop(e.stop,ir(e.color))}),r.path(y),r.ctx.fillStyle=N,_!==I?(U=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,R=1/(Q=I/_),r.ctx.save(),r.ctx.translate(U,L),r.ctx.transform(1,0,0,Q,0,0),r.ctx.translate(-U,-L),r.ctx.fillRect(b,R*(x-L)+L,B,C*R),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}})},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:A.sent(),A.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return this.path(zA(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=WA(a,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=VA(a,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,A,u,l=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=fu(iu(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){l.ctx.save();var n=kA(e.curves),r=t.inset?0:lu,i=PA(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(n),l.ctx.clip(),l.mask(i)):(l.mask(n),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+r,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=ir(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),i.label=2;case 2:o=0,s=0,A=r,i.label=3;case 3:return s<A.length?0!==(u=A[s]).style&&!rr(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,function(){var r,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b;return i(this,function(i){return this.ctx.save(),r=GA(a,n),s=zA(a,n),2===o&&(this.path(s),this.ctx.clip()),EA(s[0])?(A=s[0].start.x,u=s[0].start.y):(A=s[0].x,u=s[0].y),EA(s[1])?(l=s[1].end.x,c=s[1].end.y):(l=s[1].x,c=s[1].y),h=0===n||2===n?Math.abs(A-l):Math.abs(u-c),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),f=t<3?3*t:2*t,d=t<3?2*t:t,3===o&&(f=t,d=t),p=!0,h<=2*f?p=!1:h<=2*f+d?(f*=g=h/(2*f+d),d*=g):(m=Math.floor((h+d)/(f+d)),v=(h-m*f)/(m-1),d=(w=(h-(m+1)*f)/m)<=0||Math.abs(d-v)<Math.abs(d-w)?v:w),p&&(3===o?this.ctx.setLineDash([0,f+d]):this.ctx.setLineDash([f,d])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(EA(s[0])&&(y=s[3],b=s[0],this.ctx.beginPath(),this.formatPath([new xA(y.end.x,y.end.y),new xA(b.start.x,b.start.y)]),this.ctx.stroke()),EA(s[1])&&(y=s[1],b=s[2],this.ctx.beginPath(),this.formatPath([new xA(y.end.x,y.end.y),new xA(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=KA(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(uu),hu=function(e){return e instanceof es||e instanceof Zo||e instanceof $o&&e.type!==Xo&&e.type!==qo},fu=function(e,t){switch(e){case 0:return kA(t);case 2:return _A(t);default:return IA(t)}},du=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pu=["-apple-system","system-ui"],gu=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===pu.indexOf(e)}):e},mu=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=Bo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vu(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(uu),vu=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},wu=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),yu=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new wu({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new fA(this,t)}return e.instanceCount=1,e}(),bu=function(e,t){return void 0===t&&(t={}),xu(e,t)};"undefined"!==typeof window&&hA.setContext(window);var xu=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C,E,F,S,k,_,I,N,U,L,Q,R,D,T,P,O,M,j,H,K,z;return i(this,function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return u={allowTaint:null!==(k=t.allowTaint)&&void 0!==k&&k,imageTimeout:null!==(_=t.imageTimeout)&&void 0!==_?_:15e3,proxy:t.proxy,useCORS:null!==(I=t.useCORS)&&void 0!==I&&I},l=n({logging:null===(N=t.logging)||void 0===N||N,cache:t.cache},u),c={windowWidth:null!==(U=t.windowWidth)&&void 0!==U?U:a.innerWidth,windowHeight:null!==(L=t.windowHeight)&&void 0!==L?L:a.innerHeight,scrollX:null!==(Q=t.scrollX)&&void 0!==Q?Q:a.pageXOffset,scrollY:null!==(R=t.scrollY)&&void 0!==R?R:a.pageYOffset},h=new o(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),f=new yu(l,h),d=null!==(D=t.foreignObjectRendering)&&void 0!==D&&D,p={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},f.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new qs(f,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),w=ms(m)||ps(m)?A(m.ownerDocument):s(f,m),y=w.width,b=w.height,x=w.left,B=w.top,C=Bu(f,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:C,scale:null!==(O=null!==(P=t.scale)&&void 0!==P?P:a.devicePixelRatio)&&void 0!==O?O:1,x:(null!==(M=t.x)&&void 0!==M?M:0)+x,y:(null!==(j=t.y)&&void 0!==j?j:0)+B,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(y),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},d?(f.logger.debug("Document cloned, using foreign object rendering"),[4,new mu(f,E).render(m)]):[3,3];case 2:return F=i.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+x+","+B+" with size "+y+"x"+b+" using computed rendering"),f.logger.debug("Starting DOM parsing"),S=as(f,m),C===S.styles.backgroundColor&&(S.styles.backgroundColor=hr.TRANSPARENT),f.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new cu(f,E).render(S)];case 4:F=i.sent(),i.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(qs.destroy(v)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,F]}})})},Bu=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?cr(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,a=r.body?cr(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,o="string"===typeof n?cr(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(a)?o:a:i:o};return bu}()},6187:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)>0},6225:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6272:e=>{"use strict";const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!==typeof e?t:e:n},6627:(e,t,n)=>{"use strict";const r=n(4501);e.exports=(e,t)=>{const n=r(e,null,!0),i=r(t,null,!0),a=n.compare(i);if(0===a)return null;const o=a>0,s=o?n:i,A=o?i:n,u=!!s.prerelease.length;if(!!A.prerelease.length&&!u){if(!A.patch&&!A.minor)return"major";if(0===A.compareMain(s))return A.minor&&!A.patch?"minor":"patch"}const l=u?"pre":"";return n.major!==i.major?l+"major":n.minor!==i.minor?l+"minor":n.patch!==i.patch?l+"patch":"prerelease"}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,A=e[s],u=s+1,l=e[u];if(0>a(A,n))u<i&&0>a(l,A)?(e[r]=l,e[u]=n,r=u):(e[r]=A,e[s]=n,r=s);else{if(!(u<i&&0>a(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,A=s.now();t.unstable_now=function(){return s.now()-A}}var u=[],l=[],c=1,h=null,f=3,d=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function b(e){if(g=!1,y(e),!p)if(null!==r(u))p=!0,L(x);else{var t=r(l);null!==t&&Q(b,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,v(F),F=-1),d=!0;var a=f;try{for(y(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),y(n)}else i(u);h=r(u)}if(null!==h)var A=!0;else{var c=r(l);null!==c&&Q(b,c.startTime-n),A=!1}return A}finally{h=null,f=a,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,C=!1,E=null,F=-1,S=5,k=-1;function _(){return!(t.unstable_now()-k<S)}function I(){if(null!==E){var e=t.unstable_now();k=e;var n=!0;try{n=E(!0,e)}finally{n?B():(C=!1,E=null)}}else C=!1}if("function"===typeof w)B=function(){w(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,U=N.port2;N.port1.onmessage=I,B=function(){U.postMessage(null)}}else B=function(){m(I,0)};function L(e){E=e,C||(C=!0,B())}function Q(e,n){F=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:c++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(u)&&e===r(l)&&(g?(v(F),F=-1):g=!0,Q(b,a-o))):(e.sortIndex=s,n(u,e),p||d||(p=!0,L(x))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7263:(e,t,n)=>{"use strict";const r=n(7458);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(i){return!1}return t.test(e)}},7318:()=>{},7458:(e,t,n)=>{"use strict";const r=/\s+/g;class i{constructor(e,t){if(t=o(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&v(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&p)|(this.options.loose&&g))+":"+e,n=a.get(t);if(n)return n;const r=this.options.loose,i=r?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];e=e.replace(i,I(this.options.includePrerelease)),A("hyphen replace",e),e=e.replace(l[c.COMPARATORTRIM],h),A("comparator trim",e),e=e.replace(l[c.TILDETRIM],f),A("tilde trim",e),e=e.replace(l[c.CARETTRIM],d),A("caret trim",e);let o=e.split(" ").map(e=>y(e,this.options)).join(" ").split(/\s+/).map(e=>_(e,this.options));r&&(o=o.filter(e=>(A("loose invalid filter",e,this.options),!!e.match(l[c.COMPARATORLOOSE])))),A("range list",o);const u=new Map,v=o.map(e=>new s(e,this.options));for(const a of v){if(m(a))return[a];u.set(a.value,a)}u.size>1&&u.has("")&&u.delete("");const w=[...u.values()];return a.set(t,w),w}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some(n=>w(n,t)&&e.set.some(e=>w(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"===typeof e)try{e=new u(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(N(this.set[n],e,this.options))return!0;return!1}}e.exports=i;const a=new(n(4371)),o=n(6272),s=n(3383),A=n(1411),u=n(8207),{safeRe:l,t:c,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:d}=n(1323),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=n(6225),m=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,w=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},y=(e,t)=>(A("comp",e,t),e=C(e,t),A("caret",e),e=x(e,t),A("tildes",e),e=F(e,t),A("xrange",e),e=k(e,t),A("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>B(e,t)).join(" "),B=(e,t)=>{const n=t.loose?l[c.TILDELOOSE]:l[c.TILDE];return e.replace(n,(t,n,r,i,a)=>{let o;return A("tilde",e,t,n,r,i,a),b(n)?o="":b(r)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:b(i)?o=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:a?(A("replaceTilde pr",a),o=`>=${n}.${r}.${i}-${a} <${n}.${+r+1}.0-0`):o=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,A("tilde return",o),o})},C=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{A("caret",e,t);const n=t.loose?l[c.CARETLOOSE]:l[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,a,o)=>{let s;return A("caret",e,t,n,i,a,o),b(n)?s="":b(i)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:b(a)?s="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:o?(A("replaceCaret pr",o),s="0"===n?"0"===i?`>=${n}.${i}.${a}-${o} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}-${o} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a}-${o} <${+n+1}.0.0-0`):(A("no pr"),s="0"===n?"0"===i?`>=${n}.${i}.${a}${r} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a} <${+n+1}.0.0-0`),A("caret return",s),s})},F=(e,t)=>(A("replaceXRanges",e,t),e.split(/\s+/).map(e=>S(e,t)).join(" ")),S=(e,t)=>{e=e.trim();const n=t.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return e.replace(n,(n,r,i,a,o,s)=>{A("xRange",e,n,r,i,a,o,s);const u=b(i),l=u||b(a),c=l||b(o),h=c;return"="===r&&h&&(r=""),s=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(a=0),o=0,">"===r?(r=">=",l?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===r&&(r="<",l?i=+i+1:a=+a+1),"<"===r&&(s="-0"),n=`${r+i}.${a}.${o}${s}`):l?n=`>=${i}.0.0${s} <${+i+1}.0.0-0`:c&&(n=`>=${i}.${a}.0${s} <${i}.${+a+1}.0-0`),A("xRange return",n),n})},k=(e,t)=>(A("replaceStars",e,t),e.trim().replace(l[c.STAR],"")),_=(e,t)=>(A("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),I=e=>(t,n,r,i,a,o,s,A,u,l,c,h)=>`${n=b(r)?"":b(i)?`>=${r}.0.0${e?"-0":""}`:b(a)?`>=${r}.${i}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${A=b(u)?"":b(l)?`<${+u+1}.0.0-0`:b(c)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${c}-${h}`:e?`<${u}.${l}.${+c+1}-0`:`<=${A}`}`.trim(),N=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(A(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},7497:(e,t,n)=>{"use strict";const r=n(7724);e.exports=(e,t,n)=>r(e,t,"<",n)},7508:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)<0},7525:(e,t,n)=>{"use strict";const r=n(8207),i=n(4501),{safeRe:a,t:o}=n(1323);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?a[o.COERCERTLFULL]:a[o.COERCERTL];let i;for(;(i=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?a[o.COERCEFULL]:a[o.COERCE]);if(null===n)return null;const s=n[2],A=n[3]||"0",u=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",c=t.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${s}.${A}.${u}${l}${c}`,t)}},7724:(e,t,n)=>{"use strict";const r=n(8207),i=n(3383),{ANY:a}=i,o=n(7458),s=n(7263),A=n(6187),u=n(7508),l=n(4369),c=n(9896);e.exports=(e,t,n,h)=>{let f,d,p,g,m;switch(e=new r(e,h),t=new o(t,h),n){case">":f=A,d=l,p=u,g=">",m=">=";break;case"<":f=u,d=c,p=A,g="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,s=null;if(n.forEach(e=>{e.semver===a&&(e=new i(">=0.0.0")),o=o||e,s=s||e,f(e.semver,o.semver,h)?o=e:p(e.semver,s.semver,h)&&(s=e)}),o.operator===g||o.operator===m)return!1;if((!s.operator||s.operator===g)&&d(e,s.semver))return!1;if(s.operator===m&&p(e,s.semver))return!1}return!0}},7814:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>0===r(e,t,n)},7853:(e,t,n)=>{"use strict";const r=n(7458),i=n(3383),{ANY:a}=i,o=n(7263),s=n(3193),A=[new i(">=0.0.0-0")],u=[new i(">=0.0.0")],l=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=n.includePrerelease?A:u}if(1===t.length&&t[0].semver===a){if(n.includePrerelease)return!0;t=u}const r=new Set;let i,l,f,d,p,g,m;for(const a of e)">"===a.operator||">="===a.operator?i=c(i,a,n):"<"===a.operator||"<="===a.operator?l=h(l,a,n):r.add(a.semver);if(r.size>1)return null;if(i&&l){if(f=s(i.semver,l.semver,n),f>0)return null;if(0===f&&(">="!==i.operator||"<="!==l.operator))return null}for(const a of r){if(i&&!o(a,String(i),n))return null;if(l&&!o(a,String(l),n))return null;for(const e of t)if(!o(a,String(e),n))return!1;return!0}let v=!(!l||n.includePrerelease||!l.semver.prerelease.length)&&l.semver,w=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;v&&1===v.prerelease.length&&"<"===l.operator&&0===v.prerelease[0]&&(v=!1);for(const a of t){if(m=m||">"===a.operator||">="===a.operator,g=g||"<"===a.operator||"<="===a.operator,i)if(w&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===w.major&&a.semver.minor===w.minor&&a.semver.patch===w.patch&&(w=!1),">"===a.operator||">="===a.operator){if(d=c(i,a,n),d===a&&d!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(a),n))return!1;if(l)if(v&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===v.major&&a.semver.minor===v.minor&&a.semver.patch===v.patch&&(v=!1),"<"===a.operator||"<="===a.operator){if(p=h(l,a,n),p===a&&p!==l)return!1}else if("<="===l.operator&&!o(l.semver,String(a),n))return!1;if(!a.operator&&(l||i)&&0!==f)return!1}return!(i&&g&&!l&&0!==f)&&(!(l&&m&&!i&&0!==f)&&(!w&&!v))},c=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=l(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},7941:(e,t,n)=>{"use strict";const r=n(7458);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7963:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t)=>new r(e,t).major},8020:(e,t,n)=>{"use strict";const r=n(8356);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},8082:()=>{},8207:(e,t,n)=>{"use strict";const r=n(1411),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(6225),{safeRe:o,t:s}=n(1323),A=n(6272),{compareIdentifiers:u}=n(9520);class l{constructor(e,t){if(t=A(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!==typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"===typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?o[s.PRERELEASELOOSE]:o[s.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},8356:(e,t,n)=>{"use strict";const r=n(8207);e.exports=(e,t,n)=>{const i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},8644:(e,t,n)=>{"use strict";const r=n(8356);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9520:e=>{"use strict";const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},9896:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>r(e,t,n)>=0},9930:(e,t,n)=>{"use strict";const r=n(3193);e.exports=(e,t,n)=>0!==r(e,t,n)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{732:"3491a8e1",977:"e5085d92"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="workshop-management-client:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,A;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+a){s=c;break}}s||(A=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),A&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],A=r[2],u=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(A)A(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkworkshop_management_client=self.webpackChunkworkshop_management_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>rN,hasStandardBrowserEnv:()=>aN,hasStandardBrowserWebWorkerEnv:()=>oN,navigator:()=>iN,origin:()=>sN});var t,r=n(5043),i=n.t(r,2),a=n(4391),o=n(7950),s=n.t(o,2);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ye){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,c=t.Pop,p=null,g=m();function m(){return(s.state||{idx:null}).idx}function v(){c=t.Pop;let e=m(),n=null==e?null:e-g;g=e,p&&p({action:c,location:y.location,delta:n})}function w(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(A({},s.state,{idx:g}),""));let y={get action(){return c},get location(){return e(a,s)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(u,v),p=e,()=>{a.removeEventListener(u,v),p=null}},createHref:e=>n(a,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){c=t.Push;let i=f(y.location,e,n);r&&r(i,e),g=m()+1;let A=h(i,g),u=y.createHref(i);try{s.pushState(A,"",u)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;a.location.assign(u)}o&&p&&p({action:c,location:y.location,delta:1})},replace:function(e,n){c=t.Replace;let i=f(y.location,e,n);r&&r(i,e),g=m();let a=h(i,g),A=y.createHref(i);s.replaceState(a,"",A),o&&p&&p({action:c,location:y.location,delta:0})},go:e=>s.go(e)};return y}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=L(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=U(i);o=I(a[s],e,r)}return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=P([r,o.relativePath]),A=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),y(e.children,t,A,s)),(null!=e.path||e.index)&&t.push({path:s,score:_(s,e.index),routesMeta:A})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=b(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,B=3,C=2,E=1,F=10,S=-2,k=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=S),t&&(r+=C),n.filter(e=>!k(e)).reduce((e,t)=>e+(x.test(t)?B:""===t?E:F),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],A=s===r.length-1,u="/"===a?t:t.slice(a.length)||"/",l=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:A},u),c=e.route;if(!l&&A&&n&&!r[r.length-1].route.index&&(l=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!l)return null;Object.assign(i,l.params),o.push({params:i,pathname:P([a,l.pathname]),pathnameBase:O(P([a,l.pathnameBase])),route:c}),"/"!==l.pathnameBase&&(a=P([a,l.pathnameBase]))}return o}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),A=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const A=s[n];return e[r]=i&&!A?void 0:(A||"").replace(/%2F/g,"/"),e},{});return{params:A,pathname:a,pathnameBase:o,pattern:e}}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function T(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=A({},e),l(!i.pathname||!i.pathname.includes("?"),Q("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),Q("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),Q("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:M(r),hash:j(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!h||(u.pathname+="/"),u}const P=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],z=(new Set(K),["get",...K]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const V=r.createContext(null);const G=r.createContext(null);const q=r.createContext(null);const X=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function $(){return null!=r.useContext(X)}function Z(){return $()||l(!1),r.useContext(X).location}function ee(e){r.useContext(q).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=fe(ce.UseNavigateStable),t=pe(he.UseNavigateStable),n=r.useRef(!1);ee(()=>{n.current=!0});let i=r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))},[e,t]);return i}():function(){$()||l(!1);let e=r.useContext(V),{basename:t,future:n,navigator:i}=r.useContext(q),{matches:a}=r.useContext(Y),{pathname:o}=Z(),s=JSON.stringify(D(a,n.v7_relativeSplatPath)),A=r.useRef(!1);ee(()=>{A.current=!0});let u=r.useCallback(function(n,r){if(void 0===r&&(r={}),!A.current)return;if("number"===typeof n)return void i.go(n);let a=T(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:P([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[t,i,s,o,e]);return u}()}const ne=r.createContext(null);function re(){let{matches:e}=r.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(q),{matches:a}=r.useContext(Y),{pathname:o}=Z(),s=JSON.stringify(D(a,i.v7_relativeSplatPath));return r.useMemo(()=>T(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function ae(e,n,i,a){$()||l(!1);let{navigator:o}=r.useContext(q),{matches:s}=r.useContext(Y),A=s[s.length-1],u=A?A.params:{},c=(A&&A.pathname,A?A.pathnameBase:"/");A&&A.route;let h,f=Z();if(n){var d;let e="string"===typeof n?p(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||l(!1),h=e}else h=f;let g=h.pathname||"/",m=g;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=v(e,{pathname:m});let y=le(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:P([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,a);return n&&y?r.createElement(X.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},y):y}function oe(){let e=function(){var e;let t=r.useContext(J),n=de(he.UseRouteError),i=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const se=r.createElement(oe,null);class Ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(V);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function le(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,A=null==(a=n)?void 0:a.errors;if(null!=A){let e=s.findIndex(e=>e.route.id&&void 0!==(null==A?void 0:A[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((e,i,a)=>{let o,l=!1,h=null,f=null;var d;n&&(o=A&&i.route.id?A[i.route.id]:void 0,h=i.route.errorElement||se,u&&(c<0&&0===a?(d="route-fallback",!1||ge[d]||(ge[d]=!0),l=!0,f=null):c===a&&(l=!0,f=i.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,a+1)),g=()=>{let t;return t=o?h:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ue,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ae,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=r.useContext(V);return t||l(!1),t}function de(e){let t=r.useContext(G);return t||l(!1),t}function pe(e){let t=function(){let e=r.useContext(Y);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const ge={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:n,state:i,relative:a}=e;$()||l(!1);let{future:o,static:s}=r.useContext(q),{matches:A}=r.useContext(Y),{pathname:u}=Z(),c=te(),h=T(t,D(A,o.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return r.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:a}),[c,f,a,n,i]),null}function we(e){return function(e){let t=r.useContext(Y).outlet;return t?r.createElement(ne.Provider,{value:e},t):t}(e.context)}function ye(e){l(!1)}function be(e){let{basename:n="/",children:i=null,location:a,navigationType:o=t.Pop,navigator:s,static:A=!1,future:u}=e;$()&&l(!1);let c=n.replace(/^\/*/,"/"),h=r.useMemo(()=>({basename:c,navigator:s,static:A,future:W({v7_relativeSplatPath:!1},u)}),[c,u,s,A]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:d="",hash:g="",state:m=null,key:v="default"}=a,w=r.useMemo(()=>{let e=L(f,c);return null==e?null:{location:{pathname:e,search:d,hash:g,state:m,key:v},navigationType:o}},[c,f,d,g,m,v,o]);return null==w?null:r.createElement(q.Provider,{value:h},r.createElement(X.Provider,{children:i,value:w}))}function xe(e){let{children:t,location:n}=e;return ae(Be(t),n)}new Promise(()=>{});r.Component;function Be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Be(e.props.children,a));e.type!==ye&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Fe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ye){}new Map;const Se=i.startTransition;s.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:a}=e,o=r.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),g(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,s)));let A=o.current,[u,l]=r.useState({action:A.action,location:A.location}),{v7_startTransition:c}=i||{},h=r.useCallback(e=>{c&&Se?Se(()=>l(e)):l(e)},[l,c]);return r.useLayoutEffect(()=>A.listen(h),[A,h]),r.useEffect(()=>me(i),[i]),r.createElement(be,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:A,future:i})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=r.forwardRef(function(e,t){let n,{onClick:i,relative:a,reloadDocument:o,replace:s,state:A,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,p=Ee(e,Fe),{basename:g}=r.useContext(q),m=!1;if("string"===typeof c&&Ie.test(c)&&(n=c,_e))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=L(t.pathname,g);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(Ye){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||l(!1);let{basename:i,navigator:a}=r.useContext(q),{hash:o,pathname:s,search:A}=ie(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:P([i,s])),a.createHref({pathname:u,search:A,hash:o})}(c,{relative:a}),w=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:A}=void 0===t?{}:t,u=te(),l=Z(),c=ie(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:d(l)===d(c);u(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:A})}},[l,u,c,i,a,n,e,o,s,A])}(c,{replace:s,state:A,target:u,preventScrollReset:h,relative:a,viewTransition:f});return r.createElement("a",Ce({},p,{href:n||v,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:u}))});var Ue,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ue||(Ue={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));class Qe extends Error{}function Re(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return atob(t)}}Qe.prototype.name="InvalidTokenError";var De=n(579);const Te=(0,r.createContext)(),Pe=()=>{const e=(0,r.useContext)(Te);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Oe=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[s,A]=(0,r.useState)(!0),u=(0,r.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),o(null)},[]);(0,r.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const n=function(e,t){if("string"!==typeof e)throw new Qe("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new Qe(`Invalid token specified: missing part #${n+1}`);let i;try{i=Re(r)}catch(Ye){throw new Qe(`Invalid token specified: invalid base64 for part #${n+1} (${Ye.message})`)}try{return JSON.parse(i)}catch(Ye){throw new Qe(`Invalid token specified: invalid json for part #${n+1} (${Ye.message})`)}}(e);1e3*n.exp<Date.now()?u():(o(e),i(JSON.parse(t)))}catch(n){console.error("Error decoding token or parsing user data:",n),u()}A(!1)},[u]);const l=(0,r.useCallback)(async()=>{if(a)try{const e=await fetch("http://localhost:5000/api/auth/me",{headers:{Authorization:`Bearer ${a}`}});if(e.ok){const t=await e.json();localStorage.setItem("user",JSON.stringify(t)),i(t)}else console.error("Failed to refresh user data:",e.statusText),u()}catch(e){console.error("Network error during user refresh:",e),u()}},[a,u]),c=(0,r.useCallback)(()=>!!n&&!!a,[n,a]),h=(0,r.useCallback)(()=>(console.log("isAdmin called. Current user:",n),Array.isArray(null===n||void 0===n?void 0:n.roles)&&n.roles.includes("admin")),[n]),f={user:n,token:a,login:(e,t)=>{localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),o(t),i(e)},logout:u,isAuthenticated:c,isAdmin:h,loading:s,refreshUser:l};return(0,De.jsx)(Te.Provider,{value:f,children:t})},Me=()=>{const e=te();return(0,De.jsxs)("header",{className:"header-main",children:[(0,De.jsx)("div",{className:"header-left",children:(0,De.jsx)(Ne,{to:"/",className:"logo",children:"WorkshopMS"})}),(0,De.jsxs)("div",{className:"header-right",children:[(0,De.jsx)("div",{className:"about-link-wrapper",children:(0,De.jsx)("button",{className:"login-btn",onClick:()=>{e("/about")},children:"About"})}),(0,De.jsxs)("div",{className:"login-dropdown",children:[(0,De.jsx)("button",{className:"login-btn",children:"Login/Register \u2b9f"}),(0,De.jsxs)("div",{className:"login-options",children:[(0,De.jsx)(Ne,{to:"/admin-login",children:"Admin"}),(0,De.jsx)(Ne,{to:"/club-login",children:"Club Member"}),(0,De.jsx)(Ne,{to:"/student-login",children:"Student"}),(0,De.jsx)(Ne,{to:"/register",className:"register-btn",children:"Register"})]})]})]})]})},je=()=>(0,De.jsx)("footer",{className:"footer",children:(0,De.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Workshop Management System | Built by Team 3CSE"]})}),He=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[s,A]=(0,r.useState)(null),u=e=>{if(!e||!e.data||!e.contentType)return"";let t=e.data;"Buffer"===t.type&&Array.isArray(t.data)&&(t=t.data);const n=btoa(new Uint8Array(t).reduce((e,t)=>e+String.fromCharCode(t),""));return`data:${e.contentType};base64,${n}`};(0,r.useEffect)(()=>{const e=async()=>{try{const e=await fetch("/api/workshops/public");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json(),r=new Date;r.setHours(0,0,0,0);const i=n.filter(e=>new Date(e.date)>=r);t(i)}catch(Ye){A("Failed to fetch workshops. Please try again later."),console.error("Error fetching workshops:",Ye)}},n=async()=>{try{const e=await fetch("/api/album/public");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();i(t)}catch(Ye){console.error("Error fetching album images:",Ye)}};(async()=>{o(!0),await Promise.all([e(),n()]),o(!1)})()},[]);return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsxs)("div",{className:"home-container1 main-with-header-footer",children:[(0,De.jsxs)("div",{className:"content-wrapper",children:[(0,De.jsx)("header",{className:"home-header",children:(0,De.jsx)("h1",{children:"Upcoming Workshops"})}),a?(0,De.jsxs)("div",{className:"loading-spinner-container",children:[(0,De.jsx)("div",{className:"loader"}),(0,De.jsx)("p",{children:"Loading Workshops..."})]}):s?(0,De.jsx)("div",{className:"error-message",children:(0,De.jsx)("p",{children:s})}):0===e.length?(0,De.jsx)("div",{className:"no-workshops-message",children:(0,De.jsx)("p",{children:"No upcoming workshops found."})}):(0,De.jsx)("div",{className:"workshop-cards1",children:e.map(e=>(0,De.jsxs)("div",{className:"workshop-card1",onClick:()=>{return t=e.name,n=e.description,void alert(`Workshop Name : ${t}\nDescription : ${n}`);var t,n},children:[e.image&&(0,De.jsx)("img",{src:u(e.image.image),alt:e.name,className:"workshop-image"}),(0,De.jsxs)("div",{className:"workshop-info",children:[(0,De.jsx)("h3",{children:e.name}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Club:"})," ",e.clubCode]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Date:"})," ",new Date(e.date).toLocaleDateString("en-GB")]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,De.jsx)("p",{className:"topic",children:(0,De.jsx)("em",{children:e.topic})}),(0,De.jsx)("button",{className:"enroll-button",onClick:t=>{t.stopPropagation();let n=e.link;n.startsWith("http://")||n.startsWith("https://")||(n="https://"+n),window.open(n,"_blank")},children:"Enroll Now"})]})]},e._id))}),(0,De.jsxs)("section",{className:"album-section",children:[(0,De.jsx)("header",{className:"home-header",children:(0,De.jsx)("h1",{children:"Album"})}),a?(0,De.jsxs)("div",{className:"loading-spinner-container",children:[(0,De.jsx)("div",{className:"loader"}),(0,De.jsx)("p",{children:"Loading Album..."})]}):0===n.length?(0,De.jsx)("div",{className:"no-album-images-message",children:(0,De.jsx)("p",{children:"No album images found."})}):(0,De.jsx)("div",{className:"workshop-cards1",children:n.map(e=>(0,De.jsxs)("div",{className:"workshop-card1",children:[(0,De.jsx)("img",{src:u(e.image),alt:e.caption,className:"workshop-image"}),(0,De.jsx)("div",{className:"workshop-info",children:e.workshopDetails?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Workshop:"})," ",e.workshopDetails.name]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Club:"})," ",e.workshopDetails.clubCode]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Date:"})," ",new Date(e.workshopDetails.date).toLocaleDateString("en-GB")]})]}):(0,De.jsx)("p",{children:e.caption})})]},e._id))})]})]}),(0,De.jsx)(je,{})]})]})},Ke=()=>{const{logout:e,user:t,isAdmin:n}=Pe(),i=te(),[a,o]=(0,r.useState)(0);(0,r.useEffect)(()=>{n()&&s()},[n]);const s=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshop-requests/stats",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();o(e.pending)}}catch(e){console.error("Error fetching pending requests count:",e)}};return(0,De.jsxs)("aside",{className:"sidebar",children:[t&&(0,De.jsx)(Ne,{to:"student"===t.clubCode?"/student-dashboard":"/intro",className:"user-profile-link",children:(0,De.jsxs)("div",{className:"user-profile",children:[(0,De.jsx)("div",{className:"profile-pic",children:(0,De.jsx)("span",{children:t.username.charAt(0).toUpperCase()})}),(0,De.jsxs)("div",{className:"user-details",children:[(0,De.jsx)("span",{className:"user-name",children:t.username}),(0,De.jsx)("span",{className:"user-rollno",children:t.email.split(".")[0]})]})]})}),(0,De.jsx)("nav",{className:"menu",children:(0,De.jsx)("ul",{children:"student"===(null===t||void 0===t?void 0:t.clubCode)?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/student-dashboard/my-workshops",children:[(0,De.jsx)("i",{className:"fas fa-calendar-alt"})," My Workshops"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/student-dashboard/my-profile",children:[(0,De.jsx)("i",{className:"fas fa-user"})," My Profile"]})})]}):n()?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/new-workshop",children:[(0,De.jsx)("i",{className:"fas fa-plus-circle"})," New Workshop"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/workshop-requests",children:[(0,De.jsx)("i",{className:"fas fa-file-alt"})," Requests",n()&&a>0&&(0,De.jsx)("span",{className:"pending-requests-badge",children:a})]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/workshops",children:[(0,De.jsx)("i",{className:"fas fa-book"})," Workshops"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/manageteam",children:[(0,De.jsx)("i",{className:"fas fa-users"})," Manage Team"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/attendance",children:[(0,De.jsx)("i",{className:"fas fa-camera"})," Attendance"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/album",children:[(0,De.jsx)("i",{className:"fas fa-images"})," Albums"]})})]}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/workshop-requests",children:[(0,De.jsx)("i",{className:"fas fa-file-alt"})," Request Workshop"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/workshops",children:[(0,De.jsx)("i",{className:"fas fa-book"})," Workshops"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/manageteam",children:[(0,De.jsx)("i",{className:"fas fa-users"})," Team"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/attendance",children:[(0,De.jsx)("i",{className:"fas fa-camera"})," Attendance"]})}),(0,De.jsx)("li",{children:(0,De.jsxs)(Ne,{to:"/album",children:[(0,De.jsx)("i",{className:"fas fa-images"})," Albums"]})})]})})}),(0,De.jsx)("div",{className:"logout-container",children:(0,De.jsxs)("button",{onClick:()=>{e(),"student"===(null===t||void 0===t?void 0:t.role)?i("/student-login"):i("/")},className:"logout-btn",children:[(0,De.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})},ze=()=>{const e=Pe().user;return(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("main",{className:"main-content",children:(0,De.jsxs)("div",{className:"welcome-section",children:[(0,De.jsx)("div",{className:"welcome-header",children:(0,De.jsxs)("h1",{className:"user-name",children:["Hello ",(null===e||void 0===e?void 0:e.username)||"User","!"]})}),(0,De.jsx)("p",{className:"welcome-message",children:"Welcome to the Workshop Management System"}),(0,De.jsxs)("div",{className:"welcome-features",children:[(0,De.jsxs)("div",{className:"feature-card",children:[(0,De.jsx)("h3",{children:"\ud83d\udcca Dashboard"}),(0,De.jsx)("p",{children:"Manage your workshops and track attendance"})]}),(0,De.jsxs)("div",{className:"feature-card",children:[(0,De.jsx)("h3",{children:"\ud83d\udc65 Team Management"}),(0,De.jsx)("p",{children:"Organize your team members and roles"})]}),(0,De.jsxs)("div",{className:"feature-card",children:[(0,De.jsx)("h3",{children:"\ud83d\udcdd Attendance"}),(0,De.jsx)("p",{children:"Track workshop attendance and participation"})]})]})]})})]})},We=()=>{const{user:e}=Pe(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshops/history",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();n(e)}}catch(e){console.error("Error fetching history:",e)}finally{a(!1)}};return i?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:"Loading..."})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"his-main-content",children:[(0,De.jsxs)("div",{className:"header",children:[(0,De.jsx)("h1",{children:"Workshop History"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===e||void 0===e?void 0:e.username," (","admin"===(null===e||void 0===e?void 0:e.role)?"Administrator":"Club Member",")"]})})]}),(0,De.jsx)("div",{className:"table-content",children:(0,De.jsxs)("table",{className:"history-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Name"}),(0,De.jsx)("th",{children:"Date"}),(0,De.jsx)("th",{children:"Time"}),(0,De.jsx)("th",{children:"Venue"}),(0,De.jsx)("th",{children:"Topic"})]})}),(0,De.jsx)("tbody",{children:t.map(e=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:e.name}),(0,De.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,De.jsx)("td",{children:e.time}),(0,De.jsx)("td",{children:e.location}),(0,De.jsx)("td",{children:e.topic})]},e._id))})]})})]})]})},Ve=()=>{var e;const{isAdmin:t,user:n}=Pe(),i=te(),a=Z(),{workshopId:o}=re(),s=null===(e=a.state)||void 0===e?void 0:e.request,[A,u]=(0,r.useState)({name:"",date:"",time:"",location:"",topic:"",description:"",link:"",maxParticipants:"",clubCode:(null===n||void 0===n?void 0:n.clubCode)||"",image:null}),[l,c]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(o){const e=async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`/api/workshops/${o}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();u({name:e.name||"",date:e.date?new Date(e.date).toISOString().split("T")[0]:"",time:e.time||"",location:e.location||"",topic:e.topic||"",description:e.description||"",link:e.link||"",maxParticipants:e.maxParticipants||"",clubCode:e.clubCode||(null===n||void 0===n?void 0:n.clubCode)||"",image:null})}else alert("Failed to fetch workshop details."),i("/attendance")}catch(e){console.error("Error fetching workshop:",e),alert("An error occurred while fetching workshop details."),i("/attendance")}finally{f(!1)}};e()}else s&&u({name:s.workshopName||"",date:s.date||"",time:s.time||"",location:s.location||"",topic:s.topic||"",description:s.description||"",maxParticipants:s.maxParticipants||"",clubCode:s.clubCode||(null===n||void 0===n?void 0:n.clubCode)||"",image:null}),f(!1)},[o,s,n,i]),(0,r.useEffect)(()=>{n&&!s&&u(e=>({...e,clubCode:n.clubCode||""}))},[n,s]);const d=e=>{const{name:t,value:n,files:r}=e.target;u(e=>({...e,[t]:r?r[0]:n}))};return t()?h?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:"Loading..."})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("main",{className:"main-content",children:(0,De.jsxs)("div",{className:"workshop-form",children:[(0,De.jsxs)("div",{className:"form-header",children:[(0,De.jsx)("h2",{children:o?"Edit Workshop":s?"Create Workshop from Request":"Create New Workshop"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===n||void 0===n?void 0:n.username," (",Array.isArray(null===n||void 0===n?void 0:n.roles)&&n.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),(0,De.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t()){c(!0);try{const e=new FormData;Object.keys(A).forEach(t=>{null!==A[t]&&e.append(t,A[t])});const t=o?"PUT":"POST",r=o?`/api/workshops/${o}`:"/api/workshops/create",a=localStorage.getItem("token"),s=await fetch(r,{method:t,headers:{Authorization:`Bearer ${a}`},body:e});if(s.ok)alert(`Workshop ${o?"updated":"created"} successfully!`),u({name:"",date:"",time:"",location:"",topic:"",description:"",link:"",maxParticipants:"",clubCode:(null===n||void 0===n?void 0:n.clubCode)||"",image:null}),i("/workshops");else{const e=await s.json();alert(e.message||`Failed to ${o?"update":"create"} workshop`)}}catch(r){alert(`Failed to ${o?"update":"create"} workshop. Please try again.`)}finally{c(!1)}}else alert("Only admins can create workshops.")},children:[(0,De.jsxs)("div",{className:"form-row",children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Workshop Name *"}),(0,De.jsx)("input",{type:"text",name:"name",value:A.name,onChange:d,placeholder:"Enter workshop name",required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Date *"}),(0,De.jsx)("input",{type:"date",name:"date",value:A.date,onChange:d,required:!0})]})]}),(0,De.jsxs)("div",{className:"form-row",children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Time *"}),(0,De.jsx)("input",{type:"time",name:"time",value:A.time,onChange:d,required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Location *"}),(0,De.jsx)("input",{type:"text",name:"location",value:A.location,onChange:d,placeholder:"Enter venue/location",required:!0})]})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Topic *"}),(0,De.jsx)("input",{type:"text",name:"topic",value:A.topic,onChange:d,placeholder:"Enter workshop topic",required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Description"}),(0,De.jsx)("textarea",{name:"description",value:A.description,onChange:d,placeholder:"Enter workshop description",rows:"4"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Link"}),(0,De.jsx)("input",{type:"text",name:"link",value:A.link,onChange:d,placeholder:"Enter workshop link"})]}),(0,De.jsxs)("div",{className:"form-row",children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Max Participants"}),(0,De.jsx)("input",{type:"number",name:"maxParticipants",value:A.maxParticipants,onChange:d,placeholder:"Enter max participants",min:"1"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code"}),(0,De.jsx)("input",{type:"text",name:"clubCode",value:A.clubCode,onChange:d,placeholder:"Enter club code",required:!0})]})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Workshop Image"}),(0,De.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:d}),A.image&&(0,De.jsxs)("p",{className:"image-preview-name",children:["Selected: ",A.image.name]}),s&&s.image&&(0,De.jsxs)("div",{children:[(0,De.jsx)("p",{children:"Existing Image:"}),(0,De.jsx)("img",{src:(e=>{if(!e||!e.data||!e.contentType)return"";const t=e.data.data,n=btoa(new Uint8Array(t).reduce((e,t)=>e+String.fromCharCode(t),""));return`data:${e.contentType};base64,${n}`})(s.image),alt:"Existing workshop image",style:{maxWidth:"200px"}})]})]}),(0,De.jsx)("div",{className:"form-actions",children:(0,De.jsx)("button",{type:"submit",className:"submit-button",disabled:l,children:l?"Creating Workshop...":"Create Workshop"})})]})]})})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("main",{className:"main-content",children:(0,De.jsxs)("div",{className:"workshop-form",children:[(0,De.jsxs)("div",{className:"form-header",children:[(0,De.jsx)("h2",{children:"Create New Workshop"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===n||void 0===n?void 0:n.username," (",Array.isArray(null===n||void 0===n?void 0:n.roles)&&n.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),(0,De.jsxs)("div",{className:"admin-only-message",children:[(0,De.jsx)("p",{children:"Only administrators can create workshops directly."}),(0,De.jsx)("p",{children:"Club members can request workshops for admin approval."}),(0,De.jsx)("button",{className:"request-workshop-btn",onClick:()=>i("/request-workshop"),children:"\ud83d\udcdd Request Workshop"})]})]})})]})},Ge=e=>{let{user:t,onSave:n,onCancel:i}=e;const[a,o]=(0,r.useState)(""),[s,A]=(0,r.useState)(""),[u,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&(o(t.username),A(t.email),l(t.roles))},[t]);return(0,De.jsx)("div",{className:"modal",children:(0,De.jsxs)("div",{className:"modal-content",children:[(0,De.jsx)("h2",{children:"Edit User"}),(0,De.jsxs)("label",{children:["Username:",(0,De.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value)})]}),(0,De.jsxs)("label",{children:["Email:",(0,De.jsx)("input",{type:"email",value:s,onChange:e=>A(e.target.value)})]}),(0,De.jsxs)("label",{children:["Roles:",(0,De.jsx)("input",{type:"text",value:u.join(", "),disabled:!0})," "]}),(0,De.jsxs)("div",{className:"modal-actions",children:[(0,De.jsx)("button",{onClick:()=>{n({...t,username:a,email:s})},children:"Save"}),(0,De.jsx)("button",{onClick:i,children:"Cancel"})]})]})})},qe=()=>{const{isAdmin:e,user:t,token:n,isAuthenticated:i,loading:a}=Pe(),[o,s]=(0,r.useState)([]),[A,u]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0),d=(0,r.useCallback)(async()=>{try{const e=await fetch("/api/auth/users",{headers:{Authorization:`Bearer ${n}`}});console.log("Fetch team response status:",e.status,e.statusText);const t=await e.json();console.log("Fetch team response data:",t),e.ok?s(t):console.error("Error fetching team:",t.message)}catch(e){console.error("Failed to fetch team members:",e)}finally{f(!1)}},[n]);(0,r.useEffect)(()=>{a||(i()&&n?(f(!0),d()):f(!1))},[a,i,n,d]);return a||h?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:"Loading..."})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"mt-main-content",children:[(0,De.jsxs)("div",{className:"header",children:[(0,De.jsx)("h1",{children:"Team Management"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===t||void 0===t?void 0:t.username," (",Array.isArray(null===t||void 0===t?void 0:t.roles)&&t.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),(0,De.jsx)("div",{className:"mt-table-content",children:(0,De.jsxs)("table",{className:"mt-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Name"}),(0,De.jsx)("th",{children:"Mail"}),(0,De.jsx)("th",{children:"Role"}),e()&&(0,De.jsxs)("th",{children:["Actions",!e()&&(0,De.jsx)("span",{className:"admin-only-badge",children:"Admin Only"})]})]})}),(0,De.jsx)("tbody",{children:o.map(t=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:t.username}),(0,De.jsx)("td",{children:t.email}),(0,De.jsx)("td",{children:t.roles.join(", ")}),e()&&(0,De.jsxs)("td",{children:[(0,De.jsx)("span",{className:"icon icon-edit "+(e()?"":"disabled"),"aria-label":"Edit",onClick:()=>(t=>{if(e()){if(t.roles.includes("admin"))return void alert("Cannot edit club admin details.");c(t),u(!0)}else alert("Only admins can access this feature.")})(t),title:e()?"Edit member":"Only admins can edit"}),(0,De.jsx)("span",{className:"icon icon-delete "+(e()?"":"disabled"),"aria-label":"Delete",onClick:()=>(async(t,r,i)=>{if(e()){if(i.includes("admin"))return void alert("Cannot delete club admin.");if(window.confirm(`Are you sure you want to delete ${r}?`))try{const e=await fetch(`/api/auth/users/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}),r=await e.json();e.ok?(alert("User deleted successfully"),d()):alert(`Failed to delete user: ${r.message}`)}catch(a){console.error("Failed to delete user:",a),alert("An error occurred while deleting the user.")}}else alert("Only admins can access this feature.")})(t._id,t.username,t.roles),title:e()?"Delete member":"Only admins can delete"})]})]},t._id))})]})}),A&&(0,De.jsx)(Ge,{user:l,onSave:async e=>{try{const t=await fetch(`/api/auth/users/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e)}),r=await t.json();t.ok?(alert("User updated successfully"),u(!1),c(null),d()):alert(`Failed to update user: ${r.message}`)}catch(t){console.error("Failed to update user:",t),alert("An error occurred while updating the user.")}},onCancel:()=>{u(!1),c(null)}})]})]})};var Xe=function(e,t){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ye(e,t){function n(){this.constructor=e}Xe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Je(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{A(r.next(e))}catch(e){a(e)}}function s(e){try{A(r.throw(e))}catch(e){a(e)}}function A(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}A((r=r.apply(e,t||[])).next())})}function $e(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Ze=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)})}},e}();function et(){return tt}var tt=null,nt=new Map,rt=new Map;function it(e,t){var n=At(e,t);return nt.get(n)}function at(e){for(var t=nt.entries(),n=[];;){var r=t.next(),i=r.done,a=r.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&n.push(s)}return n}function ot(e){var t=e.kernelName,n=e.backendName,r=At(t,n);if(nt.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");nt.set(r,e)}function st(e){var t=e.kernelName;rt.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),rt.set(t,e)}function At(e,t){return t+"_"+e}function ut(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function lt(e,t,n){return Math.max(e,Math.min(t,n))}function ct(e){return e%2==0?e:e+1}function ht(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function ft(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function dt(e,t,n){void 0===n&&(n=""),ft(vt(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function pt(e){ft(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function gt(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||Ut(e)&&!n)for(var r=0;r<e.length;++r)gt(e[r],t,n);else t.push(e);return t}function mt(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function vt(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wt(e){return e%1==0}function yt(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function bt(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function xt(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Bt(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,i){var a=0,o=function(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}};o()})}function Ct(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function Et(e,t){var n=t.length;return ft((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),ft(e.every(function(e){return wt(e)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(e){return e<0?n+e:e})}function Ft(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:Et(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function St(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function kt(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function _t(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function It(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function Nt(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function Ut(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function Lt(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function Qt(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function Rt(e){return"string"==typeof e||e instanceof String}function Dt(e){return"boolean"==typeof e}function Tt(e){return"number"==typeof e}function Pt(e){return Array.isArray(e)?Pt(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":Tt(e)?"float32":Rt(e)?"string":Dt(e)?"bool":"float32"}function Ot(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Mt(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function jt(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Ht(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=gt(e)),n&&_t(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function Kt(e,t){if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t});if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var a=n[0],o=0;o<a;o++)i[o]=r[t+o];else{a=n[0];var s=n.slice(1),A=s.reduce(function(e,t){return e*t});for(o=0;o<a;o++)i[o]=e(t+o*A,s,r)}return i}(0,e,t)}function zt(e,t){for(var n=Wt(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Wt(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function Vt(){return et().platform.now()}function Gt(e){e.forEach(function(t){ft(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function qt(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",et().platform.encode(e,t)}function Xt(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",et().platform.decode(e,t)}function Yt(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Jt(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}Object.freeze({shuffle:ut,clamp:lt,nearestLargerEven:ct,sum:ht,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:ft,assertShapesMatch:dt,assertNonNull:pt,flatten:gt,sizeFromShape:mt,isScalarShape:function(e){return 0===e.length},arraysEqual:vt,isInt:wt,tanh:yt,sizeToSquarishShape:bt,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return ut(t),t},rightPad:xt,repeatedTry:Bt,inferFromImplicitShape:Ct,parseAxisParam:Et,squeezeShape:Ft,getTypedArrayFromDType:St,getArrayFromDType:kt,checkConversionForErrors:_t,isValidDtype:It,hasEncodingLoss:Nt,isTypedArray:Ut,bytesPerElement:Lt,bytesFromStringArray:Qt,isString:Rt,isBoolean:Dt,isNumber:Tt,inferDtype:Pt,isFunction:Ot,nearestDivisor:Mt,computeStrides:jt,toTypedArray:Ht,toNestedArray:Kt,makeOnesTypedArray:zt,makeZerosTypedArray:Wt,now:Vt,assertNonNegativeIntegerDimensions:Gt,fetch:function(e,t){return et().platform.fetch(e,t)},encodeString:qt,decodeString:Xt,locToIndex:Yt,indexToLoc:Jt});var $t=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Zt)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,a=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then(function(a){var o="";null!=a.getExtraProfileInfo&&(o=a.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,a.kernelMs,t,o)})})}),r},e}(),Zt=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,a){var o="number"==typeof r?xt(r+"ms",9):r.error,s=xt(e,25),A=t.rank,u=t.size,l=xt(t.shape.toString(),14),c="";for(var h in i){var f=i[h].shape||t.shape,d=f.length;c+=h+": "+d+"D "+(d>0?f:"")+" "}console.log("%c"+s+"\t%c"+o+"\t%c"+A+"D "+l+"\t%c"+u+"\t%c"+c+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function en(e,t,n){return xt(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":Rt(e)?"'"+e+"'":"bool"===n?tn(e):parseFloat(e.toFixed(7)).toString(),t)}function tn(e){return 0===e?"false":"true"}function nn(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var rn=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=mt(e),null!=n){var i=n.length;ft(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||kt(t,this.size),this.strides=jt(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),ft(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n]){var o="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var s=e[e.length-1],A=0;A<e.length-1;++A)s+=this.strides[A]*e[A];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return an().makeTensor(this.values,this.shape,this.dtype)},e}(),an=null,on=null,sn=null,An=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=mt(e),this.strides=jt(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),ft(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),on.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,on.buffer(this.shape,this.dtype,e)]}})})},e.prototype.bufferSync=function(){return on.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Kt(this.shape,e)]}})})},e.prototype.arraySync=function(){return Kt(this.shape,this.dataSync())},e.prototype.data=function(){return Je(this,void 0,void 0,function(){var e,t;return $e(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=an().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map(function(e){return Xt(e)})]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}case 2:return[2,e]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var e=an().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return Xt(e)})}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,an().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(an().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),on.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),on.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),on.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),on.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),on.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),on.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),on.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var i=jt(t),a=function(e,t,n,r){var i=mt(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,A="complex64"===n?nn(e):e;if(s>1)for(var u=0;u<i/a;u++)for(var l=u*a,c=0;c<a;c++)o[c]=Math.max(o[c],en(A[l+c],0,n).length);return o}(e,t,n,i),o=t.length,s=function e(t,n,r,i,a,o){void 0===o&&(o=!0);var s="complex64"===r?2:1,A=n[0],u=n.length;if(0===u)return"complex64"===r?[en(nn(t)[0],0,r)]:"bool"===r?[tn(t[0])]:[t[0].toString()];if(1===u){if(A>20){var l=3*s,c=Array.from(t.slice(0,l)),h=Array.from(t.slice((A-3)*s,A*s));return"complex64"===r&&(c=nn(c),h=nn(h)),["["+c.map(function(e,t){return en(e,a[t],r)}).join(", ")+", ..., "+h.map(function(e,t){return en(e,a[A-3+t],r)}).join(", ")+"]"]}return["["+("complex64"===r?nn(t):Array.from(t)).map(function(e,t){return en(e,a[t],r)}).join(", ")+"]"]}var f=n.slice(1),d=i.slice(1),p=i[0]*s,g=[];if(A>20){for(var m=0;m<3;m++){var v=(w=m*p)+p;g.push.apply(g,e(t.slice(w,v),f,r,d,a,!1))}for(g.push("..."),m=A-3;m<A;m++)v=(w=m*p)+p,g.push.apply(g,e(t.slice(w,v),f,r,d,a,m===A-1))}else for(m=0;m<A;m++){var w;v=(w=m*p)+p,g.push.apply(g,e(t.slice(w,v),f,r,d,a,m===A-1))}var y=2===u?",":"";for(g[0]="["+g[0]+y,m=1;m<g.length-1;m++)g[m]=" "+g[m]+y;var b=",\n";for(m=2;m<u;m++)b+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":b),g}(e,t,n,i,a),A=["Tensor"];return r&&(A.push("  dtype: "+n),A.push("  rank: "+o),A.push("  shape: ["+t+"]"),A.push("  values:")),A.push(s.map(function(e){return"    "+e}).join("\n")),A.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),on.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),on.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),on.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),on.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),on.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),on.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),on.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),on.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),on.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),on.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),on.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),on.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),sn("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.batchNorm=function(e,t,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),on.batchNorm(this,e,t,n,r,i)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),on.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),on.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),on.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),on.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),on.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),on.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),on.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),on.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),on.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),on.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),on.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),on.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),on.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),on.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),on.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),on.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),on.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),on.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),on.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),on.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),on.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),on.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),on.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),on.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),on.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),on.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),on.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),on.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),on.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),on.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),on.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),on.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),on.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),on.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),on.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),on.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),on.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),on.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),on.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),on.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),on.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),on.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),on.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),on.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),on.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),on.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),on.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),on.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),on.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),on.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),on.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),on.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),on.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),on.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),on.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),on.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),on.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),on.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),on.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),on.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),on.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),on.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),on.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),on.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),on.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),on.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),on.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),on.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),on.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),on.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),on.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),on.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),on.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),on.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),on.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),on.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),on.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),on.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),on.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),on.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),on.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),on.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),on.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),on.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),on.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),on.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),on.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),on.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),on.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),on.conv1d(this,e,t,n,r,i,a)},e.prototype.conv2d=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),on.conv2d(this,e,t,n,r,i,a)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),on.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),on.depthwiseConv2d(this,e,t,n,r,i,a)},e.prototype.separableConv2d=function(e,t,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),on.separableConv2d(this,e,t,n,r,i,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),on.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),on.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),on.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),on.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),an().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),on.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),on.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),on.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),on.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),this.throwIfDisposed(),on.stridedSlice(this,e,t,n,r,i,a,o,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),on.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),on.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),on.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),on.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),on.spectral.irfft(this)},e}();Object.defineProperty(An,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var un,ln,cn,hn,fn,dn=function(e){function t(t,n,r,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=r,a}return Ye(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!vt(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");an().disposeTensor(this),this.dataId=e.dataId,an().incRef(this,null)},t.prototype.dispose=function(){an().disposeVariable(this),this.isDisposedInternal=!0},t}(An);Object.defineProperty(dn,Symbol.hasInstance,{value:function(e){return e instanceof An&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(un||(un={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ln||(ln={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(cn||(cn={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(hn||(hn={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(fn||(fn={}));var pn={float32:hn,int32:ln,bool:cn,complex64:fn};function gn(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return pn[e][t]}function mn(e){return gn(e,"int32")}function vn(e,t){if(e.dtype===t.dtype)return[e,t];var n=gn(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function wn(e,t){ft(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function yn(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof An)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,a=t;for(var o in a){var s=a[o];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:vn,assertTypesMatch:wn,isTensorInList:function(e,t){return t.some(function(t){return t.id===e.id})},getTensorsInContainer:yn});var bn,xn=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Bn=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new xn}return e.prototype.ready=function(){return Je(this,void 0,void 0,function(){var e,t,n;return $e(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return Je(this,void 0,void 0,function(){var t,n,r;return $e(this,function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new $t(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var e=this;at(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})},e.prototype.disposeRegisteredKernels=function(e){var t=this;at(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then(function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)}).catch(function(n){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(function(){return r.startScope(i)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){return e.toFloat()}}},[]),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach(function(e){i+="complex64"===e.dtype?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,a,o){var s,A=this;void 0===a&&(a=[]),void 0===o&&(o=[]);var u=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var c,h=function(e){l&&(u=e.map(function(e){return A.keep(A.clone(e))}))},f=this.state.numBytes,d=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var p,g=it(r,this.backendName);return c=null!=g?function(){var e=A.backend.numDataIds();p=g.kernelFunc({inputs:t,attrs:i,backend:A.backend});var n=Array.isArray(p)?p:[p];A.shouldCheckForMemLeaks()&&A.checkKernelForMemLeak(r,e,n);var s=n.map(function(e){var t=e.dataId,n=e.shape,r=e.dtype;return A.makeTensorFromDataId(t,n,r)}),u=s.filter(function(e,t){return o[t]});return h((a||[]).slice().concat(u)),s}:function(){var t=A.backend.numDataIds();p=A.tidy(function(){return e(A.backend,h)});var n=Array.isArray(p)?p:[p];return A.shouldCheckForMemLeaks()&&A.checkKernelForMemLeak(r,t,n),n},this.scopedRun(function(){return A.state.kernelDepth++},function(){return A.state.kernelDepth--},function(){s=A.ENV.getBool("DEBUG")?A.profiler.profileKernel(r,t,function(){return c()}):c()}),l&&this.addTapeNode(r,t,s,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-f,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-d,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShapes:s.map(function(e){return e.shape})}),Array.isArray(p)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&Rt(e[0])&&(i=e.map(function(e){return qt(e)}));var a=r.write(i,t,n),o=new An(t,n,a,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(a),A=Qt(i);this.state.numBytes+=A-s.bytes,s.bytes=A}return o},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new An(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new dn(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*Lt(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof dn||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return Je(this,void 0,void 0,function(){var t,n;return $e(this,function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i){var a=this,o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},s=function(e){return rt.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(o.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],i=Wt(r.size,r.dtype);return a.makeTensor(i,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],i)}),this.state.activeTape.push(o)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=yn(e),r=new Set(n.map(function(e){return e.id})),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==o.id||t.track(e)})},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),ft(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",e)});ft(a instanceof An,function(){return"The result y returned by f() must be a tensor."});var o=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var o=(d=e[a]).inputs;for(var s in o){for(var A=o[s],u=!1,l=0;l<t.length;l++)if(r[A.id]){d.outputs.forEach(function(e){return r[e.id]=!0}),u=!0,i[d.id]=!0;break}if(u)break}}var c={};c[n.id]=!0;var h={};for(a=e.length-1;a>=0;a--)for(o=(d=e[a]).inputs,l=0;l<d.outputs.length;l++)if(c[d.outputs[l].id]){for(var s in o)c[o[s].id]=!0,h[d.id]=!0;break}var f=[];for(a=0;a<e.length;a++){var d;if(i[(d=e[a]).id]&&h[d.id]){var p={};for(var s in d.inputs){var g=d.inputs[s];r[g.id]&&(p[s]=g)}var m=Object.assign({},d);m.inputs=p,m.outputs=d.outputs,f.push(m)}}return f}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,r,s={};s[a.id]=null==n?(r=zt(mt(e=a.shape),"float32"),Cn.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],a=[];if(i.outputs.forEach(function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var o=i.gradient(a),s=function(t){if(!(t in o))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(o)+".");var r=n(function(){return o[t]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[t];if(!vt(r.shape,a.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var A in i.inputs)s(A)},i=t.length-1;i>=0;i--)r(i)}(s,o,function(e){return i.tidy(e)});var A=t.map(function(e){return s[e.id]});return 0===i.state.gradientDepth&&(i.state.activeTape.forEach(function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()}),i.state.activeTape=null),{value:a,grads:A}})},e.prototype.customGrad=function(e){var t=this;return ft(Ot(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];ft(r.every(function(e){return e instanceof An}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return r.forEach(function(e,t){a[t]=e}),t.runKernelFunc(function(t,i){return ft((n=e.apply(void 0,r.concat([i]))).value instanceof An,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),ft(Ot(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},a,function(e,t){var i=n.gradFunc(e,t),a=Array.isArray(i)?i:[i];ft(a.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),ft(a.every(function(e){return e instanceof An}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var o={};return a.forEach(function(e,t){o[t]=function(){return e}}),o})}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return Je(this,void 0,void 0,function(){var t,n;return $e(this,function(r){switch(r.label){case 0:return t=Vt(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=Vt()-t,[2,n]}})})},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new xn,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Cn=function(){var e=function(){if(null==bn){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}bn=e}return bn}();if(null==e._tfengine){var t=new Ze(e);e._tfengine=new Bn(t)}return function(e){tt=e}(e._tfengine.ENV),an=function(){return e._tfengine},e._tfengine}();function En(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Fn=et();Fn.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Fn.registerFlag("IS_BROWSER",function(){return En()}),Fn.registerFlag("IS_NODE",function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}),Fn.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Fn.registerFlag("PROD",function(){return!1}),Fn.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Fn.getBool("DEBUG")}),Fn.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Fn.registerFlag("IS_TEST",function(){return!1});var Sn,kn,_n,In={},Nn={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Un(e,t){In[e]=t}function Ln(e){e in In||(In[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete In[e]},!1),1===e?t.getContext("webgl",Nn)||t.getContext("experimental-webgl",Nn):t.getContext("webgl2",Nn)}(e));var t=In[e];return t.isContextLost()?(delete In[e],Ln(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),In[e])}function Qn(e,t){return[t,e]}function Rn(e){var t=mt(e);return bt(Math.ceil(t/4))}function Dn(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Tn(e,t){var n,r,i,a,o,s,A,u,l,c=e;return 2===et().getNumber("WEBGL_VERSION")?(n=c.R32F,r=c.R16F,i=c.RGBA16F,a=c.RGBA32F,o=c.RED,s=4,A=1,u=c.HALF_FLOAT,l=c.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=c.RGBA,o=e.RGBA,s=4,A=4,u=null!=t?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:A,textureTypeHalfFloat:u,textureTypeFloat:l}}function Pn(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Mn(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Sn||(Sn={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(kn||(kn={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(_n||(_n={}));function On(e){return!!(et().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Mn(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function jn(e,t,n){return lr(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function Hn(e,t,n){var r=lr(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Pn(e,t,function(){return e.shaderSource(r,n)}),Pn(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Kn(e,t,n){var r=lr(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Pn(e,t,function(){return e.shaderSource(r,n)}),Pn(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=Vn.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map(function(e,t){return xt((t+1).toString(),a)+e}),s=0,A=0;A<o.length;A++)s=Math.max(o[A].length,s);var u=o.slice(0,r-1),l=o.slice(r-1,r),c=o.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+xt(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var zn,Wn,Vn=/ERROR: [0-9]+:([0-9]+):/g;function Gn(e,t){return lr(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function qn(e,t,n){if(Pn(e,t,function(){return e.linkProgram(n)}),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function Xn(e,t,n){if(Pn(e,t,function(){return e.validateProgram(n)}),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function Yn(e,t,n){var r=lr(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Pn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Pn(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function Jn(e,t,n){var r=lr(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Pn(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),Pn(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function $n(e,t){return lr(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function Zn(e,t){var n=et().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function er(e,t){return lr(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function tr(e,t,n,r,i,a,o,s){var A=e.getAttribLocation(n,r);return-1!==A&&(Pn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,i)}),Pn(e,t,function(){return e.vertexAttribPointer(A,a,e.FLOAT,!1,o,s)}),Pn(e,t,function(){return e.enableVertexAttribArray(A)}),!0)}function nr(e,t,n,r){cr(e,r),Pn(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function rr(e,t,n,r){return lr(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function ir(e,t,n){return e.getUniformLocation(t,n)}function ar(e,t,n,r,i,a){Pn(e,t,function(){return nr(e,t,r,a)}),Pn(e,t,function(){return e.uniform1i(i,a)})}function or(e,t,n,r){Pn(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),Pn(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function sr(e,t,n){Pn(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),Pn(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function Ar(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+ur(e,t))}function ur(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function lr(e,t,n,r){var i=Pn(e,t,function(){return n()});if(null==i)throw new Error(r);return i}function cr(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function hr(e,t){return void 0===t&&(t=2),mt(e.slice(0,e.length-t))}function fr(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function dr(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[hr(e)].concat(fr(e))),t}function pr(e,t){var n;void 0===t&&(t=!1);var r=et().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?ct(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var i=Ft(e);e=i.newShape}var a=mt(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=hr(e),s=2,A=2;return e.length&&(s=(n=fr(e))[0],A=n[1]),bt(a=o*(s/2)*(A/2)).map(function(e){return 2*e})}return bt(a)}function gr(e){return e%2==0}function mr(e,t){if(vt(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(gr(n)&&gr(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&gr(e[0])&&gr(t[0])}function vr(e){if(null==zn){var t=Ln(e);zn=t.getParameter(t.MAX_TEXTURE_SIZE)}return zn}function wr(e){if(null==Wn){var t=Ln(e);Wn=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Wn)}function yr(e){if(0===e)return 0;var t=Ln(e);return br(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:br(t,"EXT_disjoint_timer_query")?1:0}function br(e,t){return null!=e.getExtension(t)}function xr(e){try{if(null!=Ln(e))return!0}catch(e){return!1}return!1}function Br(e){if(0===e)return!1;var t=Ln(e);if(1===e){if(!br(t,"OES_texture_float"))return!1}else if(!br(t,"EXT_color_buffer_float"))return!1;return Er(t)}function Cr(e){if(0===e)return!1;var t=Ln(e);if(1!==e){if(br(t,"EXT_color_buffer_float"))return Er(t);if(br(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=Tn(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}(t,n)}return!1}return!!br(t,"OES_texture_float")&&!!br(t,"WEBGL_color_buffer_float")&&Er(t)}function Er(e){var t=Tn(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function Fr(e){return 2===e&&null!=Ln(e).fenceSync}var Sr=Object.freeze({callAndCheck:Pn,canBeRepresented:On,getWebGLErrorMessage:Mn,getExtensionOrThrow:jn,createVertexShader:Hn,createFragmentShader:Kn,createProgram:Gn,linkProgram:qn,validateProgram:Xn,createStaticVertexBuffer:Yn,createStaticIndexBuffer:Jn,getNumChannels:function(){return 2===et().getNumber("WEBGL_VERSION")?1:4},createTexture:$n,validateTextureSize:Zn,createFramebuffer:er,bindVertexBufferToProgramAttribute:tr,bindTextureUnit:nr,unbindTextureUnit:function(e,t,n){cr(e,n),Pn(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:rr,getProgramUniformLocation:ir,bindTextureToProgramUniformSampler:ar,bindCanvasToFramebuffer:function(e,t){Pn(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Pn(e,t,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),Pn(e,t,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:or,unbindColorTextureFromFramebuffer:sr,validateFramebuffer:Ar,getFramebufferErrorMessage:ur,getBatchDim:hr,getRowsCols:fr,getShapeAs3D:dr,getTextureShapeFromLogicalShape:pr,isReshapeFree:mr,getWebGLMaxTextureSize:vr,resetMaxTextureSize:function(){zn=null},resetMaxTexturesInShader:function(){Wn=null},getMaxTexturesInShader:wr,getWebGLDisjointQueryTimerVersion:yr,hasExtension:br,isWebGLVersionEnabled:xr,isCapableOfRenderingToFloatTexture:Br,isDownloadFloatTextureEnabled:Cr,isWebGLFenceEnabled:Fr}),kr=et();function _r(e){et().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ir(e,t){return Cn.tidy(e,t)}function Nr(e){yn(e).forEach(function(e){return e.dispose()})}function Ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];et().getBool("IS_TEST")||console.warn.apply(console,e)}function Lr(e,t){var n=e;if(Ut(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Ut(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&et().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||Ut(t)){ft(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),ft(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var i=n.slice(1),a=0;a<t.length;++a)e(t[a],i,r.concat(a))}else ft(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(e,r,[]),r}function Qr(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function Rr(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof An)return Qr(r,e.dtype,t,n),e;var i=Pt(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),Qr(r,i,t,n),null==e||!Ut(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=Lr(e,i);Ut(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?Ht(e,i,et().getBool("DEBUG")):gt(e,[],!0);return Cn.makeTensor(s,o,i)}function Dr(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return Rr(e,t+"["+r+"]",n)},r)}function Tr(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Pr(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function Or(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map(function(t){return e[t]})]}function Mr(e,t){return Pr(e,t.map(function(e){return 1}),t)}function jr(e,t,n){ft(Tr(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function Hr(e,t){if(Tr(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function Kr(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function zr(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function Wr(e,t){var n=e[0].length;e.forEach(function(e,t){ft(e.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"})}),ft(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(e,i){for(var a=0;a<n;a++)ft(a===t||e[a]===r[a],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function Vr(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function Gr(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Cn.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Cn.endScope(i),i}catch(e){throw Cn.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}kr.registerFlag("HAS_WEBGL",function(){return kr.getNumber("WEBGL_VERSION")>0}),kr.registerFlag("WEBGL_VERSION",function(){return xr(2)?2:xr(1)?1:0}),kr.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===kr.get("WEBGL_VERSION")}),kr.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),kr.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),kr.registerFlag("WEBGL_PACK",function(){return kr.getBool("HAS_WEBGL")}),kr.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_CLIP",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),kr.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_PACK_REDUCE",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_LAZILY_UNPACK",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_CONV_IM2COL",function(){return kr.getBool("WEBGL_PACK")}),kr.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return vr(kr.getNumber("WEBGL_VERSION"))}),kr.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return wr(kr.getNumber("WEBGL_VERSION"))}),kr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=kr.getNumber("WEBGL_VERSION");return 0===e?0:yr(e)}),kr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return kr.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),kr.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Br(kr.getNumber("WEBGL_VERSION"))}),kr.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!kr.getBool("WEBGL_FORCE_F16_TEXTURES")&&kr.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),kr.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Cr(kr.getNumber("WEBGL_VERSION"))}),kr.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return Fr(kr.getNumber("WEBGL_VERSION"))}),kr.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return kr.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),sn=_r;var qr=Gr({complex_:function(e,t){var n=Rr(e,"real","complex"),r=Rr(t,"imag","complex");return dt(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Cn.runKernelFunc(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),Xr=Gr({real_:function(e){var t=Rr(e,"input","real");return Cn.runKernelFunc(function(e){return e.real(t)},{$input:t})}}),Yr=Gr({imag_:function(e){var t=Rr(e,"input","imag");return Cn.runKernelFunc(function(e){return e.imag(t)},{$input:t})}});function Jr(e,t,n){return $r(e,t,Lr(e,n),n)}function $r(e,t,n,r){if(null==r&&(r=Pt(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ut(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Gt(t);var i=mt(t),a=mt(n);ft(i===a,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a});for(var o=0;o<n.length;++o){var s=n[o],A=o!==n.length-1||s!==mt(t.slice(o));ft(n[o]===t[o]||!A,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return Ut(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Ht(e,r,et().getBool("DEBUG")):gt(e,[],!0),Cn.makeTensor(e,t,r)}function Zr(e,t){if((Ut(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ut(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return $r(e,[],[],t)}function ei(e,t){pt(e);var n=Lr(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return $r(e,null,n,t)}function ti(e,t,n){if(pt(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Lr(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return $r(e,t,r,n)}function ni(e,t,n){if(pt(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Lr(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return $r(e,t,r,n)}function ri(e,t,n){if(pt(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Lr(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return $r(e,t,r,n)}function ii(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=ii(e,"float32"),r=ai(e,"float32");return qr(n,r)}var i=zt(mt(e),t);return Cn.makeTensor(i,e,t)}function ai(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=ai(e,"float32"),r=ai(e,"float32");return qr(n,r)}var i=Wt(mt(e),t);return Cn.makeTensor(i,e,t)}function oi(e,t,n){return Cn.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function si(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return ai([0],r);var i=Wt(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return ei(i,r)}var Ai=Gr({onesLike_:function(e){var t=Rr(e,"x","onesLike");if("complex64"===t.dtype){var n=Ai(Xr(t)),r=ui(Yr(t));return qr(n,r)}return Cn.runKernelFunc(function(e){return e.onesLike(t)},{$x:t},function(e,t){return{$x:function(){return ui(e)}}})}}),ui=Gr({zerosLike_:function(e){var t=Rr(e,"x","zerosLike");return Cn.runKernelFunc(function(e){return e.zerosLike(t)},{$x:t},function(e,t){return{$x:function(){return ui(e)}}})}}),li=Gr({concat_:function(e,t){void 0===t&&(t=0),ft(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Dr(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")}),t=Et(t,n[0].shape)[0];var r=Vr(n.map(function(e){return e.shape}),t);if(0===mt(r))return Jr([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var i=n.map(function(e){return e.shape});Wr(i,t);var a=n,o={axis:t};return Cn.runKernelFunc(function(e){return e.concat(n,t)},a,function(e){var n=i.map(function(e){return e[t]});return pi(e,n,t).map(function(e){return function(){return e}})},"Concat",o)}}),ci=Gr({concat1d_:function(e){return li(e,0)}}),hi=Gr({concat2d_:function(e,t){return li(e,t)}}),fi=Gr({concat3d_:function(e,t){return li(e,t)}}),di=Gr({concat4d_:function(e,t){return li(e,t)}}),pi=Gr({split_:function(e,t,n){void 0===n&&(n=0);var r,i=Rr(e,"x","split");return n=Et(n,i.shape)[0],"number"==typeof t?(ft(i.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(i.shape[n]/t)):(ft(i.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),Cn.runKernelFunc(function(e){return e.split(i,r,n)},{$x:i},function(e){return{$x:function(){return li(e,n)}}})}});function gi(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var mi=gi(function(e){!function(e,t){function n(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var i=new n(e),a=t&&t.state,o=i.next;return o.int32=function(){return 4294967296*i.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.alea=i}(0,e)}),vi=gi(function(e){!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xor128=i}(0,e)}),wi=gi(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)}),yi=gi(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&(a.x&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)}),bi=gi(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],A=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,A=Math.max(A,t.length)),i=0,a=-32;a<A;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&(a.X&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)}),xi=gi(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.tychei=i}(0,e)}),Bi=gi(function(e){!function(t,r){var i,a=this,o=256,s="random",A=r.pow(o,6),u=r.pow(2,52),l=2*u,c=255;function h(e,n,c){var h=[],m=p(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,g(t)]}}():e,3),h),v=new f(h),w=function(){for(var e=v.g(6),t=A,n=0;e<u;)e=(e+n)*o,t*=o,n=v.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w.double=w,p(g(v.S),t),(n.pass||c||function(e,t,n,i){return i&&(i.S&&d(i,v),e.state=function(){return d(v,{})}),n?(r[s]=e,t):e})(w,m,"global"in n?n.global:this==r,n.state)}function f(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=c&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=c&i+1],n=n*o+s[c&(s[i]=s[a=c&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[c&i]=c&(n^=19*t[c&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=h,p(r.random(),t),e.exports){e.exports=h;try{i=n(8082)}catch(e){}}}([],Math)});Bi.alea=mi,Bi.xor128=vi,Bi.xorwow=wi,Bi.xorshift7=yi,Bi.xor4096=bi,Bi.tychei=xi;var Ci=Bi.alea,Ei=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=Ci(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Fi=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=Ci(i.toString()),this.randn=new Ei(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Si=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Ci(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function ki(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",Gt(e),new rn(e,t,n)}var _i=Gr({batchToSpaceND_:function(e,t,n){var r=Rr(e,"x","batchToSpaceND"),i=t.reduce(function(e,t){return e*t});return ft(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),ft(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),ft(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i}),Cn.runKernelFunc(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),Ii=Gr({broadcastTo_:function(e,t){var n=Rr(e,"broadcastTo","x"),r=n.shape;if(t.some(function(e){return!(e>0)||e%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var a=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])a[o]=1;else if(1!==n.shape[o])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=a.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0});return 0===s.length?n.clone():Cn.runKernelFunc(function(e){return e.tile(n,a)},{input:n},function(e){return{input:function(){return e.sum(s,!0)}}})}}),Ni=Gr({cast_:function(e,t){var n=Rr(e,"x","cast");if(!It(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Cn.runKernelFunc(function(e){return e.cast(n,t)},{x:n},function(e){return{x:function(){return e.clone()}}},"Cast",r)}}),Ui=Gr({clone_:function(e){var t=Rr(e,"x","clone",null);return Cn.runKernelFunc(function(){return Cn.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),Li=Gr({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Rr(e,"x","cumsum"),a=Hr([t|=0],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=zr(1,i.rank)[0],A=Cn.runKernelFunc(function(e){return e.cumsum(o,s,n,r)},{permutedX:o},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=a&&(A=A.transpose(a)),A}}),Qi=Gr({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=Rr(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];return ft(i*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape}),ft(a*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape}),ft(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape}),Cn.runKernelFunc(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),Ri=Gr({expandDims_:function(e,t){void 0===t&&(t=0);var n=Rr(e,"x","expandDims",null);ft(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(ft(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),qi(n,r)}}),Di=Gr({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=ki([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return $i(Ri(s,0),[n[0],1,1]);if(2===n.length)return $i(Ri(Ri(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return $i(Ri(Ri(Ri(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Ti=Gr({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=Rr(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=1===o?i.as2D(1,-1):i,A=Cn.runKernelFunc(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===o?A.as1D():A}}),Pi=Gr({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=Rr(e,"indices","oneHot","int32"),a=i.shape.concat([t]);return i=i.flatten(),Cn.runKernelFunc(function(e){return e.oneHot(i,t,n,r)},{$indices:i},function(e){return{$indices:function(){return ai(i.shape,"float32")}}}).reshape(a)}}),Oi=Gr({pad_:function(e,t,n){void 0===n&&(n=0);var r=Rr(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n};return Cn.runKernelFunc(function(e){return e.pad(r,t,n)},{x:r},function(e){var n=t.map(function(e){return e[0]});return{x:function(){return e.slice(n,r.shape)}}},"PadV2",i)}}),Mi=Gr({pad1d_:function(e,t,n){return void 0===n&&(n=0),ft(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),Oi(e,[t],n)}}),ji=Gr({pad2d_:function(e,t,n){return void 0===n&&(n=0),ft(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Oi(e,t,n)}}),Hi=Gr({pad3d_:function(e,t,n){return void 0===n&&(n=0),ft(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Oi(e,t,n)}}),Ki=Gr({pad4d_:function(e,t,n){return void 0===n&&(n=0),ft(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Oi(e,t,n)}}),zi=Gr({rand_:function(e,t,n){var r=mt(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return Cn.makeTensor(i,e,n)}}),Wi=Gr({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Ei(t,n,r,!1,i),o=ki(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Vi=Gr({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new Fi(t,n,r,i),o=ki(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Gi=Gr({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=ki(e,r),o=new Si(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),qi=Gr({reshape_:function(e,t){var n=Rr(e,"x","reshape",null);t=Ct(t,n.size),ft(n.size===mt(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return Cn.runKernelFunc(function(e){return e.reshape(n,t)},{x:n},function(e){return{x:function(){return e.reshape(n.shape)}}},"Reshape",r)}}),Xi=Gr({spaceToBatchND_:function(e,t,n){var r=Rr(e,"x","spaceToBatchND");return ft(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),ft(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),ft(r.shape.reduce(function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),Cn.runKernelFunc(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),Yi=Gr({squeeze_:function(e,t){var n=Rr(e,"x","squeeze");return qi(n,Ft(n.shape,t).newShape)}}),Ji=Gr({stack_:function(e,t){void 0===t&&(t=0);var n=Dr(e,"tensors","stack");if(ft(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;ft(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(e){dt(i,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){ft(a===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(e){return e.expandDims(t)});return li(o,t)}}),$i=Gr({tile_:function(e,t){var n=Rr(e,"x","tile",null);ft(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],i={reps:t};return Cn.runKernelFunc(function(e,r){var i=e.tile(n,t);return r([n]),i},{x:n},function(e,n){var r=n[0];return{x:function(){var n=ui(r);if(1===r.rank)for(var i=0;i<t[0];++i)n=n.add(e.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<t[0];++i)for(var a=0;a<t[1];++a)n=n.add(e.slice([i*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(var o=0;o<t[2];++o)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(o=0;o<t[2];++o)for(var s=0;s<t[3];++s)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",i,r)}}),Zi=Gr({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Ei(t,n,r,!0,i),o=ki(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),ea=Gr({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=Rr(e,"x","unstack");ft(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return Cn.runKernelFunc(function(e){return e.unstack(n,t)},{x:n},function(e){return{x:function(){return Ji(e,t)}}},"Unpack",r)}});function ta(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function na(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function ra(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function ia(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function aa(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}function oa(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var o=e.shape,s=n.slice();s.pop();var A=1;for(a=r;a<e.rank;++a)A*=o[a],s.push(o[a]);var u=jt(e.shape).map(function(e){return e/A}).concat([1]).slice(0,r);return[s,i,A,u]}Object.freeze({prepareAndValidate:oa});function sa(e){return e<=30?e:Mt(e,Math.floor(Math.sqrt(e)))}function Aa(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape["+(o+i)+"] ("+n.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function ua(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Aa(n,t,e)}function la(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length,o=1,s=i;s<a;++s)o*=n[s];var A=i<1?1:i;return{sliceRank:i,numUpdates:mt(t.shape)/A,sliceSize:o,strides:jt(n.slice(0,i)).concat([1]),outputSize:mt(n)}}Object.freeze({validateUpdateShape:Aa,validateInput:ua,calculateShapes:la});function ca(e,t,n){ft(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),ft(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(r){ft(t[r]+n[r]<=e.shape[r],function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"})},i=0;i<e.rank;++i)r(i)}function ha(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function fa(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function da(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),lt(0,a,s-1)}function pa(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),o>0?lt(0,a,s):lt(-1,a,s-1)}function ga(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function ma(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:ca,maskToAxes:ha,computeOutShape:fa,startForAxis:da,stopForAxis:pa,isSliceContinous:ga,computeFlatOffset:ma});function va(e){return Cn.customGrad(e)}var wa=Gr({softmax_:function(e,t){void 0===t&&(t=-1);var n=Rr(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Cn.runKernelFunc(function(e,r){var i=e.softmax(n,t);return r([i]),i},{logits:n},function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}},"Softmax",{dim:t},[],[!0])}}),ya=Gr({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=Rr(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return va(function(e,n){var r=e.max(t,!0),i=e.sub(r),a=i.toFloat().sub(i.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}})(n)}}),ba=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),xa=function(){function e(){}return e.prototype.time=function(e){return Ba("time")},e.prototype.read=function(e){return Ba("read")},e.prototype.readSync=function(e){return Ba("readSync")},e.prototype.numDataIds=function(){return Ba("numDataIds")},e.prototype.disposeData=function(e){return Ba("disposeData")},e.prototype.write=function(e,t,n){return Ba("write")},e.prototype.move=function(e,t,n,r){return Ba("move")},e.prototype.memory=function(){return Ba("memory")},e.prototype.floatPrecision=function(){return Ba("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Ba("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Ba("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Ba("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Ba("stridedSlice")},e.prototype.unstack=function(e,t){return Ba("unstack")},e.prototype.reverse=function(e,t){return Ba("reverse")},e.prototype.concat=function(e,t){return Ba("concat")},e.prototype.neg=function(e){return Ba("neg")},e.prototype.add=function(e,t){return Ba("add")},e.prototype.addN=function(e){return Ba("addN")},e.prototype.subtract=function(e,t){return Ba("subtract")},e.prototype.multiply=function(e,t){return Ba("multiply")},e.prototype.realDivide=function(e,t){return Ba("realDivide")},e.prototype.floorDiv=function(e,t){return Ba("floorDiv")},e.prototype.sum=function(e,t){return Ba("sum")},e.prototype.prod=function(e,t){return Ba("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Ba("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Ba("argMin")},e.prototype.argMax=function(e,t){return Ba("argMax")},e.prototype.equal=function(e,t){return Ba("equal")},e.prototype.notEqual=function(e,t){return Ba("notEqual")},e.prototype.less=function(e,t){return Ba("less")},e.prototype.lessEqual=function(e,t){return Ba("lessEqual")},e.prototype.greater=function(e,t){return Ba("greater")},e.prototype.greaterEqual=function(e,t){return Ba("greaterEqual")},e.prototype.logicalNot=function(e){return Ba("logicalNot")},e.prototype.logicalAnd=function(e,t){return Ba("logicalAnd")},e.prototype.logicalOr=function(e,t){return Ba("logicalOr")},e.prototype.where=function(e){return Ba("where")},e.prototype.select=function(e,t,n){return Ba("select")},e.prototype.topk=function(e,t,n){return Ba("topk")},e.prototype.min=function(e,t){return Ba("min")},e.prototype.minimum=function(e,t){return Ba("minimum")},e.prototype.mod=function(e,t){return Ba("mod")},e.prototype.max=function(e,t){return Ba("max")},e.prototype.maximum=function(e,t){return Ba("maximum")},e.prototype.all=function(e,t){return Ba("all")},e.prototype.any=function(e,t){return Ba("any")},e.prototype.squaredDifference=function(e,t){return Ba("squaredDifference")},e.prototype.ceil=function(e){return Ba("ceil")},e.prototype.floor=function(e){return Ba("floor")},e.prototype.round=function(e){return Ba("round")},e.prototype.sign=function(e){return Ba("sign")},e.prototype.isNaN=function(e){return Ba("isNaN")},e.prototype.isInf=function(e){return Ba("isInf")},e.prototype.isFinite=function(e){return Ba("isFinite")},e.prototype.pow=function(e,t){return Ba("pow")},e.prototype.exp=function(e){return Ba("exp")},e.prototype.expm1=function(e){return Ba("expm1")},e.prototype.softmax=function(e,t){return Ba("softmax")},e.prototype.log=function(e){return Ba("log")},e.prototype.log1p=function(e){return Ba("log1p")},e.prototype.sqrt=function(e){return Ba("sqrt")},e.prototype.rsqrt=function(e){return Ba("rsqrt")},e.prototype.square=function(e){return Ba("square")},e.prototype.reciprocal=function(e){return Ba("reciprocal")},e.prototype.relu=function(e){return Ba("relu")},e.prototype.relu6=function(e){return Ba("relu6")},e.prototype.prelu=function(e,t){return Ba("prelu")},e.prototype.elu=function(e){return Ba("elu")},e.prototype.eluDer=function(e,t){return Ba("eluDer")},e.prototype.selu=function(e){return Ba("selu")},e.prototype.int=function(e){return Ba("int")},e.prototype.clip=function(e,t,n){return Ba("clip")},e.prototype.abs=function(e){return Ba("abs")},e.prototype.complexAbs=function(e){return Ba("complexAbs")},e.prototype.sigmoid=function(e){return Ba("sigmoid")},e.prototype.softplus=function(e){return Ba("softplus")},e.prototype.sin=function(e){return Ba("sin")},e.prototype.cos=function(e){return Ba("cos")},e.prototype.tan=function(e){return Ba("tan")},e.prototype.asin=function(e){return Ba("asin")},e.prototype.acos=function(e){return Ba("acos")},e.prototype.atan=function(e){return Ba("atan")},e.prototype.atan2=function(e,t){return Ba("atan2")},e.prototype.sinh=function(e){return Ba("sinh")},e.prototype.cosh=function(e){return Ba("cosh")},e.prototype.tanh=function(e){return Ba("tanh")},e.prototype.asinh=function(e){return Ba("asinh")},e.prototype.acosh=function(e){return Ba("acosh")},e.prototype.atanh=function(e){return Ba("atanh")},e.prototype.erf=function(e){return Ba("erf")},e.prototype.step=function(e,t){return Ba("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ba("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Ba("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Ba("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Ba("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ba("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Ba("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Ba("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Ba("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Ba("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Ba("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Ba("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Ba("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Ba("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Ba("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Ba("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Ba("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Ba("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Ba("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Ba("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Ba("reshape")},e.prototype.cast=function(e,t){return Ba("cast")},e.prototype.tile=function(e,t){return Ba("tile")},e.prototype.pad=function(e,t,n){return Ba("pad")},e.prototype.transpose=function(e,t){return Ba("transpose")},e.prototype.gather=function(e,t,n){return Ba("gather")},e.prototype.gatherND=function(e,t){return Ba("gatherND")},e.prototype.scatterND=function(e,t,n){return Ba("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Ba("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Ba("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Ba("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Ba("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Ba("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Ba("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,a){return Ba("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return Ba("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,a,o){return Ba("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Ba("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Ba("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Ba("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return Ba("nonMaxSuppression")},e.prototype.fft=function(e){return Ba("fft")},e.prototype.ifft=function(e){return Ba("ifft")},e.prototype.complex=function(e,t){return Ba("complex")},e.prototype.real=function(e){return Ba("real")},e.prototype.imag=function(e){return Ba("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,a){return Ba("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Ba("depthToSpace")},e.prototype.split=function(e,t,n){return Ba("split")},e.prototype.sparseToDense=function(e,t,n,r){return Ba("sparseToDense")},e.prototype.diag=function(e){return Ba("diag")},e.prototype.fill=function(e,t,n){return Ba("fill")},e.prototype.onesLike=function(e){return Ba("onesLike")},e.prototype.zerosLike=function(e){return Ba("zerosLike")},e.prototype.linspace=function(e,t,n){return Ba("linspace")},e.prototype.dispose=function(){return Ba("dispose")},e}();function Ba(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Ca(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function Ea(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function Fa(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}function Sa(e,t,n,r,i,a,o){void 0===o&&(o="channelsLast");var s,A=Ua(t),u=A[0],l=A[1];if("channelsLast"===o)s=[u,l,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);s=[u,l,e[1],e[1]]}return _a(e,s,n,r,i,a,!1,o)}function ka(e,t,n,r,i,a,o){void 0===o&&(o="NDHWC");var s,A,u=La(t),l=u[0],c=u[1],h=u[2];if("NDHWC"===o)A="channelsLast",s=[l,c,h,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat "+o);A="channelsFirst",s=[l,c,h,e[1],e[1]]}return Ia(e,s,n,r,i,!1,A,a)}function _a(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s="channelsLast");var A=[-1,-1,-1,-1],u=A[0],l=A[1],c=A[2],h=A[3];if("channelsLast"===s)u=e[0],l=e[1],c=e[2],h=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);u=e[0],h=e[1],l=e[2],c=e[3]}var f,d=t[0],p=t[1],g=t[3],m=Ua(n),v=m[0],w=m[1],y=Ua(r),b=y[0],x=y[1],B=Qa(d,b),C=Qa(p,x),E=function(e,t,n,r,i,a,o,s){var A,u,l;if("number"==typeof e){A={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var c=function(e,t,n,r,i){null==r&&(r=Na(e,t,n));var a=e[1],o=Ra((e[0]-t+2*r)/n+1,i);ft(wt(o),function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"});var s=Ra((a-t+2*r)/n+1,i);return ft(wt(s),function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"}),[o,s]}([t,n],a,r,e,s);u=c[0],l=c[1]}else if("same"===e){u=Math.ceil(t/r),l=Math.ceil(n/i);var h=Math.max(0,(u-1)*r+a-t),f=Math.max(0,(l-1)*i+o-n),d=Math.floor(h/2),p=h-d,g=Math.floor(f/2);A={top:d,bottom:p,left:g,right:f-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);A={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-a+1)/r),l=Math.ceil((n-o+1)/i)}return{padInfo:A,outHeight:u,outWidth:l}}(i,l,c,v,w,B,C,a),F=E.padInfo,S=E.outHeight,k=E.outWidth,_=o?g*h:g;return"channelsFirst"===s?f=[u,_,S,k]:"channelsLast"===s&&(f=[u,S,k,_]),{batchSize:u,dataFormat:s,inHeight:l,inWidth:c,inChannels:h,outHeight:S,outWidth:k,outChannels:_,padInfo:F,strideHeight:v,strideWidth:w,filterHeight:d,filterWidth:p,effectiveFilterHeight:B,effectiveFilterWidth:C,dilationHeight:b,dilationWidth:x,inShape:e,outShape:f,filterShape:t}}function Ia(e,t,n,r,i,a,o,s){void 0===a&&(a=!1),void 0===o&&(o="channelsLast");var A=[-1,-1,-1,-1,-1],u=A[0],l=A[1],c=A[2],h=A[3],f=A[4];if("channelsLast"===o)u=e[0],l=e[1],c=e[2],h=e[3],f=e[4];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);u=e[0],f=e[1],l=e[2],c=e[3],h=e[4]}var d,p=t[0],g=t[1],m=t[2],v=t[4],w=La(n),y=w[0],b=w[1],x=w[2],B=La(r),C=B[0],E=B[1],F=B[2],S=Qa(p,C),k=Qa(g,E),_=Qa(m,F),I=function(e,t,n,r,i,a,o,s,A,u,l){var c,h,f,d;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,i,a){null==i&&(i=Na(e,t,r));var o=e[1],s=e[2],A=Ra((e[0]-t+2*i)/r+1,a);ft(wt(A),function(){return"The output # of depths ("+A+") must be an integer. Change the stride and/or zero pad parameters"});var u=Ra((o-t+2*i)/r+1,a);ft(wt(u),function(){return"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters"});var l=Ra((s-t+2*i)/r+1,a);return ft(wt(l),function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"}),[A,u,l,1]}([t,n,r,1],s,0,i,e,l);h=p[0],f=p[1],d=p[2]}else if("same"===e){var g=((h=Math.ceil(t/i))-1)*i+s-t,m=((f=Math.ceil(n/a))-1)*a+A-n,v=((d=Math.ceil(r/o))-1)*o+u-r,w=Math.floor(g/2),y=g-w,b=Math.floor(m/2),x=m-b,B=Math.floor(v/2);c={top:b,bottom:x,left:B,right:v-B,front:w,back:y,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);c={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),f=Math.ceil((n-A+1)/a),d=Math.ceil((r-u+1)/o)}return{padInfo:c,outDepth:h,outHeight:f,outWidth:d}}(i,l,c,h,y,b,x,S,k,_,s),N=I.padInfo,U=I.outDepth,L=I.outHeight,Q=I.outWidth,R=a?v*f:v;return"channelsFirst"===o?d=[u,R,U,L,Q]:"channelsLast"===o&&(d=[u,U,L,Q,R]),{batchSize:u,dataFormat:o,inDepth:l,inHeight:c,inWidth:h,inChannels:f,outDepth:U,outHeight:L,outWidth:Q,outChannels:R,padInfo:N,strideDepth:y,strideHeight:b,strideWidth:x,filterDepth:p,filterHeight:g,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:k,effectiveFilterWidth:_,dilationDepth:C,dilationHeight:E,dilationWidth:F,inShape:e,outShape:d,filterShape:t}}function Na(e,t,n,r){void 0===r&&(r=1);var i=Qa(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function Ua(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function La(e){return"number"==typeof e?[e,e,e]:e}function Qa(e,t){return t<=1?e:e+(e-1)*(t-1)}function Ra(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function Da(e){var t=Ua(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Ta(e,t){return Da(e)||Da(t)}function Pa(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Oa(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=ai(e.shape),i=e.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!Nt(e.dtype,t))return Cn.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var o=n.real(e);return a=o.cast(t),o.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=Zr(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Ma(e,t){return Cn.makeTensorFromDataId(e.dataId,t,e.dtype)}function ja(e,t,n){var r=(t-e)/(n-1),i=Wt(n,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return ei(i,"float32")}Object.freeze({castTensor:Oa,reshapeTensor:Ma,linspaceImpl:ja,upcastType:gn,axesAreInnerMostDims:Tr,combineLocations:Pr,computeOutAndReduceShapes:Or,expandShapeToKeepDim:Mr,assertAxesAreInnerMostDims:jr,getAxesPermutation:Hr,getUndoAxesPermutation:Kr,getInnerMostAxes:zr,getBroadcastDims:Ca,getReductionAxes:Ea,assertAndGetBroadcastShape:Fa,assertParamsConsistent:Wr,computeOutShape:Vr,computePool2DInfo:Sa,computePool3DInfo:ka,computeConv2DInfo:_a,computeConv3DInfo:Ia,computeDefaultPad:Na,tupleValuesAreOne:Da,eitherStridesOrDilationsAreOne:Ta,convertConv2DDataFormat:Pa,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:sa});function Ha(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Ka(e,t){return{real:e[2*t],imag:e[2*t+1]}}function za(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Wa(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Va(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,a=0,o=!1;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||Ga)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function Ga(e,t){return e>t?1:e<t?-1:0}function qa(e,t,n,r,i){return Ya(e,t,n,r,i,0).selectedIndices}function Xa(e,t,n,r,i,a){var o=Ya(e,t,n,r,i,a,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function Ya(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);for(var A=Array.from(t).map(function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}}).filter(function(e){return e.score>i}).sort(Za),u=a>0?-.5/a:0,l=[],c=[];l.length<n&&A.length>0;){var h=A.pop(),f=h.score,d=h.boxIndex,p=h.suppressBeginIndex;if(f<i)break;for(var g=!1,m=l.length-1;m>=p;--m){var v=Ja(e,d,l[m]);if(v>=r){g=!0;break}if(h.score=h.score*$a(r,u,v),h.score<=i)break}h.suppressBeginIndex=l.length,g||(h.score===f?(l.push(d),c.push(h.score)):h.score>i&&Va(A,h,Za))}var w=l.length;return s&&(l.fill(0,w),c.fill(0,w)),{selectedIndices:ei(l,"int32"),selectedScores:ei(c,"float32"),numValidOutputs:Zr(w,"int32")}}function Ja(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),A=Math.max(r[1],r[3]),u=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),c=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),f=(s-a)*(A-o),d=(c-u)*(h-l);if(f<=0||d<=0)return 0;var p=Math.max(a,u),g=Math.max(o,l),m=Math.min(s,c),v=Math.min(A,h),w=Math.max(m-p,0)*Math.max(v-g,0);return w/(f+d-w)}function $a(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function Za(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function eo(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map(function(t){i[n]=t;var a=e.slice(r,i);return r[n]+=t,a})}function to(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=ki(n,e.dtype);for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var A=e.locToIndex(o);i.values[r]=e.values[A]}return i.toTensor()}function no(e,t,n,r,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],A=o[1],u=St(n,s*r),l=St("int32",s*r),c=0;c<s;c++){for(var h=c*A,f=e.subarray(h,h+A),d=[],p=0;p<f.length;p++)d.push({value:f[p],index:p});d.sort(function(e,t){return t.value-e.value});var g=c*r,m=u.subarray(g,g+r),v=l.subarray(g,g+r);for(p=0;p<r;p++)m[p]=d[p].value,v[p]=d[p].index}var w=t.slice();return w[w.length-1]=r,[Jr(u,w,n),Jr(l,w,"int32")]}function ro(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=ki(e,"int32"),a=ki([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=i.indexToLoc(n[r]),s=r*e.length;a.values.set(o,s)}return a.toTensor()}var io=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},ao=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},oo=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===t?">":"<",A=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+A+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function so(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}function Ao(e,t){return 1===t?[e]:so(e,t)}function uo(){var e,t,n,r,i,a,o,s,A,u;return 2===et().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",A="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",A="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:A,defineRound:u}}function lo(e,t,n){void 0===n&&(n="index");var r=jt(t);return r.map(function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"}).join("")}function co(e){var t=jt(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var ho="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function fo(e,t,n,r){var i=[];e.forEach(function(e){var t=mt(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))});var a,o,s=i.join("\n"),A=e.map(function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?go(e):po(e);var i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,A=Ca(e.shapeInfo.logicalShape,t.logicalShape),u=Bo(s),l=s-o,c=["x","y","z","w","u","v"];n=0===o?"":s<2&&A.length>=1?"coords = 0;":A.map(function(e){return"coords."+c[e+l]+" = 0;"}).join("\n");var h;h=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+c[t+l]}).join(", ");var f="return outputValue;",d=1===mt(e.shapeInfo.logicalShape),p=1===mt(t.logicalShape);if(1!==o||d||p){if(d&&!p)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(A.length){var g=o-2,m=o-1;A.indexOf(g)>-1&&A.indexOf(m)>-1?f="return vec4(outputValue.x);":A.indexOf(g)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":A.indexOf(m)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+u+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+h+");\n      "+f+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,A=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===A&&null==e.shapeInfo.flatOffset&&vt(o,a))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var u,l=Bo(A),c=Ca(e.shapeInfo.logicalShape,t.logicalShape),h=A-s,f=["x","y","z","w","u","v"];u=0===s?"":A<2&&c.length>=1?"coords = 0;":c.map(function(e){return"coords."+f[e+h]+" = 0;"}).join("\n");var d;return d=A<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+f[t+h]}).join(", "),"\n    float "+i+"() {\n      "+l+" coords = getOutputCoords();\n      "+u+"\n      return get"+r+"("+d+");\n    }\n  "}(e,t)),r}(e,t,r)}).join("\n"),u=t.texShape,l=uo(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(l),h=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+mo+"\n    "+vo+"\n    "+wo+"\n  "}(l);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(vt(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),a=i,o="",s="b, r, c",A=2;A<e.length-1;A++)o="\n      int b"+A+" = index / "+(a*=e[e.length-A-1])+";\n      index -= b"+A+" * "+a+";\n    "+o,s="b"+A+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+o+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,a,o}(t.logicalShape,u),o=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(l)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return vt(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=lo(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=lo(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=lo(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=lo(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,u),o=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(l)),r&&(h+=yo),[h,c,o,s,a,A,n].join("\n")}function po(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===i&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+o[0]+", "+o[1]+", "+bo(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+xo(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=bo(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+o+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+o+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+o+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&vt(t,i)){var a=i[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var o=Ft(t),s=o.newShape,A=o.keptDims,u=s;if(u.length<t.length)return"\n      "+po(Co(e,u))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+Eo(["row","col"],A)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+xo(e)+"\n      }\n    ";var l=i[0],c=i[1],h=bo(n);return 1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+l+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===l?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+c+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+h+";\n    vec2 uv = uvFromFlat("+l+", "+c+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],a=t[2],o=Ft(t),s=o.newShape,A=o.keptDims,u=s;if(u.length<t.length)return"\n        "+po(Co(e,u))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+Eo(["row","col","depth"],A)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+xo(e)+"\n      }\n    ";var l=e.shapeInfo.texShape,c=l[0],h=l[1],f=e.shapeInfo.flatOffset;return h===i&&null==f?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+c+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":h===a&&null==f?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+bo(n)+";\n        vec2 uv = uvFromFlat("+c+", "+h+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],a=t[2]*i,o=t[1]*a,s=Ft(t),A=s.newShape,u=s.keptDims;if(A.length<t.length)return"\n      "+po(Co(e,A))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+Eo(["row","col","depth","depth2"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+o+", "+a+", "+i+", 1)));\n        "+xo(e)+"\n      }\n    ";var l=e.shapeInfo.flatOffset,c=e.shapeInfo.texShape,h=c[0],f=c[1];return f===o&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===i&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+o+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+h+", "+f+", index + "+bo(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,A=Ft(t),u=A.newShape,l=A.keptDims;if(u.length<t.length)return"\n      "+po(Co(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+Eo(["row","col","depth","depth2","depth3"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+o+", "+a+", "+i+")) +\n          depth3;\n        "+xo(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,f=h[0],d=h[1];return d===s&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+o+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+d+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":d===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+d+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+o+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+bo(n)+";\n      vec2 uv = uvFromFlat("+f+", "+d+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=Ft(t),a=i.newShape,o=i.keptDims;if(a.length<t.length)return"\n      "+po(Co(e,a))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+Eo(["row","col","depth","depth2","depth3","depth4"],o)+");\n      }\n    ";var s=t[5],A=t[4]*s,u=t[3]*A,l=t[2]*u,c=t[1]*l;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+c+", "+l+", "+u+", "+A+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+xo(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],p=f[1];return p===c&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+l+", "+u+", "+A+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===s&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+c+" + col * "+l+" + depth * "+u+" +\n          depth2 * "+A+" + depth3 * "+s+" + depth4 + "+bo(n)+";\n      vec2 uv = uvFromFlat("+d+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function go(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+uo().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=uo();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],s=uo();if(null!=i&&vt(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+o+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var A=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+A[0]+", "+A[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===t[0])return"\n        "+go(Co(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+Eo(["b","row","col"],[1,2])+");\n        }\n      ";var o=a[0],s=a[1],A=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+o+", "+s+", "+A*Math.ceil(t[1]/2)+", "+A+", b, row, col);\n      return "+uo().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=o[0],A=o[1],u=Math.ceil(t[n-1]/2),l=u*Math.ceil(t[n-2]/2),c="int b, int row, int col",h="b * "+l+" + (row / 2) * "+u+" + (col / 2)",f=2;f<n-1;f++)c="int b"+f+", "+c,h="b"+f+" * "+(l*=t[n-f-1])+" + "+h;return"\n    vec4 "+i+"("+c+") {\n      int index = "+h+";\n      int texR = index / "+A+";\n      int texC = index - texR * "+A+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+A+", "+s+");\n      return "+uo().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var mo="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",vo="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",wo="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",yo="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function bo(e){return"offset"+e}function xo(e){var t=e.name,n=mt(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Bo(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Co(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Eo(e,t){return t.map(function(t){return e[t]}).join(", ")}var Fo=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ft(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var o,s,A=this.outputShape,u=A.length,l=Bo(u),c=Ao("coords",u);if(1===a){var h=Bo(s=u+1);o="\n        "+h+" sourceLocR = "+h+"("+c.join()+", 0);\n        ++"+c[u-1]+";\n        "+h+" sourceLocG = "+h+"("+c.join()+", 0);\n        ++"+c[u-2]+";\n        "+h+" sourceLocA = "+h+"("+c.join()+", 0);\n        --"+c[u-1]+";\n        "+h+" sourceLocB = "+h+"("+c.join()+", 0);\n        --"+c[u-2]+";"}else s=u,o="\n        "+l+" sourceLocR = coords;\n        ++"+c[u-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+c[u-2]+";\n        "+l+" sourceLocA = coords;\n        --"+c[u-1]+";\n        "+l+" sourceLocB = coords;\n        --"+c[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),d="."+f[s-1],p=f.map(function(e){return"int "+e}),g=Ao("sourceLocR",s-1).concat("inIdx.r"),m=Ao("sourceLocG",s-1).concat("inIdx.g"),v=Ao("sourceLocB",s-1).concat("inIdx.b"),w=Ao("sourceLocA",s-1).concat("inIdx.a"),y="max"===n?"greaterThan":"lessThan",b=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+w.join()+")));",x="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+m.join()+") : 0.,\n            hasNextRow ? getAChannel("+v.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+w.join()+") : 0.)",B=r?"":"\n      float getBestIndicesAChannel("+p.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+p.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+B+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+c[u-1]+" < "+(A[u-1]-1)+";\n        bool hasNextRow = "+c[u-2]+" < "+(A[u-2]-1)+";\n        "+o+"\n        ivec4 srcIdx = ivec4(sourceLocR"+d+", sourceLocG"+d+",\n          sourceLocB"+d+", sourceLocA"+d+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+b+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+y+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},So=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,A=e.effectiveFilterWidth,u=s-1-e.padInfo.top,l=A-1-e.padInfo.left,c=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+u+", "+l+");\n      const float avgMultiplier = float("+c+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+A+";\n            wC+= "+o+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ko=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,A=e.dilationHeight,u=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=l-1-e.padInfo.front,d=c-1-e.padInfo.top,p=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+d+", "+p+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+c+";\n              wR += "+A+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+u+") {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},_o=function(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Fa(e,t),Fa(e,n);var o="0.0";null!=r&&(Fa(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=i&&(Fa(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Io=function(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Fa(e,t),Fa(e,n);var o="vec4(0.0)";null!=r&&(Fa(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(Fa(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+o+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},No=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Fa(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Uo="return a + b;",Lo="return a - b;",Qo="return a * b;",Ro="return (a < 0.) ? b * a : a;",Do=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Fa(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},To="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Po=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Fa(t,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===mt(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+Bo(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var o=Ao("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+o[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+o[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},Oo=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Mo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),jo=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Ho=function(e){this.outputShape=[],this.outputShape=Vr(e,1),this.variableNames=e.map(function(e,t){return"T"+t});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Ko=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Vr(e,t);var n=this.outputShape,r=n.length,i=Bo(r),a=Ao("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(e,t){return"T"+t});var s=new Array(e.length-1);s[0]=e[0][t];for(var A=1;A<s.length;A++)s[A]=s[A-1]+e[A][t];var u=o[t],l=o.slice(-2),c=o.join(),h="if ("+u+" < "+s[0]+") {\n        return getChannel(\n            getT0("+c+"), vec2("+l.join()+"));\n        }";for(A=1;A<s.length;A++){var f=s[A-1];h+="\n        if ("+u+" < "+s[A]+"  && "+u+" >= "+s[A-1]+") {\n          return getChannel(\n            getT"+A+"("+zo(o,u,f)+"),\n            vec2("+zo(l,u,f)+"));\n        }"}var d=s.length,p=s[s.length-1];h+="\n        return getChannel(\n          getT"+d+"("+zo(o,u,p)+"),\n          vec2("+zo(l,u,p)+"));",this.userCode="\n      float getValue("+o.map(function(e){return"int "+e})+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function zo(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?e+" - "+n:e}).join()}var Wo=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Vo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,A=a?1:2,u=a?2:3,l=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+A+"], coords["+u+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Go=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+o+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,A=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+A+", "+u+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Xo=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Yo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Jo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,A=e.dilationHeight,u=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,d="channelsLast"===e.dataFormat,p=d?1:2,g=d?2:3,m=d?3:1,v="",w="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",w="result = activation(result);");var y=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+m+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+p+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+A+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+d+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===f)+") {\n\n              if ("+d+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(2===f)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+d+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===f)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+d+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+y+"\n        "+w+"\n        setOutput(result);\n      }\n    "},$o=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,A=e.dilationHeight,u=e.dilationWidth,l=e.filterDepth,c=e.filterHeight,h=e.filterWidth,f=4*Math.floor(e.inChannels/4),d=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+c+"; wR++) {\n            int xR = xRCorner + wR * "+A+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+u+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===d)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(2===d)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===d)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Zo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,A=e.strideHeight,u=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,d=e.outChannels/e.inChannels,p="",g="";n&&(p=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+p+"\n\n      const ivec2 strides = ivec2("+A+", "+u+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+d+";\n        int q = d2 - d1 * "+d+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+m+"\n        "+g+"\n        setOutput(result);\n      }\n    "},es=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,A=e.strideHeight,u=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,d=f,p="int xR; int xC; int xCOffset;",g=0;g<h;g++)for(var m=0;m<f;m++)p+="\n          vec4 xTexelR"+g+"C"+2*m+" = vec4(0.);\n          vec4 wR"+g+"C"+m+" = vec4(0.);\n          vec4 xR"+g+"C"+m+" = vec4(0.);";for(g=0;g<h;g++)for(var v=0;v<d;v++){if(p+="\n          xR = xRCorner + "+g*l+";\n          xC = xCCorner + "+(m=2*v)*c+";\n        ",1===u){if(m<f&&(p+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+g+"C"+m+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+m+" = vec4(previous.zw, xTexelR"+g+"C"+m+".xy);\n                } else {\n                  xR"+g+"C"+m+" = vec4(0, 0, xTexelR"+g+"C"+m+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = xTexelR"+g+"C"+m+";\n              ",m+1<f)){var w=s%2==0?ct(c):c;c%2==0&&s%2==1||c%2!=0&&s%2!=1?(p+="\n                  xCOffset = xC + "+s%2+" + "+w+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",c>1&&(p+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+m+" = vec4(0.);\n                    }\n                  "),p+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".xy);\n                "):p+="\n                  xCOffset = xC + "+w+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(m+1)+" = xTexelR"+g+"C"+(m+2)+";\n                "}}else m<f&&(p+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(p+="\n                xCOffset = xC + 1 - "+u+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n              ",m+1<f&&(p+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+u+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(m+1)+" = vec4(xTexelR"+g+"C"+(m+2)+".xy, final.xy);\n                ")):(p+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+u+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".xy, xTexelR"+g+"C"+(m+2)+".xy);\n              ",m+1<f&&(p+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n                ")),p+="}");m<f&&(p+="\n            vec4 wTexelR"+g+"C"+m+" = getW("+g+", "+m+", d1, q);\n            wR"+g+"C"+m+" = vec4(wTexelR"+g+"C"+m+".xz, wTexelR"+g+"C"+m+".xz);\n          ",m+1<f&&(p+="\n              vec4 wTexelR"+g+"C"+(m+1)+" = getW("+g+", "+(m+1)+", d1, q);\n              wR"+g+"C"+(m+1)+" =\n                vec4(wTexelR"+g+"C"+(m+1)+".xz, wTexelR"+g+"C"+(m+1)+".xz);"))}for(g=0;g<h;g++)for(m=0;m<f;m++)p+="dotProd += xR"+g+"C"+m+" * wR"+g+"C"+m+";";var y="",b="";n&&(y=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",b="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+A+", "+u+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+p+"\n\n        vec4 result = dotProd;\n        "+x+"\n        "+b+"\n        setOutput(result);\n      }\n    "},ts=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],A=e[3],u=t[0],l=n[0],c=n[1];this.outputShape=[u,l,c,A];var h="bilinear"===r?1:0,f=[o-1+".0",s-1+".0"],d=f[0],p=f[1],g=l>1?[""+(o-1)/(l-1),"(y2-y1) * height_ratio","y1*"+d+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+d],m=g[0],v=g[1],w=g[2],y=c>1?[""+(s-1)/(c-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p],b=y[0],x=y[1],B=y[2];this.userCode="\n      const float height_ratio = float("+m+");\n      const float width_ratio = float("+b+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+v+";\n        float width_scale = "+x+";\n\n        float in_y = "+w+";\n        if( in_y < 0.0 || in_y > "+d+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+B+";\n        if( in_x < 0.0 || in_x > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},ns=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Bo(r)+" coords = getOutputCoords();\n        int end = "+rs(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+rs(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function rs(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var is=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Sn.DENSE;var t=Rn(e),n=uo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+lo(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},as=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Sn.DENSE;var t=Rn(e),n=uo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+lo(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},os=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),ss=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},As=function(e){this.variableNames=["A"],this.outTexUsage=kn.DOWNLOAD;var t=uo();this.outputShape=e,this.userCode="\n      "+ho+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},us=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=kn.DOWNLOAD;var t=uo();this.outputShape=e,this.userCode="\n      "+ho+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},ls=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=uo(),i=t[0],a=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode="\n      "+co(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+o+", 0., 0., 0.);\n      }\n    "},cs=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=uo(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var A=0;A<=1;A++)for(var u=0;u<=1;u++){var l=2*A+u;o+="\n          localCoords = coords;\n          if(localCoords[2] + "+u+" < "+e[2]+") {\n            localCoords[2] += "+u+";\n            if(localCoords[1] + "+A+" < "+e[1]+") {\n              localCoords[1] += "+A+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+co(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+o+"\n\n        "+r.output+" = "+s+";\n      }\n    "},hs=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},fs=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),ds=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=Bo(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<e.length;a++)a===t?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},ps=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Bo(t.length),i=Bo(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function gs(e,t){var n=uo();return Hn(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function ms(e,t){return Yn(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function vs(e,t){return Jn(e,t,new Uint16Array([0,1,2,2,1,3]))}function ws(e,t,n,r,i,a,o){Zn(n,r);var s=$n(e,t),A=e.TEXTURE_2D;return Pn(e,t,function(){return e.bindTexture(A,s)}),Pn(e,t,function(){return e.texParameteri(A,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),Pn(e,t,function(){return e.texParameteri(A,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),Pn(e,t,function(){return e.texParameteri(A,e.TEXTURE_MIN_FILTER,e.NEAREST)}),Pn(e,t,function(){return e.texParameteri(A,e.TEXTURE_MAG_FILTER,e.NEAREST)}),Pn(e,t,function(){return e.texImage2D(A,0,i,n,r,0,a,o,null)}),Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function ys(e,t,n,r,i){var a=Qn(n,r);return ws(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function bs(e,t,n,r,i){var a=Qn(n,r);return ws(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function xs(e,t,n,r,i){var a=Qn(n,r);return ws(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Bs(e,t,n,r,i){var a=Dn(n,r);return ws(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Cs(e,t,n,r,i){var a=Dn(n,r);return ws(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function Es(e,t,n,r){return Pn(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),tr(e,t,n,"clipSpacePos",r,3,20,0)&&tr(e,t,n,"uv",r,2,20,12)}function Fs(e,t,n,r,i,a,o){var s,A,u;Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),a instanceof Uint8Array?(s=new Uint8Array(r*i*4),A=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*i*4),A=e.FLOAT,u=o.internalFormatPackedFloat),s.set(a),Pn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,i,0,e.RGBA,A,s)}),Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function Ss(e,t,n,r){Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Pn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):Pn(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),Pn(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function ks(e,t,n,r,i){var a=e.createBuffer();Pn(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var o=16*n*r;return Pn(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),Pn(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),Pn(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function _s(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Is(e,t,n,r,i){var a=Qn(n,r),o=a[0],s=a[1],A=new Uint8Array(n*r*4);return Pn(e,t,function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,A)}),new Float32Array(A.buffer)}function Ns(e,t,n,r,i,a,o,s){var A=e,u=new Float32Array(function(e,t){var n=Dn(e,t);return n[0]*n[1]*4}(a,o));return A.bindBuffer(A.PIXEL_PACK_BUFFER,t),A.getBufferSubData(A.PIXEL_PACK_BUFFER,0,u),A.bindBuffer(A.PIXEL_PACK_BUFFER,null),u}function Us(e,t,n,r){var i=new Float32Array(n*r*4);return Pn(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)}),i}var Ls=Object.freeze({createVertexShader:gs,createVertexBuffer:ms,createIndexBuffer:vs,createFloat32MatrixTexture:ys,createFloat16MatrixTexture:bs,createUnsignedBytesMatrixTexture:xs,createPackedMatrixTexture:Bs,createFloat16PackedMatrixTexture:Cs,bindVertexProgramAttributeStreams:Es,uploadDenseMatrixToTexture:Fs,uploadPixelDataToTexture:Ss,createBufferFromOutputTexture:ks,downloadFloat32MatrixFromBuffer:_s,downloadByteEncodedFloatMatrixFromOutputTexture:Is,downloadPackedMatrixFromBuffer:Ns,downloadMatrixFromPackedOutputTexture:Us}),Qs=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=et().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Un(t,e)):this.gl=Ln(t);var n="WEBGL_color_buffer_float";if(1===et().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=jn(this.gl,this.debug,"OES_texture_float"),br(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=jn(this.gl,this.debug,"OES_texture_half_float");else if(et().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),br(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=jn(this.gl,this.debug,"EXT_color_buffer_half_float");else if(et().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",br(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!br(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=ms(this.gl,this.debug),this.indexBuffer=vs(this.gl,this.debug),this.framebuffer=er(this.gl,this.debug),this.textureConfig=Tn(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return et().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Pn(t,this.debug,function(){return t.finish()}),Pn(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Pn(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),Pn(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Pn(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Pn(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),ys(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),bs(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),xs(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Ss(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Fs(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Cs(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Bs(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(sr(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Pn(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Is(r.gl,r.debug,t,n,r.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,a){return Ns(this.gl,e,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return _s(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=ks(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(et().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Us(r.gl,r.debug,t,n)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=Kn(t,this.debug,e),r=gs(t,this.debug),i=Gn(t,this.debug);return Pn(t,this.debug,function(){return t.attachShader(i,r)}),Pn(t,this.debug,function(){return t.attachShader(i,n)}),qn(t,this.debug,i),this.debug&&Xn(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=Es(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Pn(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Xn(this.gl,this.debug,this.program),Pn(this.gl,this.debug,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?rr(this.gl,this.debug,e,t):ir(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Pn(this.gl,this.debug,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),ar(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Dn(t,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,i,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&Xn(this.gl,this.debug,this.program),Ar(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Pn(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Pn(this.gl,this.debug,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=jn(this.gl,this.debug,2===et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return Je(this,void 0,void 0,function(){var t=this;return $e(this,function(n){switch(n.label){case 0:return[4,Bt(function(){return t.disposed||t.isQueryAvailable(e,et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Bt(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),or(this.gl,this.debug,e,this.framebuffer),this.debug&&Ar(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(or(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Ar(this.gl)):sr(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;or(r,this.debug,e,this.framebuffer),this.debug&&Ar(r),this.outputTexture=e,Pn(r,this.debug,function(){return r.viewport(0,0,t,n)}),Pn(r,this.debug,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),Pn(this.gl,this.debug,function(){return i.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Rs(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!vt(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!vt(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}})}var Ds=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,a=n.strideWidth,o=n.strideHeight,s=n.padInfo,A=n.outWidth,u=n.dilationWidth,l=n.dilationHeight,c=n.dataFormat,h=s.left,f=s.top,d=i*r,p=uo(),g="channelsLast"===c,m=g?0:1,v=g?1:2,w="",y=0;y<=1;y++)for(var b=0;b<=1;b++)w+="\n          blockIndex = rc.y + "+b+";\n          pos = rc.x + "+y+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+A+")) * "+o+" - "+f+";\n            d0 = offsetY + "+l+" * (pos / "+d+");\n\n            if(d0 < "+t[m]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+A+".) * "+a+". - "+h+".);\n              d1 = offsetX + "+u+" * (int(mod(float(pos), "+d+".) / "+i+".));\n\n              if(d1 < "+t[v]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*y+b)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*y+b)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+w+"\n\n        "+p.output+" = result;\n      }\n    "},Ts=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var A="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+A+")":1===i?"1.0/("+A+")":"exp(log("+A+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},Ps=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Os=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var A="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+A+")":1===i?"1.0/("+A+")":"exp(log("+A+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+o+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+o+"; j <= "+o+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},Ms=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,A=i*a-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+A+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},js=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,A=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.front,c=A-1-e.padInfo.top,h=u-1-e.padInfo.left,f=s*A*u-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+c+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+A+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+o+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+A+" * "+u+" +\n                  wR * "+u+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Hs=function(e,t,n,r,i,a,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],A=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",c=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",d="";a&&(f=o?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",d="result = activation(result);");var p=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+A+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+A+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+u+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+c[0]+" * "+h[0]+");\n          result += ("+c[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+p+"\n\n        "+d+"\n\n        setOutput(result);\n      }\n    "},Ks=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),zs=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Ws=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Ao("rc",t),r=Bo(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),o=2;o<e;o++)a=t[t.length-1-o]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+o+"));\n          }\n        }\n      "}},Vs=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,i=Bo(r),a=t.map(function(e){return e[0]}).join(","),o=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},Gs=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});for(var r=e.length,i=Bo(r),a=t.map(function(e){return e[0]}).join(","),o=t.map(function(t,n){return t[0]+e[n]}).join(","),s=Ao("rc",r),A=Ao("source",r),u=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+A.slice(-2).join()+")",c=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+u+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+u+") {"],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",d=0,p=1===r?2:4;d<p;d++)f+="\n        "+c[d]+"\n        if ("+h+") {\n          result["+d+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+d+"] = getChannel(getX("+A.join()+"), "+l+");\n        }\n      ";f+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},qs=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,A=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=e.padInfo.top,c=e.padInfo.left;this.outputShape=e.outShape;var h="avg"===t,f="0.0";if(h||(f="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+a+");\n        const ivec2 pads = ivec2("+l+", "+c+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+A+";\n              wR += "+o+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var d=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(d="avgValue / count");var p=4*Math.floor(r/4),g=r%4,m="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+a+");\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+A+";\n            wR += "+o+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+p+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+d+");\n      }\n    "}},Xs=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,A=e.dilationHeight,u=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var g="avg"===t,m="0.0";if(g||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+a+", "+o+");\n        const ivec3 pads = ivec3("+f+", "+d+", "+p+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+l+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+c+";\n                wR += "+A+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+h+";\n                  wC += "+u+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+c+" * "+h+" +\n                      wR * "+h+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var v=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(v="avgValue / count");var w=4*Math.floor(r/4),y=r%4,b="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+f+", "+d+", "+p+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+c+";\n            wR += "+A+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+w+"; wC += 4) {\n              int xC = xCCorner + wC * "+u+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+u+", ch)\n              );\n\n              "+b+"\n            }\n\n            int xC = xCCorner + "+w+";\n            if ("+(1===y)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+b+"\n            } else if ("+(2===y)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+b+"\n            } else if ("+(3===y)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                initializationValue\n              );\n\n              "+b+"\n            }\n          }\n          setOutput("+v+");\n        }\n      }\n    "}},Ys=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");var A=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?A="sumValue":"prod"===t?A="prodValue":"all"===t?A="allValue":"any"===t&&(A="anyValue");var u=4*Math.floor(n/4),l=n%4,c="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===t?(o="1.0",c="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(o="0.0",c="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+c+"\n        } else if ("+(2===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+c+"\n        } else if ("+(3===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+c+"\n        }\n        setOutput("+A+");\n      }\n    "},Js=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+lo(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+co(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},$s=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],A=o[2],u=[n&&s>1?i-1:i,n&&A>1?a-1:a],l=[n&&s>1?s-1:s,n&&A>1?A-1:A],c=u[0]/l[0],h=u[1]/l[1],f=1/c,d=1/h,p=2*Math.ceil(f)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+c+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+p+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+A+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Zs=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var A=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+A[0]/u[0]+",\n          "+A[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},eA=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var A=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+A[0]/u[0]+",\n          "+A[1]/u[1]+",\n          "+A[1]/u[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+o+".0,\n                                     "+o+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},tA=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],A=o[2],u=[n&&s>1?i-1:i,n&&A>1?a-1:a],l=[n&&s>1?s-1:s,n&&A>1?A-1:A],c=u[0]/l[0],h=u[1]/l[1],f=1/c,d=1/h,p=2*Math.ceil(f)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+c+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+p+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+A+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},nA=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var A=[r&&t>1?a-1:a,r&&n>1?o-1:o],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+A[0]/u[0]+",\n          "+A[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},rA=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=Bo(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},iA=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Ao("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],o=Bo(n);function s(n){var r=e.map(function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+o+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},aA=function(e,t,n,r,i,a,o){void 0===o&&(o=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=Bo(i.length),A=Bo(a.length),u="";1===n?u="i":2===n&&(u="i, j");var l="getIndices("+u+")",c="";1===r?c="i":2===r&&(c="i, coords[1]");var h="getUpdates("+c+")",f=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+A+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},oA=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),A=n%4,u="\n        sumValue += dot(values, segFilter);\n    ",l="";i%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+c+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===A)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===A)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===A)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},sA=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],A=0;A<t.length;A++)s.push(""+a[A]),A<e&&o.push(""+a[A]);r=o.join(),i=s.join()}var u=Bo(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},AA=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Bo(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return uA.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map(function(e,t){return"sourceLoc."+uA[t]+" = start["+t+"] + coords."+uA[t]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),uA=["x","y","z","w","u","v"],lA=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Bo(this.rank),n=Ao("coords",this.rank),r=Ao("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",o="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",A=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(e,t){return"start["+t+"]"}).join()+");":e.map(function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+A+"\n        vec4 result = vec4(0.);\n        "+o+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),cA=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=Bo(n.length),a=Bo(n.length),o="";if(1===r)o="coords * strides + begin";else{var s=0;o=n.map(function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+o+"));\n      }\n    "},hA=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=fA(t,n),a=dA(e,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[a].shift();return this.usedTextures[a].push(o),o}return this.numUsedTextures++,this.log(),i===_n.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===_n.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===_n.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===_n.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===_n.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=dA(t,fA(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],o=a.indexOf(e);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function fA(e,t){if(e===kn.UPLOAD)return _n.PACKED_2X2_FLOAT32;if(e===kn.RENDER||null==e)return function(e){return et().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?_n.PACKED_2X2_FLOAT32:_n.UNPACKED_FLOAT32:e?_n.PACKED_2X2_FLOAT16:_n.UNPACKED_FLOAT16}(t);if(e===kn.DOWNLOAD||e===kn.PIXELS)return _n.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function dA(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var pA=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=Bo(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},gA=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=Bo(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},mA=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Bo(this.rank),a=so("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=a[r];var s="vec2("+o.slice(-2).join()+")",A="++"+a[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+o.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+u+";\n      if("+A+") {\n        result[1] = "+u+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+u+";\n        if("+A+") {\n          result[3] = "+u+";\n        }\n      }\n      setOutput(result);\n    }\n    "},vA=1.7580993408473768,wA=1.0507009873554805,yA=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},bA="if (isnan(x)) return x;",xA="return abs(x);",BA=bA+"\n  return (x < 0.0) ? 0.0 : x;\n",CA=bA+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",EA="return (x >= 0.0) ? x : (exp(x) - 1.0);",FA="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+vA+";\n  float scale = "+wA+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",SA="return -x;",kA="return ceil(x);",_A="return floor(x);",IA="return exp(x);",NA="return exp(x) - 1.0;",UA=bA+"\n  return sin(x);\n",LA=bA+"\n  return cos(x);\n",QA=bA+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",RA=bA+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",DA=bA+"\n  return atan(x);\n",TA=bA+"return log(x + sqrt(x * x + 1.0));",PA=bA+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",OA=bA+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",MA="return x;",jA="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",HA="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",KA="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",zA=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},WA=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Ao("rc",t),r=Bo(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+o+"));\n      }\n    "},VA={};function GA(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?jA:BA;if("elu"===e)return t?KA:EA;if("relu6"===e)return t?HA:CA;if("prelu"===e)return t?To:Ro;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var qA=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!et().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=Ln(et().getNumber("WEBGL_VERSION"));r.binaryCache=((n=et().getNumber("WEBGL_VERSION"))in VA||(VA[n]={}),VA[n]),r.gpgpu=new Qs(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new hA(r.gpgpu),r.numMBBeforeWarning=null==et().global.screen?1024:et().global.screen.height*et().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new ba(r,Cn),r}return Ye(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(et().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:kn.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(et().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:kn.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var A;A=s?new zA(o,MA):new yA(o,MA);var u=this.runWebGLProgram(A,[{dataId:e,shape:o,dtype:r}],r),l=this.readSync(u.dataId);return this.disposeData(u.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var c,h,f=null!=this.activeTimers;return f&&(c=Vt()),h="complex64"===r?Ha(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),f&&(this.downloadWaitMs+=Vt()-c),this.convertAndCacheOnCPU(e,h)},t.prototype.read=function(e){return Je(this,void 0,void 0,function(){var t,n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x;return $e(this,function(B){switch(B.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.complexTensors,A=n.isPacked,null!=a)return void 0,u=A?new zA(i,MA):new yA(i,MA),l=this.runWebGLProgram(u,[{dataId:e,shape:i,dtype:o}],o),c=this.read(l.dataId),this.disposeData(l.dataId),[2,c];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!et().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===et().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,"complex64"!==o&&et().get("WEBGL_BUFFER_SUPPORTED")&&(f=this.decode(e),d=this.texData.get(f.dataId),h=(x=this.gpgpu).createBufferFromTexture.apply(x,[d.texture].concat(Rn(i)))),this.pendingRead.set(e,[]),"complex64"===o?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:B.sent(),B.label=2;case 2:return"complex64"!==o?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return g=B.sent(),m=g[0],v=g[1],p=Ha(m,v),[3,5];case 4:null==h?p=this.getValuesFromTexture(e):(w=mt(i),p=this.gpgpu.downloadFloat32MatrixFromBuffer(h,w)),B.label=5;case 5:return null!=f&&this.disposeData(f.dataId),y=this.convertAndCacheOnCPU(e,p),b=this.pendingRead.get(e),this.pendingRead.delete(e),b.forEach(function(e){return e(y)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,y]}})})},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!On(n)){if(et().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.isPacked,o=mt(r);if(et().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),A=this.texData.get(s.dataId),u=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[A.texture].concat(Rn(r))).subarray(0,o);return this.disposeData(s.dataId),u}var l=et().getBool("WEBGL_PACK")&&!0===a,c=l?dr(r):r,h=l?new us(c):new As(c),f=this.runWebGLProgram(h,[{shape:c,dtype:i,dataId:e}],"float32"),d=this.texData.get(f.dataId),p=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture,d.texShape[0],d.texShape[1]).subarray(0,o);return this.disposeData(f.dataId),p},t.prototype.time=function(e){return Je(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return $e(this,function(A){switch(A.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=gt(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),a=gt(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=A.sent(),o.kernelMs=ht(s),o.getExtraProfileInfo=function(){return s.map(function(e,t){return{name:a[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},[3,3];case 2:o.kernelMs={error:"WebGL query timers are not supported in this environment."},A.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Vt(),endMs:null}},t.prototype.endTimer=function(e){return et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Vt(),e)},t.prototype.getQueryTime=function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){return et().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,A=s&&s.origDataId||e,u=this.dataRefCount.get(A);u>1?this.dataRefCount.set(A,u-1):(this.dataRefCount.delete(A),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return et().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Cn.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Cn.keep(e.clone()),imag:Cn.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===mt(n))return Jr([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=ga(e.shape,t,n);if(r||!i){var a=et().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lA(n):new AA(n),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,o)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var o=ma(t,e.strides);r.slice&&(o+=r.slice.flatOffset),a.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=fa(t,n,r);if(i.some(function(e){return 0===e}))return Jr([],i);var a=new cA(t,r,i);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=et().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iA(e.shape,t):new rA(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map(function(e){return Xr(e)}),r=e.map(function(e){return Yr(e)});return qr(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>et().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),a=this.concat(e.slice(0,i),t),o=this.concat(e.slice(i),t);return this.concat([a,o],t)}if(et().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Ko(e.map(function(e){return e.shape}),t);return this.compileAndRun(s,e)}var A=Vr(e.map(function(e){return e.shape}),t),u=e.map(function(e){return e.as2D(-1,mt(e.shape.slice(t)))}),l=new Ho(u.map(function(e){return e.shape}));return this.compileAndRun(l,u).reshape(A)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,SA,e.dtype);var t=new yA(e.shape,SA);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],o=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===a)&&o>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var A=1===a?e:e.as3D(s,o,1),u=1===a?2:1,l=1===a?t.as3D(s,1,o):t;return this.multiply(A,l).sum(u,!0)}var c=gn(e.dtype,t.dtype),h=new Hs(e.shape,[s,i,a],n,r);return this.compileAndRun(h,[e,t],c)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,A=r?t.shape[2]:t.shape[1],u=i?n.shape[1]:n.shape[2],l=t.shape[0],c=gn(t.dtype,n.dtype),h=null!=a,f=null!=s,d=o?GA(o,!0):null,p=new Hs(t.shape,[l,A,u],r,i,h,d,f),g=[t,n];return a&&g.push(a),s&&g.push(s),this.compileAndRun(p,g,c)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new No("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new No("return areal * bimag + aimag * breal;",e.shape,t.shape),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,o),A=this.compileAndRun(a,o),u=this.complex(s,A);return s.dispose(),A.dispose(),u}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Qo,e.dtype);var l=new Do(Qo,e.shape,t.shape);return this.compileAndRun(l,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){var o=[e,t,n],s=null;null!=a&&(s=a.shape,o.push(a));var A=null;if(null!=i&&(A=i.shape,o.push(i)),et().getBool("WEBGL_PACK_NORMALIZATION")){var u=new Io(e.shape,t.shape,n.shape,s,A,r);return this.compileAndRun(u,o)}var l=new _o(e.shape,t.shape,n.shape,s,A,r);return this.compileAndRun(l,o)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var a=et().getBool("WEBGL_PACK_NORMALIZATION")?new Os(e.shape,t,n,r,i):new Ts(e.shape,t,n,r,i);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){var s=new Ps(t.shape,r,i,a,o);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map(function(e){return Xt(e)});return to(ki(e.shape,e.dtype,n),t)}var r=new pA(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=et().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Gs(e.shape,t,n):new Vs(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=et().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mA(e.shape,t):new gA(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new ds(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){ft(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=ta(e.shape,t,r),a=na(i.length,t.length),o=ra(e.shape,t,r),s=ia(n,t.length),A=aa(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,A)},t.prototype.spaceToBatchND=function(e,t,n){ft(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=ta(o.shape,t,r,!1),A=na(s.length,t.length,!1),u=ra(o.shape,t,r,!1);return o.reshape(s).transpose(A).reshape(u)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],a=sa(i),o=new Ys({windowSize:a,inSize:i,batchSize:r},t),s=this.compileAndRun(o,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=sa(i),o=new oo({windowSize:a,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var A=this.compileAndRun(o,s,"int32");return 1===A.shape[1]?A:this.argReduce(e,t,A)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=sa(r[r.length-1]),a=new Fo(r,i,t,null==n),o=null==n?[e]:[e,n],s=this.compileAndRun(a,o,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){jr("sum",t,e.rank);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i),o=mn(e.dtype);return this.reduce(a,"sum",o).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i),o=mn(e.dtype);return this.reduce(a,"prod",o).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=Hr([r],e.rank),a=e;null!=i&&(a=e.transpose(i),r=zr(1,e.rank)[0]);var o=function(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=mt([a.shape[r]]),A=a.as2D(-1,s),u=mn(e.dtype),l=this.segOpCompute(A,"unsortedSegmentSum",t,u,n).reshape(o);return null!=i&&(l=l.transpose(Kr(i))),l},t.prototype.segOpCompute=function(e,t,n,r,i){var a=e.shape[0],o=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=Mt(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Mt(e,n+1);return n}(o,i),A=new oA({windowSize:s,inSize:o,batchSize:a,numSegments:i},t),u=this.compileAndRun(A,[e,n],r);return u.shape[1]===i?u:(n=si(0,i).tile([o/s]),this.segOpCompute(u,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(jr("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!et().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=Or(e.shape,r),a=i[0],o=mt(i[1]),s=e.as2D(-1,o);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new ns(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new Do("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Do("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Do("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Do("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Do("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Do("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new yA(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Do("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Do("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new sA(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],gn(t.dtype,n.dtype))},t.prototype.where=function(e){Ur("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return ro(e.shape,t)},t.prototype.topk=function(e,t,n){return no(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){jr("min",t,e.rank);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Do("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Do("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);jr("max",t,e.rank);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Do("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){jr("all",t,e.rank);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){jr("any",t,e.rank);var n=Or(e.shape,t),r=n[0],i=mt(n[1]),a=e.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Do("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Do("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Uo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=gn(e.dtype,t.dtype);if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Uo,n);var r=new Do(Uo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new zA(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new Po(n,e.shape,t.shape,i);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),a=this.texData.get(t.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map(function(i){var a=i[0],o=i[1],s=r.makeComplexComponentTensorInfo(e,a),A=r.makeComplexComponentTensorInfo(t,o),u=new Do(n,e.shape,t.shape);return r.compileAndRun(u,[s,A],gn(a.dtype,o.dtype))}),s=o[0],A=o[1],u=this.complex(s,A);return s.dispose(),A.dispose(),u},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>et().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map(function(e){return e.dtype}).reduce(function(e,t){return gn(e,t)}),a=e.map(function(e){return e.shape}),o=et().getBool("WEBGL_PACK")?new ao(e[0].shape,a):new io(e[0].shape,a);return this.compileAndRun(o,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Lo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=gn(e.dtype,t.dtype);if(et().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Lo,e.dtype);var r=new Do(Lo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Do("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=gn(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,kA,e.dtype);var t=new yA(e.shape,kA);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,_A,e.dtype);var t=new yA(e.shape,_A);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new yA(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new yA(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new yA(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new yA(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new yA(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,IA,e.dtype);var t=new yA(e.shape,IA);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,NA,e.dtype);var t=new yA(e.shape,NA);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=Et([t],e.shape),r=this.max(e,n),i=Mr(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new yA(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new yA(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new yA(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new yA(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new yA(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=et().getBool("WEBGL_PACK")?new zA(e.shape,jA):new yA(e.shape,BA),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=et().getBool("WEBGL_PACK")?new zA(e.shape,HA):new yA(e.shape,CA),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po(To,e.shape,t.shape):new Do(Ro,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,KA,e.dtype);var t=new yA(e.shape,EA);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new Do("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new yA(e.shape,FA);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new yA(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=et().getBool("WEBGL_PACK_CLIP")?new Mo(e.shape):new Oo(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(et().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xA,e.dtype);var t=new yA(e.shape,xA);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new jo(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new yA(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new yA(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new yA(e.shape,UA);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new yA(e.shape,LA);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new yA(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new yA(e.shape,QA);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new yA(e.shape,RA);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new yA(e.shape,DA);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Do("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new yA(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new yA(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new yA(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new yA(e.shape,TA);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new yA(e.shape,PA);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new yA(e.shape,OA);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new yA(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new yA(e.shape,function(e){return void 0===e&&(e=0),bA+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,a){var o=e.shape,s=this.texData.get(e.dataId),A=n.inChannels,u=o[0]*o[1]*o[2],l=n.outChannels,c="channelsLast"===n.dataFormat,h=(1===u||1===l)&&A>1e3,f=o[2]%2!=0&&!!s.isPacked;if(h||!et().getBool("WEBGL_LAZILY_UNPACK")||!et().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!f){var d=c?o[0]*o[1]*o[2]:o[0]*o[2]*o[3],p=this.reshape(e,[1,d,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:p,b:g,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),n.outShape)}var m=c?o[0]*o[1]*(o[2]+1):o[0]*o[2]*(o[3]+1),v={dataId:e.dataId,shape:[1,m,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,ft(mr(s.shape,v.shape),function(){return"packed reshape "+s.shape+" to "+v.shape+" isn't free"});var y=this.reshape(t,[1,n.inChannels,n.outChannels]),b=this.fusedBatchMatMul({a:v,b:y,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),x=this.texData.get(b.dataId);return ft(x.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=w,x.shape=n.outShape,Cn.makeTensorFromDataId(b.dataId,n.outShape,b.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,a){var o=n.filterWidth,s=n.filterHeight,A=n.inChannels,u=n.outWidth,l=n.outHeight,c="channelsLast"===n.dataFormat,h=o*s*A,f=l*u,d=[h,f],p=e.squeeze([0]),g=t.reshape([1,h,-1]),m=new Ds(d,p.shape,n),v=this.compileAndRun(m,[p]).reshape([1,d[0],d[1]]),w=null!=r,y=null!=a,b=i?GA(i,!0):null,x=new Hs(v.shape,[1,f,n.outChannels],!0,!1,w,b,y),B=[v,g];r&&B.push(r),y&&B.push(a);var C=this.compileAndRun(x,B);return c?C.reshape([1,l,u,n.outChannels]):C.reshape([1,n.outChannels,l,u])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,a,o);if(et().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,a,o);var s=null!=i,A=null!=o,u=a?GA(a,!1):null,l=new Jo(r,s,u,A),c=[t,n];return i&&c.push(i),o&&c.push(o),this.compileAndRun(l,c)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(et().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Jo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new Vo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new Wo(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,a=e.bias,o=e.activation,s=e.preluActivationWeights,A=et().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,u=o?GA(o,A):null,l=[n,r],c=null!=a,h=null!=s;return c&&l.push(a),h&&l.push(s),A?(t=new es(i,c,u,h),this.compileAndRun(t,l)):(t=new Zo(i,c,u,h),this.compileAndRun(t,l))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return et().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new es(n),this.compileAndRun(r,[e,t])):(r=new Zo(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new Yo(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new Xo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new $o(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new qo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new Go(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new qs(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new qs(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new qs(r,"max",!0),a=this.compileAndRun(i,[t]),o=new Ms(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new So(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Oa(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var A=new Array(n);for(a=0;a<A.length;a++)o[t]=a,A[a]=this.slice(e,o,s).reshape(r);return A},t.prototype.avgPool3d=function(e,t){var n=new Xs(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new ko(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new Xs(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new Xs(r,"max",!0),a=this.compileAndRun(i,[t]),o=new js(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!mr(e.shape,t)&&(null===n.texture||!mr(n.shape,t))){var r=this.packedReshape(e,t);return Cn.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Ma(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=et().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new eA(e.shape,t,n,r):new Zs(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new $s(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new nA(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new tA(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:wa(e),a=i.shape[0],o=i.shape[1],s=new Ks(a,o,n),A=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",A)},t.prototype.oneHot=function(e,t,n,r){var i=new zs(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new ss(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return Ur("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),qa(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,a){var o=new ts(e.shape,t.shape,r,i,a);return this.compileAndRun(o,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){ft(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],o="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,A=a*t,u=o/(t*t),l=new os("NHWC"===n?[r,s,A,u]:[r,u,s,A],t,n);return this.compileAndRun(l,[e])},t.prototype.split=function(e,t,n){return eo(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=la(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,A=r.outputSize,u=[A/o,o],l=e.reshape([a,i]),c=t.reshape([a,o]);if(0===A)return Ma(Jr([]),n);var h=Zr(0),f=new aA(a,i,l.rank,c.rank,s,u);return this.compileAndRun(f,[c,l,h]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=la(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.strides,A=i.outputSize,u=new aA(o,a,e.rank,t.rank,s,[A,1],!1);return this.compileAndRun(u,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new hs("return real * expR - imag * expI;",e.shape,t),i=new hs("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],o=this.compileAndRun(r,a),s=this.compileAndRun(i,a),A=this.complex(o,s).as2D(e.shape[0],e.shape[1]);return o.dispose(),s.dispose(),A},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=oa(e,t),a=i[0],o=i[1],s=i[2],A=i[3],u=t.reshape([o,r]),l=e.reshape([e.size/s,s]),c=new ps(r,A,[o,s]);return this.compileAndRun(c,[l,u]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||Pt(t))){var r=kt(n,mt(e));return r.fill(t),Cn.makeTensor(r,e,n,this)}var i=new fs(e,t),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return ja(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Cn.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new WA(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new Ws(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[hr(e.shape)].concat(fr(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[hr(t)].concat(fr(t)),a=new Js(i,n),o=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype,o=dr(i);return t=r?new as(o):new is(o),{dtype:a,shape:i,dataId:this.runWebGLProgram(t,[{shape:o,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Sn.DENSE){var A=Rn(e.outputShape);s.texShape=A.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===mt(o.shape))return s.values=St(o.dtype,0),o;var u=[],l=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&mt(t.shape)<=et().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),u.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!mr(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),u.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(o.dataId);var c,h={shape:o.shape,texData:s,isUniform:!1},f=function(e,t,n){var r="";t.concat(n).forEach(function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t});var i=e.userCode;return e.constructor.name+"_"+r+"_"+i}(e,l,h),d=this.getAndSaveBinary(f,function(){return function(e,t,n,r){var i=t.userCode,a=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),o=a.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},A=fo(a,s,i,t.packedInputs),u=e.createProgram(A),l=null,c=e.getUniformLocation(u,"NAN",!1);1===et().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(u,"INFINITY",!1));for(var h={},f=0;f<t.variableNames.length;f++){var d=t.variableNames[f];h[d]=e.getUniformLocation(u,d,!1),h["offset"+d]=e.getUniformLocation(u,"offset"+d,!1)}return{program:t,source:A,webGLProgram:u,uniformLocations:h,inShapeInfos:o,outShapeInfo:s,infLoc:l,nanLoc:c}}(a.gpgpu,e,l,h)}),p=null!=this.activeTimers;if(p&&(c=this.startTimer()),function(e,t,n,r,i){Rs(t.inShapeInfos,n),Rs([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,o[0],o[1]):e.setOutputMatrixTexture(a,o[0],o[1]),e.setProgram(t.webGLProgram),1===et().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(mt(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)}),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,d,l,h,r),u.forEach(function(e){return a.disposeData(e.dataId)}),p&&(c=this.endTimer(c),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(c)})),!et().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var g=this.unpackTensor(o);return this.disposeData(o.dataId),g}return o},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return Cn.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(et().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Ir(function(){if(!et().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=et().getBool("DEBUG");et().set("DEBUG",!1);var n=e.abs(Zr(1e-8)).dataSync()[0];if(et().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.values,o=n.texture,s=n.usage,A=n.isPacked;if(null==o){var u,l=null!=this.activeTimers;l&&(u=Vt());var c=n.texShape;if(null==c&&(c=pr(r,A),n.texShape=c),null!=a){var h=dr(r),f=void 0,d=c[1],p=c[0],g=a instanceof Uint8Array;A?(d=(t=Dn(c[0],c[1]))[0],p=t[1],f=new cs(h,[p,d],g)):f=new ls(h,[p,d],g);var m=this.makeTensorInfo([p,d],i);this.texData.get(m.dataId).usage=g?kn.PIXELS:kn.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),d,p,a);var v=this.runWebGLProgram(f,[m],i,null,!0),w=this.texData.get(v.dataId);n.texture=w.texture,n.texShape=w.texShape,n.isPacked=w.isPacked,n.usage=w.usage,this.disposeData(m.dataId),this.texData.delete(v.dataId),n.values=null,l&&(this.uploadWaitMs+=Vt()-u)}else{var y=this.acquireTexture(c,s,i,A);n.texture=y}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*Lt(t)},t}(xa);En()&&Cn.registerBackend("webgl",function(){return new qA},2);var XA=Gr({square_:function(e){var t=Rr(e,"x","square"),n=[t];return Cn.runKernelFunc(function(e,n){return n([t]),e.square(t)},{x:t},null,"Square",{},n,[])}}),YA="SquaredDifference",JA=Gr({squaredDifference_:function(e,t){var n,r=Rr(e,"a","squaredDifference"),i=Rr(t,"b","squaredDifference");n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape);var a={a:r,b:i},o=[r,i];return Cn.runKernelFunc(function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n},a,function(e,t){var n=t[0],r=t[1],i=Zr(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}},YA,{},o,[])}}),$A=Gr({abs_:function(e){var t=Rr(e,"x","abs");return"complex64"===t.dtype?Cn.runKernelFunc(function(e){return e.complexAbs(t)},{$x:t}):Cn.runKernelFunc(function(e,n){var r=e.abs(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}},"Abs")}}),ZA=Gr({acos_:function(e){var t=Rr(e,"x","acos");return Cn.runKernelFunc(function(e,n){var r=e.acos(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Zr(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),eu=Gr({acosh_:function(e){var t=Rr(e,"x","acosh");return Cn.runKernelFunc(function(e,n){var r=e.acosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),tu=Gr({asin_:function(e){var t=Rr(e,"x","asin");return Cn.runKernelFunc(function(e,n){var r=e.asin(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Zr(1).sub(n.toFloat().square()).sqrt())}}})}}),nu=Gr({asinh_:function(e){var t=Rr(e,"x","asinh");return Cn.runKernelFunc(function(e,n){var r=e.asinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Zr(1).add(n.toFloat().square()).sqrt())}}})}}),ru=Gr({atan_:function(e){var t=Rr(e,"x","atan");return Cn.runKernelFunc(function(e,n){var r=e.atan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}})}}),iu=Gr({atanh_:function(e){var t=Rr(e,"x","atanh");return Cn.runKernelFunc(function(e,n){var r=e.atanh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(Zr(1).sub(n.toFloat().square()))}}})}}),au=Gr({ceil_:function(e){var t=Rr(e,"x","ceil");return Cn.runKernelFunc(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),ou=Gr({clipByValue_:function(e,t,n){var r=Rr(e,"x","clipByValue");ft(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var i=[r],a={min:t,max:n};return Cn.runKernelFunc(function(e,i){var a=e.clip(r,t,n);return i([r]),a},{x:r},function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),ui(e))}}},"ClipByValue",a,i)}}),su=Gr({cos_:function(e){var t=Rr(e,"x","cos"),n=[t];return Cn.runKernelFunc(function(e,n){var r=e.cos(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}},"Cos",{},n)}}),Au=Gr({cosh_:function(e){var t=Rr(e,"x","cosh");return Cn.runKernelFunc(function(e,n){var r=e.cosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}})}}),uu=Gr({erf_:function(e){var t=Rr(e,"x","erf");return ft("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=t.toFloat()),Cn.runKernelFunc(function(e,n){var r=e.erf(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),lu=Gr({exp_:function(e){var t=Rr(e,"x","exp");return Cn.runKernelFunc(function(e,n){var r=e.exp(t);return n([r]),r},{x:t},function(e,t){return{x:function(){return e.mulStrict(t[0])}}},"Exp",{},[],[!0])}}),cu=Gr({expm1_:function(e){var t=Rr(e,"x","expm1");return Cn.runKernelFunc(function(e,n){var r=e.expm1(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}})}}),hu=Gr({floor_:function(e){var t=Rr(e,"x","floor");return Cn.runKernelFunc(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),fu=Gr({log_:function(e){var t=Rr(e,"x","log"),n=[t];return Cn.runKernelFunc(function(e,n){var r=e.log(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}},"Log",{},n)}}),du=Gr({log1p_:function(e){var t=Rr(e,"x","log1p");return Cn.runKernelFunc(function(e,n){var r=e.log1p(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}})}}),pu=Gr({logSigmoid_:function(e){var t=Rr(e,"x","logSigmoid");return Cn.runKernelFunc(function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}})}}),gu=Gr({neg_:function(e){var t=Rr(e,"x","neg"),n=[t];return Cn.runKernelFunc(function(e){return e.neg(t)},{x:t},function(e){return{x:function(){return e.neg()}}},"Neg",{},n)}}),mu=Gr({reciprocal_:function(e){var t=Rr(e,"x","reciprocal");return Cn.runKernelFunc(function(e,n){var r=e.reciprocal(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}})}}),vu=Gr({round_:function(e){var t=Rr(e,"x","round");return Cn.runKernelFunc(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),wu=Gr({rsqrt_:function(e){var t=Rr(e,"x","rsqrt"),n=[t];return Cn.runKernelFunc(function(e,n){var r=e.rsqrt(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),yu=Gr({sigmoid_:function(e){var t=Rr(e,"x","sigmoid");return Cn.runKernelFunc(function(e,n){var r=e.sigmoid(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(Zr(1).sub(n)))}}},"Sigmoid")}}),bu=Gr({sign_:function(e){var t=Rr(e,"x","sign");return Cn.runKernelFunc(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),xu=Gr({isNaN_:function(e){var t=Rr(e,"x","isNaN");return Cn.runKernelFunc(function(e){return e.isNaN(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),Bu=Gr({isInf_:function(e){var t=Rr(e,"x","isInf");return Cn.runKernelFunc(function(e){return e.isInf(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),Cu=Gr({isFinite_:function(e){var t=Rr(e,"x","isFinite");return Cn.runKernelFunc(function(e){return e.isFinite(t)},{$x:t},function(e){return{$x:function(){return ui(e)}}})}}),Eu=Gr({sin_:function(e){var t=Rr(e,"x","sin"),n=[t];return Cn.runKernelFunc(function(e,n){var r=e.sin(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}},"Sin",{},n)}}),Fu=Gr({sinh_:function(e){var t=Rr(e,"x","sinh");return Cn.runKernelFunc(function(e,n){var r=e.sinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}})}}),Su=Gr({softplus_:function(e){var t=Rr(e,"x","softplus");return Cn.runKernelFunc(function(e,n){var r=e.softplus(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}})}}),ku=Gr({sqrt_:function(e){var t=Rr(e,"x","sqrt");return Cn.runKernelFunc(function(e,n){var r=e.sqrt(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}})}}),_u=Gr({step_:function(e,t){void 0===t&&(t=0);var n=Rr(e,"x","step");return Cn.runKernelFunc(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return ui(e)}}})}}),Iu=Gr({tan_:function(e){var t=Rr(e,"x","tan");return Cn.runKernelFunc(function(e,n){var r=e.tan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}})}}),Nu=Gr({tanh_:function(e){var t=Rr(e,"x","tanh");return Cn.runKernelFunc(function(e,n){var r=e.tanh(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return Zr(1).sub(n.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function Uu(e,t,n,r,i,a){var o,s,A=Rr(e,"x","batchNorm"),u=Rr(t,"mean","batchNorm"),l=Rr(n,"variance","batchNorm");return null!=i&&(o=Rr(i,"scale","batchNorm")),null!=r&&(s=Rr(r,"offset","batchNorm")),ft(2===A.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+A.rank+"."}),ft(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),ft(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."}),null!=o&&ft(2===o.rank||1===o.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),null!=s&&ft(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Ru(A,u,l,s,o,a)}function Lu(e,t,n,r,i,a){var o,s,A=Rr(e,"x","batchNorm"),u=Rr(t,"mean","batchNorm"),l=Rr(n,"variance","batchNorm");return null!=i&&(o=Rr(i,"scale","batchNorm")),null!=r&&(s=Rr(r,"offset","batchNorm")),ft(3===A.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+A.rank+"."}),ft(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),ft(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."}),null!=o&&ft(3===o.rank||1===o.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),null!=s&&ft(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Ru(A,u,l,s,o,a)}function Qu(e,t,n,r,i,a){var o,s,A=Rr(e,"x","batchNorm"),u=Rr(t,"mean","batchNorm"),l=Rr(n,"variance","batchNorm");return null!=i&&(o=Rr(i,"scale","batchNorm")),null!=r&&(s=Rr(r,"offset","batchNorm")),ft(4===A.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+A.rank+"."}),ft(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),ft(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."}),null!=o&&ft(4===o.rank||1===o.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),null!=s&&ft(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Ru(A,u,l,s,o,a)}function Ru(e,t,n,r,i,a){null==a&&(a=.001);var o,s,A,u=Rr(e,"x","batchNorm"),l=Rr(t,"mean","batchNorm"),c=Rr(n,"variance","batchNorm");null!=i&&(o=Rr(i,"scale","batchNorm")),null!=r&&(s=Rr(r,"offset","batchNorm")),ft(l.rank===c.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),ft(null==s||l.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),ft(null==o||l.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),A=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var h=[u,l,c,o];return Cn.runKernelFunc(function(e,t){var n=e.batchNormalization(A,Du(l),Du(c),a,Du(o),Du(s));return t([u,l,c,o]),n},{x:u,mean:l,variance:c,scale:o,offset:s},function(e,t){var n=t,r=n[0],i=n[1],o=n[2],s=n[3],u=null==s?Zr(1):s,l=Ea(i.shape,A.shape),c=[];if(1===i.rank){for(var h=0;h<A.shape.length-1;++h)c.push(A.shape[h]);c.push(1)}var f=r.sub(i),d=e.mul(u),p=wu(o.add(Zr(a))),g=p.mul(p).mul(p).mul(Zr(-.5));return{x:function(){return 1===i.rank?e.mul($i(p.as4D(1,1,1,i.shape[0]),c)).mul(u).reshape(r.shape):e.mul(p).mul(u).reshape(r.shape)},mean:function(){var e=p.mul(Zr(-1)).mul(d);return 1===i.rank&&(e=e.sum(l)),e.reshape(i.shape)},variance:function(){var e=g.mul(f).mul(d);return 1===i.rank&&(e=e.sum(l)),e.reshape(i.shape)},scale:function(){var t=f.mul(p),n=e.mul(t);return 1===i.rank&&(n=n.sum(l)),n.reshape(i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=t.sum(l)),t.reshape(i.shape)}}},"BatchNormalization",{varianceEpsilon:a},h).reshape(u.shape)}function Du(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Tu(){_r("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Pu=Gr({batchNormalization2d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Tu(),Uu(e,t,n,a,i,r)}}),Ou=Gr({batchNormalization3d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Tu(),Lu(e,t,n,a,i,r)}}),Mu=Gr({batchNormalization4d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Tu(),Qu(e,t,n,a,i,r)}}),ju=Gr({batchNormalization_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Tu(),Ru(e,t,n,a,i,r)}}),Hu=Gr({batchNorm_:Ru}),Ku=Gr({batchNorm2d_:Uu}),zu=Gr({batchNorm3d_:Lu}),Wu=Gr({batchNorm4d_:Qu}),Vu=Gr({logicalAnd_:function(e,t){var n=Rr(e,"a","logicalAnd","bool"),r=Rr(t,"b","logicalAnd","bool");return Fa(n.shape,r.shape),Cn.runKernelFunc(function(e){return e.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),Gu=Gr({logicalNot_:function(e){var t=Rr(e,"x","logicalNot","bool");return Cn.runKernelFunc(function(e){return e.logicalNot(t)},{$x:t})}}),qu=Gr({logicalOr_:function(e,t){var n=Rr(e,"a","logicalOr","bool"),r=Rr(t,"b","logicalOr","bool");return Fa(n.shape,r.shape),Cn.runKernelFunc(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),Xu=Gr({logicalXor_:function(e,t){var n=Rr(e,"a","logicalXor","bool"),r=Rr(t,"b","logicalXor","bool");return Fa(n.shape,r.shape),qu(e,t).logicalAnd(Vu(e,t).logicalNot())}}),Yu=Gr({where_:function(e,t,n){var r=Rr(t,"a","where"),i=Rr(n,"b","where"),a=Rr(e,"condition","where","bool");return dt(r.shape,i.shape,"Error in where: "),1===a.rank?ft(a.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):dt(a.shape,i.shape,"Error in where: "),Cn.runKernelFunc(function(e,t){var n=e.select(a,r,i);return t([a]),n},{$condition:a,$a:r,$b:i},function(e,t){var n=t[0];return{$condition:function(){return ui(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}})}}),Ju=function(e){return Je(this,void 0,void 0,function(){var t,n,r;return $e(this,function(i){switch(i.label){case 0:return[4,(t=Rr(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=ro(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},$u=Gr({add_:function(e,t){var n,r=Rr(e,"a","add"),i=Rr(t,"b","add");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e){return e.add(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=Ea(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ea(i.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(i.shape)}}},"Add")}}),Zu=Gr({addN_:function(e){ft(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),ft(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return Rr(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!vt(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return Cn.runKernelFunc(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},"AddN")}}),el=Gr({addStrict_:function(e,t){var n=Rr(e,"a","addStrict"),r=Rr(t,"b","addStrict");return dt(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),tl=Gr({atan2_:function(e,t){var n,r=Rr(e,"a","atan2"),i=Rr(t,"b","atan2");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e,t){var n=e.atan2(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=$u(n.square(),r.square()),i=e.mul(r.div(t)),o=Ea(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},$b:function(){var t=$u(n.square(),r.square()),i=gu(e.mul(n.div(t))),o=Ea(r.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(r.shape)}}})}}),nl=Gr({div_:function(e,t){var n,r=Rr(e,"a","div"),i=Rr(t,"b","div");if(n=vn(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return al(r,i);var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e,t){var n=e.realDivide(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Ea(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ea(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}},"Div")}}),rl=Gr({divNoNan_:function(e,t){var n,r=Rr(e,"a","div"),i=Rr(t,"b","div");r=(n=vn(r,i))[0],i=n[1];var a=nl(r,i),o=ui(a),s=i.equal(o);return Yu(s,o,a)}}),il=Gr({divStrict_:function(e,t){var n=Rr(e,"a","div"),r=Rr(t,"b","div");return dt(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),al=Gr({floorDiv_:function(e,t){var n,r=Rr(e,"a","floorDiv"),i=Rr(t,"b","floorDiv");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Ea(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ea(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}},"FloorDiv")}}),ol=Gr({maximum_:function(e,t){var n,r=Rr(e,"a","maximum"),i=Rr(t,"b","maximum");return n=vn(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Fa(r.shape,i.shape),Cn.runKernelFunc(function(e,t){var n=e.maximum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}},"Maximum")}}),sl=Gr({maximumStrict_:function(e,t){var n=Rr(e,"a","maximumStrict"),r=Rr(t,"b","maximumStrict");return dt(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Al=Gr({minimum_:function(e,t){var n,r=Rr(e,"a","minimum"),i=Rr(t,"b","minimum");return n=vn(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Fa(r.shape,i.shape),Cn.runKernelFunc(function(e,t){var n=e.minimum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}},"Minimum")}}),ul=Gr({minimumStrict_:function(e,t){var n=Rr(e,"a","minimumStrict"),r=Rr(t,"b","minimumStrict");return dt(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),ll=Gr({mod_:function(e,t){var n,r=Rr(e,"a","mod"),i=Rr(t,"b","mod");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e,t){var n=e.mod(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Ea(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=Ea(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}})}}),cl=Gr({modStrict_:function(e,t){var n=Rr(e,"a","modStrict"),r=Rr(t,"b","modStrict");return dt(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),hl=Gr({mul_:function(e,t){var n,r=Rr(e,"a","mul"),i=Rr(t,"b","mul");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e,t){var n=e.multiply(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=Ea(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ea(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}},"Mul")}}),fl=Gr({mulStrict_:function(e,t){var n=Rr(e,"a","mul"),r=Rr(t,"b","mul");return dt(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),dl=Gr({pow_:function(e,t){var n,r=Rr(e,"base","pow"),i=Rr(t,"exp","pow");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape),o=[r,i];return Cn.runKernelFunc(function(e,t){var n=e.pow(r,i);return t([r,i,n]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(Zr(1))))),o=Ea(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},b:function(){var t=n.greater(0),o=n.log().where(t,ui(n)),s=e.mul(i.mul(o)),A=Ea(r.shape,a);return A.length>0&&(s=s.sum(A)),s.reshape(r.shape)}}},"Pow",{},o,[!0])}}),pl=Gr({powStrict_:function(e,t){return dt(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),gl=Gr({squaredDifferenceStrict_:function(e,t){var n=Rr(e,"a","squaredDifferenceStrict"),r=Rr(t,"b","squaredDifferenceStrict");return dt(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),ml=Gr({sub_:function(e,t){var n,r=Rr(e,"a","sub"),i=Rr(t,"b","sub");n=vn(r,i),r=n[0],i=n[1];var a=Fa(r.shape,i.shape);return Cn.runKernelFunc(function(e){return e.subtract(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=Ea(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ea(i.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}},"Sub")}}),vl=Gr({subStrict_:function(e,t){var n=Rr(e,"a","subStrict"),r=Rr(t,"b","subStrict");return dt(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),wl=Gr({equal_:function(e,t){var n,r=Rr(e,"a","equal"),i=Rr(t,"b","equal");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e){return e.equal(r,i)},{$a:r,$b:i})}}),yl=Gr({equalStrict_:function(e,t){var n=Rr(e,"a","equalStrict"),r=Rr(t,"b","equalStrict");return dt(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),bl=Gr({greater_:function(e,t){var n,r=Rr(e,"a","greater"),i=Rr(t,"b","greater");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e){return e.greater(r,i)},{a:r,b:i},null,"Greater")}}),xl=Gr({greaterEqual_:function(e,t){var n,r=Rr(e,"a","greaterEqual"),i=Rr(t,"b","greaterEqual");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return ui(n)},b:function(){return ui(r)}}},"GreaterEqual")}}),Bl=Gr({greaterEqualStrict_:function(e,t){var n=Rr(e,"a","greaterEqualStrict"),r=Rr(t,"b","greaterEqualStrict");return dt(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Cl=Gr({greaterStrict_:function(e,t){var n=Rr(e,"a","greaterStrict"),r=Rr(t,"b","greaterStrict");return dt(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),El=Gr({less_:function(e,t){var n,r=Rr(e,"a","less"),i=Rr(t,"b","less");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e){return e.less(r,i)},{a:r,b:i},null,"Less")}}),Fl=Gr({lessEqual_:function(e,t){var n,r=Rr(e,"a","lessEqual"),i=Rr(t,"b","lessEqual");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n},{a:r,b:i},null,"LessEqual")}}),Sl=Gr({lessEqualStrict_:function(e,t){var n=Rr(e,"a","lessEqualStrict"),r=Rr(t,"b","lessEqualStrict");return dt(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),kl=Gr({lessStrict_:function(e,t){var n=Rr(e,"a","lessStrict"),r=Rr(t,"b","lessStrict");return dt(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),_l=Gr({notEqual_:function(e,t){var n,r=Rr(e,"a","notEqual"),i=Rr(t,"b","notEqual");return n=vn(r,i),r=n[0],i=n[1],Fa(r.shape,i.shape),Cn.runKernelFunc(function(e){return e.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),Il=Gr({notEqualStrict_:function(e,t){var n=Rr(e,"a","notEqualStrict"),r=Rr(t,"b","notEqualStrict");return dt(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Nl(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Ul(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Ll=Gr({gather_:function(e,t,n){void 0===n&&(n=0);var r=Rr(e,"x","gather"),i=Rr(t,"indices","gather","int32");n=Et(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],i=[],a=1,o=1,s=0;s<n;s++)i.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),o*=e.shape[s];return{batchSize:a,sliceSize:o,dimSize:r,outputShape:i}}(r,i,n);return Cn.runKernelFunc(function(e,t){var a=e.gather(r,i.flatten(),n);return t([i]),a},{x:r,indices:i},function(e,t){var i=t[0];return{x:function(){var t=r.shape,a=i.size,o=t.slice(0,n),s=o.length,A=t.slice(n,t.length).slice(1),u=A.length,l=Nl(0,s),c=Nl(s+1,s+1+u),h=Ul([o,[a],A]),f=e.reshape(h),d=i.reshape([a]),p=Ul([[s],l,c]),g=f.transpose(p),m=Ql(g,d,r.shape[n]),v=Kr(p);return m.transpose(v)},indices:function(){return i}}},"Gather",{axis:n}).reshape(a.outputShape)}}),Ql=Gr({unsortedSegmentSum_:function(e,t,n){var r=Rr(e,"x","unsortedSegmentSum"),i=Rr(t,"segmentIds","unsortedSegmentSum","int32");return ft(wt(n),function(){return"numSegments must be of dtype int"}),Cn.runKernelFunc(function(e,t){var a=e.unsortedSegmentSum(r,i,n);return t([i]),a},{$x:r},function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=ol(t,ui(t)),r=Ll(e,n),i=xl(t,Zr(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=Ri(i,o+1);i=Vu(i,ii(r.shape,"bool"));var s=ui(r);return Yu(i,r,s)}(e,n)}}})}});function Rl(e,t,n,r,i,a,o){void 0===a&&(a="NHWC"),ft(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,A=t,u=!1;3===t.rank&&(u=!0,A=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),ft(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),ft(4===A.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+A.rank}),ft(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var l="NHWC"===a?s[3]:s[1],c="NHWC"===a?A.shape[3]:A.shape[1];ft(l===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."}),ft(c===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[3]+"."}),null!=o&&ft(wt(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var h=Pa(a),f=_a(s,n.shape,r,1,i,o,!1,h),d=Cn.runKernelFunc(function(e,t){var r=e.conv2dDerInput(A,n,f);return t([n,A]),r},{dy4D:A,filter:n},function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return Ol(e,n,r,i,a,1,o)},filter:function(){return jl(e,s,n.shape,r,i,a,o)}}});return u?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function Dl(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Tl(e,t,n,r,i){ft(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var A=a[4],u=o.shape[4];ft(5===a.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),ft(5===o.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),ft(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),ft(A===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+A+") must match input depth for filter "+n.shape[3]+"."}),ft(u===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."});var l=Ia(a,n.shape,r,1,i),c=Cn.runKernelFunc(function(e){return e.conv3dDerInput(o,n,l)},{dy5D:o});return s?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}var Pl=Gr({conv1d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NWC"),void 0===a&&(a=1);var s=Rr(e,"x","conv1d"),A=Rr(t,"filter","conv1d"),u=s,l=!1;2===s.rank&&(l=!0,u=s.as3D(1,s.shape[0],s.shape[1])),ft(3===u.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),ft(3===A.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+A.rank+"."}),null!=o&&ft(wt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),ft(u.shape[2]===A.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+A.shape[1]+"."}),ft(Ta(n,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"}),ft("NWC"===i,function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var c=A.as4D(1,A.shape[0],A.shape[1],A.shape[2]),h=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=Ol(h,c,[1,n],r,"NHWC",[1,a],o);return l?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),Ol=Gr({conv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=Rr(e,"x","conv2d"),A=Rr(t,"filter","conv2d"),u=s,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ft(4===u.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),ft(4===A.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+A.rank+"."}),null!=o&&ft(wt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var c="NHWC"===i?u.shape[3]:u.shape[1];ft(c===A.shape[2],function(){return"Error in conv2d: depth of input ("+c+") must match input depth for filter "+A.shape[2]+"."}),ft(Ta(n,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"});var h=Pa(i),f=_a(u.shape,A.shape,n,a,r,o,!1,h),d=[A,u],p=Cn.runKernelFunc(function(e,t){var n=e.conv2d(u,A,f);return t([A,u]),n},{x:u,filter:A},function(e,t){var o=t,s=o[0],A=o[1];return ft(Da(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return Hl(A.shape,e,s,n,r,i)},filter:function(){return jl(A,e,s.shape,n,r,i)}}},"Conv2D",f,d);return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),Ml=Gr({conv3d_:function(e,t,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var o=Rr(e,"x","conv3d"),s=Rr(t,"filter","conv3d"),A=o,u=!1;4===o.rank&&(u=!0,A=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),ft(5===A.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+A.rank+"."}),ft(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),ft(A.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+A.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),ft(function(e,t){return Dl(e)||Dl(t)}(n,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),ft("NDHWC"===i,function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var l=Ia(A.shape,s.shape,n,a,r),c=Cn.runKernelFunc(function(e,t){var n=e.conv3d(A,s,l);return t([A,s]),n},{x:A,$filter:s},function(e,t){ft(Dl(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var i=t[0],o=t[1];return{x:function(){return Tl(i.shape,e,o,n,r)},$filter:function(){return function(e,t,n,r,i){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var o=t;4===o.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),ft(5===a.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."}),ft(5===o.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+o.shape+"."}),ft(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),ft(a.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."}),ft(o.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+o.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=Ia(a.shape,n,r,1,i);return Cn.runKernelFunc(function(e){return e.conv3dDerFilter(a,o,s)},{x5D:a,dy5D:o})}(i,e,o.shape,n,r)}}});return u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),jl=Gr({conv2dDerFilter_:function(e,t,n,r,i,a,o){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var A=t;3===A.rank&&(A=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),ft(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),ft(4===A.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+A.shape+"."}),ft(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var u="NHWC"===a?s.shape[3]:s.shape[1],l="NHWC"===a?A.shape[3]:A.shape[1];ft(u===n[2],function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."}),ft(l===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."}),null!=o&&ft(wt(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=Pa(a),h=_a(s.shape,n,r,1,i,o,!1,c);return Cn.runKernelFunc(function(e){return e.conv2dDerFilter(s,A,h)},{x4D:s,dy4D:A})}}),Hl=Gr({conv2dDerInput_:Rl}),Kl=Gr({depthwiseConv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=Rr(e,"x","depthwiseConv2d"),A=Rr(t,"filter","depthwiseConv2d"),u=s,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ft(4===u.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),ft(4===A.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+A.rank+"."}),ft(u.shape[3]===A.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+A.shape[2]+"."}),null==a&&(a=[1,1]),ft(Ta(n,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=o&&ft(wt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var c=_a(u.shape,A.shape,n,a,r,o,!0),h=[u,A],f=Cn.runKernelFunc(function(e,t){var n=e.depthwiseConv2D(u,A,c);return t([u,A]),n},{x:u,filter:A},function(e,t){ft(Da(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var n=t[0],r=t[1];return{x:function(){return zl(n.shape,e,r,c)},filter:function(){return Wl(n,e,r.shape,c)}}},"DepthwiseConv2dNative",c,h);return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),zl=Gr({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,a=!1;3===t.rank&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=Cn.runKernelFunc(function(e){return e.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),Wl=Gr({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Cn.runKernelFunc(function(e){return e.depthwiseConv2DDerFilter(i,a,r)},{x4D:i,dy4D:a})}}),Vl=Gr({separableConv2d_:function(e,t,n,r,i,a,o){void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC");var s=Rr(e,"x","separableConv2d"),A=Rr(t,"depthwiseFilter","separableConv2d"),u=Rr(n,"pointwiseFilter","separableConv2d"),l=s,c=!1;if(3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ft(4===l.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."}),ft(4===A.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+A.rank+"."}),ft(4===u.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+A.rank+"."}),ft(1===u.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),ft(1===u.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var h=A.shape[2],f=A.shape[3];ft(u.shape[2]===h*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*f+", but got "+u.shape[2]+"."});var d=Kl(l,A,r,i,o,a),p=Ol(d,u,1,"valid",o);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),Gl=Gr({conv2dTranspose_:function(e,t,n,r,i,a){return Rl(n,Rr(e,"x","conv2dTranspose"),Rr(t,"filter","conv2dTranspose"),r,i,"NHWC",a)}}),ql=Gr({conv3dTranspose_:function(e,t,n,r,i){return Tl(n,Rr(e,"x","conv3dTranspose"),Rr(t,"filter","conv3dTranspose"),r,i)}}),Xl=Gr({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=Rr(e,"a","matMul"),o=Rr(t,"b","matMul");i=vn(a,o),a=i[0],o=i[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],A=r?o.shape[o.rank-1]:o.shape[o.rank-2],u=n?a.shape[a.rank-1]:a.shape[a.rank-2],l=r?o.shape[o.rank-2]:o.shape[o.rank-1],c=a.shape.slice(0,-2),h=o.shape.slice(0,-2),f=mt(c),d=mt(h);ft(a.rank>=2&&o.rank>=2&&a.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."}),ft(vt(c,h),function(){return"Error in matMul: outer dimensions ("+c+") and ("+h+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."}),ft(s===A,function(){return"Error in matMul: inner shapes ("+s+") and ("+A+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var p=a.shape.slice(0,-2).concat([u,l]),g=n?a.as3D(f,s,u):a.as3D(f,u,s),m=r?o.as3D(d,l,A):o.as3D(d,A,l),v={transposeA:n,transposeB:r};return Cn.runKernelFunc(function(e,t){var i=e.batchMatMul(g,m,n,r);return t([g,m]),i},{a:g,b:m},function(e,t){var i=t,a=i[0],o=i[1];return n||r?!n&&r?{a:function(){return e.matMul(o,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return o.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return o.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(o,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}},"BatchMatMul",v).reshape(p)}}),Yl=Gr({dot_:function(e,t){var n=Rr(e,"t1","dot"),r=Rr(t,"t2","dot");ft(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return ft(i===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Jl=Gr({outerProduct_:function(e,t){var n=Rr(e,"v1","outerProduct"),r=Rr(t,"v2","outerProduct");return ft(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),$l=Gr({reverse_:function(e,t){var n=Rr(e,"x","reverse");if(0===n.rank)return n.clone();var r=Et(t,n.shape);return Cn.runKernelFunc(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),Zl=Gr({reverse1d_:function(e){var t=Rr(e,"x","reverse");return ft(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),$l(t,0)}}),ec=Gr({reverse2d_:function(e,t){var n=Rr(e,"x","reverse");return ft(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),$l(n,t)}}),tc=Gr({reverse3d_:function(e,t){var n=Rr(e,"x","reverse");return ft(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),$l(n,t)}}),nc=Gr({reverse4d_:function(e,t){var n=Rr(e,"x","reverse");return ft(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),$l(n,t)}});function rc(e,t,n,r,i,a){var o=Rr(e,"x","maxPool"),s=o,A=!1;3===o.rank&&(A=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),ft(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),ft(Ta(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=a&&ft(wt(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=Sa(s.shape,t,n,r,i,a);if(1===u.filterWidth&&1===u.filterHeight&&vt(u.inShape,u.outShape))return o.clone();var l=[s],c=Cn.runKernelFunc(function(e,t){var n=e.maxPool(s,u);return t([s,n]),n},{x:s},function(e,a){var o=a[0],s=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var A=Rr(e,"dy","maxPoolBackprop"),u=Rr(t,"input","maxPoolBackprop"),l=Rr(n,"output","maxPoolBackprop");ft(u.rank===A.rank,function(){return"Rank of input ("+u.rank+") does not match rank of dy ("+A.rank+")"}),null==a&&(a=[1,1]),ft(Ta(i,a),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}),ft(4===A.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+A.rank+"."}),ft(4===u.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var c=Sa(u.shape,r,i,a,o,s);return Cn.runKernelFunc(function(e){return e.maxPoolBackprop(A,u,l,c)},{$dy:A,$input:u})}(e,o,s,t,n,r,i)}}},"MaxPool",u,l);return A?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function ic(e,t,n,r,i,a){var o=Rr(e,"x","avgPool","float32");null==r&&(r=[1,1]),ft(Ta(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=o,A=!1;3===o.rank&&(A=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),ft(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=a&&ft(wt(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=Sa(s.shape,t,n,r,i,a);if(1===u.filterWidth&&1===u.filterHeight&&vt(u.inShape,u.outShape))return o.clone();var l=Cn.runKernelFunc(function(e){return e.avgPool(s,u)},{x:s},function(e){return{x:function(){return function(e,t,n,r,i,a){var o=Rr(e,"dy","avgPoolBackprop"),s=Rr(t,"input","avgPoolBackprop");ft(s.rank===o.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+o.rank+")"}),null==i&&(i=[1,1]),ft(Ta(r,i),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"});var A=s,u=o,l=!1;3===s.rank&&(l=!0,A=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),ft(4===u.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),ft(4===A.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+A.rank+"."});var c=Sa(A.shape,n,r,i,a),h=Cn.runKernelFunc(function(e){return e.avgPoolBackprop(u,A,c)},{dy4D:u,input4D:A});return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}(e,s,t,n,r,i)}}},"AvgPool",u);return l=l.cast(o.dtype),A?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var ac=Gr({maxPool_:function(e,t,n,r,i){return rc(e,t,n,1,r,i)}}),oc=Gr({avgPool_:function(e,t,n,r,i){return ic(e,t,n,1,r,i)}}),sc=Gr({pool_:function(e,t,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var o=Rr(e,"x","maxPool"),s=o,A=!1;3===o.rank&&(A=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),ft(Ta(a,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"});var u,l=Sa(s.shape,t,a,i,r),c=[l.dilationHeight,l.dilationWidth];u="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),i=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],i[t]]})}([l.filterHeight,l.filterWidth],c):[[0,0],[0,0]];var h=1===c[0]&&1===c[1],f=function(e,t,n){var r=n.map(function(e){return e[0]}),i=n.map(function(e){return e[1]}),a=e.concat(r,i),o=t.map(function(e,t){return(e-a[t]%e)%e}),s=i.map(function(e,t){return e+o[t]});return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,o[t]]})]}([l.inHeight,l.inWidth],c,u),d=f[0],p=f[1],g=h?r:"valid",m=h?s:Xi(s,c,d),v=("avg"===n?function(){return ic(m,t,a,1,g)}:function(){return rc(m,t,a,1,g)})(),w=h?v:_i(v,c,p);return A?w.as3D(w.shape[1],w.shape[2],w.shape[3]):w}}),Ac=Gr({maxPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=Rr(e,"x","maxPool3d"),A=s,u=!1;4===s.rank&&(u=!0,A=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),ft(5===A.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+A.rank+"."}),ft("NDHWC"===a,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),ft(Ta(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=i&&ft(wt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var l=ka(A.shape,t,n,o,r,i,a),c=Cn.runKernelFunc(function(e,t){var n=e.maxPool3d(A,l);return t([A,n]),n},{x:A},function(e,a){var s=a[0],A=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var A=Rr(e,"dy","maxPool3dBackprop"),u=Rr(t,"input","maxPool3dBackprop"),l=Rr(n,"output","maxPool3dBackprop"),c=A,h=u,f=l,d=!1;4===u.rank&&(d=!0,c=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3]),h=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),ft(5===c.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."}),ft(5===h.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+h.rank+"."}),ft(5===f.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+f.rank+"."}),null==a&&(a=[1,1,1]),ft(Ta(i,a),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}),null!=s&&ft(wt(o),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."});var p=ka(h.shape,r,i,a,o,s),g=Cn.runKernelFunc(function(e){return e.maxPool3dBackprop(c,h,f,p)},{dy5D:c,input5D:h});return d?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,A,t,n,o,r,i)}}});return u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),uc=Gr({avgPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=Rr(e,"x","avgPool3d","float32"),A=s,u=!1;4===s.rank&&(u=!0,A=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),ft(5===A.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+A.rank+"."}),ft("NDHWC"===a,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),ft(Ta(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=i&&ft(wt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var l=ka(A.shape,t,n,o,r,i,a),c=Cn.runKernelFunc(function(e){return e.avgPool3d(A,l)},{x:A},function(e){return{x:function(){return function(e,t,n,r,i,a,o){var s=Rr(e,"dy","avgPool3dBackprop"),A=Rr(t,"input","avgPool3dBackprop"),u=s,l=A,c=!1;4===A.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),ft(5===u.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+u.rank+"."}),ft(5===l.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."}),null==i&&(i=[1,1,1]),ft(Ta(r,i),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}),null!=o&&ft(wt(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var h=ka(l.shape,n,r,i,a,o),f=Cn.runKernelFunc(function(e){return e.avgPool3dBackprop(u,l,h)},{dy5D:u,input5D:l});return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(e,A,t,n,o,r,i)}}});return c=c.cast(A.dtype),u?c.as4D(c.shape[1],c.shape[2],c.shape[3],c.shape[4]):c}}),lc=Gr({slice_:function(e,t,n){var r,i,a=Rr(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach(function(e){ft(-1!==e,function(){return"slice() does not support negative begin indexing."})}),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(ft(-1===e,function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."}),a.shape[t]-r[t])}),ca(a,r,i);var o=a.shape,s={begin:r,size:i};return Cn.runKernelFunc(function(e){return e.slice(a,r,i)},{x:a},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return e.pad(t)}}},"Slice",s)}}),cc=Gr({slice1d_:function(e,t,n){var r=Rr(e,"x","slice1d");return ft(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),lc(r,[t],[n])}}),hc=Gr({slice2d_:function(e,t,n){var r=Rr(e,"x","slice2d");return ft(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),lc(r,t,n)}}),fc=Gr({slice3d_:function(e,t,n){var r=Rr(e,"x","slice3d");return ft(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),lc(r,t,n)}}),dc=Gr({slice4d_:function(e,t,n){var r=Rr(e,"x","slice4d");return ft(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),lc(r,t,n)}});function pc(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(Mr(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Mr(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var gc=Gr({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","all","bool"),i=Et(t,r.shape),a=i,o=Hr(a,r.rank);null!=o&&(r=r.transpose(o),a=zr(a.length,r.rank));var s=Cn.runKernelFunc(function(e){return e.all(r,a)},{$x:r});if(n){var A=Mr(s.shape,i);return s.reshape(A)}return s}}),mc=Gr({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","any","bool"),i=Et(t,r.shape),a=i,o=Hr(a,r.rank);null!=o&&(r=r.transpose(o),a=zr(a.length,r.rank));var s=Cn.runKernelFunc(function(e){return e.any(r,a)},{$x:r});if(n){var A=Mr(s.shape,i);return s.reshape(A)}return s}}),vc=Gr({argMax_:function(e,t){void 0===t&&(t=0);var n=Rr(e,"x","argMax");null==t&&(t=0);var r=Et(t,n.shape),i=Hr(r,n.rank);null!=i&&(n=n.transpose(i),r=zr(r.length,n.rank));var a={axis:r[0]},o=[n];return Cn.runKernelFunc(function(e,t){var i=e.argMax(n,r[0]);return t([n]),i},{x:n},function(e,t){var n=t[0];return{x:function(){return ui(n)}}},"ArgMax",a,o)}}),wc=Gr({argMin_:function(e,t){void 0===t&&(t=0);var n=Rr(e,"x","argMin");null==t&&(t=0);var r=Et(t,n.shape),i=Hr(r,n.rank);return null!=i&&(n=n.transpose(i),r=zr(r.length,n.rank)),Cn.runKernelFunc(function(e,t){var i=e.argMin(n,r[0]);return t([n]),i},{$x:n},function(e,t){var n=t[0];return{$x:function(){return ui(n)}}})}}),yc=Gr({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","logSumExp"),i=Et(t,r.shape),a=r.max(i,!0),o=r.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(n){var A=Mr(s.shape,i);return s.reshape(A)}return s}}),bc=Gr({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","max"),i=r,a=Et(t,r.shape),o=a,s=Hr(o,r.rank);null!=s&&(r=r.transpose(s),o=zr(o.length,r.rank));var A=[r],u=Cn.runKernelFunc(function(e,t){var n=e.max(r,o);return t([i,n]),n},{x:r},function(e,t){return pc(e,t[1],t[0],a,s)},"Max",{axes:o},A,[!0]);if(n){var l=Mr(u.shape,a);u=u.reshape(l)}return u}}),xc=Gr({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","mean"),i=Et(t,r.shape),a=mt(Or(r.shape,i)[1]);return va(function(e){var r=Zr(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(ii(e.shape,"float32")).div(a)}}})(r)}}),Bc=Gr({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","min"),i=r,a=Et(t,r.shape),o=a,s=Hr(o,r.rank);null!=s&&(r=r.transpose(s),o=zr(o.length,r.rank));var A=[r],u=Cn.runKernelFunc(function(e,t){var n=e.min(r,o);return t([i,n]),n},{x:r},function(e,t){return pc(e,t[1],t[0],a,s)},"Min",{axes:o},A,[!0]);if(n){var l=Mr(u.shape,a);u=u.reshape(l)}return u}}),Cc=Gr({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Et(t,(e=Rr(e,"x","moments")).shape),i=e.mean(r,n),a=i.shape;n||(a=Mr(i.shape,r));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(r,n)}}}),Ec=Gr({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=Et(t,r.shape);return va(function(e){var t=Hr(i,e.rank),r=i,a=e;null!=t&&(a=e.transpose(t),r=zr(r.length,e.rank));var o=function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(ii(e.shape,"float32"))},s={axes:r},A=Cn.runKernelFunc(function(e){return e.sum(a,r)},{x:a},function(e){return{x:function(){return o(e)}}},"Sum",s);if(n){var u=Mr(A.shape,i);A=A.reshape(u)}return{value:A,gradFunc:o}})(r)}}),Fc=Gr({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Rr(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=Et(t,r.shape),a=Hr(i,r.rank),o=i,s=r;null!=a&&(s=r.transpose(a),o=zr(o.length,r.rank));var A=Cn.runKernelFunc(function(e){return e.prod(s,o)},{permutedX:s});if(n){var u=Mr(A.shape,i);A=A.reshape(u)}return A}}),Sc=Gr({elu_:function(e){var t=Rr(e,"x","elu");return Cn.runKernelFunc(function(e,n){var r=e.elu(t);return n([r]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return Cn.runKernelFunc(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),kc=Gr({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=Rr(e,"x","leakyRelu");return ol(Zr(t).mul(n),n)}}),_c=Gr({prelu_:function(e,t){var n=Rr(e,"x","prelu"),r=Rr(t,"alpha","prelu");return Cn.runKernelFunc(function(e,t){var i=e.prelu(n,r);return t([n,r]),i},{x:n,alpha:r},function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return Yu(i,e,e.mul(r))},alpha:function(){var t=Yu(i,ui(e),e.mul(n)),a=Ea(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}},"Prelu")}}),Ic=Gr({relu_:function(e){var t=Rr(e,"x","relu");return"bool"===t.dtype?t.toInt():Cn.runKernelFunc(function(e,n){var r=e.relu(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}},"Relu")}}),Nc=Gr({relu6_:function(e){var t=Rr(e,"x","relu6");return"bool"===t.dtype?t.toInt():Cn.runKernelFunc(function(e,n){var r=e.relu6(t);return n([t]),r},{x:t},function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}},"Relu6")}}),Uc=Gr({selu_:function(e){var t=Rr(e,"x","selu");return Cn.runKernelFunc(function(e,n){var r=e.selu(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){var t=n.greater(Zr(0)),r=Zr(vA),i=Zr(wA),a=e.mul(i),o=e.mul(r).mul(n.toFloat().exp());return Yu(t,a,o)}}})}}),Lc=Gr({transpose_:function(e,t){var n=Rr(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),ft(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(e){ft(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return Cn.runKernelFunc(function(e){return e.transpose(n,t)},{x:n},function(e){var n=Kr(t);return{x:function(){return e.transpose(n)}}},"Transpose",r)}}),Qc=Gr({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=Rr(e,"x","localResponseNormalization");ft(4===a.rank||3===a.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."}),ft(wt(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=a,s=!1;3===a.rank&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var A=Cn.runKernelFunc(function(e,a){var s=e.localResponseNormalization4D(o,t,n,r,i);return a([o,s]),s},{x4D:o},function(e,a){var o=a[0],s=a[1];return{x4D:function(){return Cn.runKernelFunc(function(a){return a.LRNGrad(e,o,s,t,n,r,i)},{})}}});return s?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}}),Rc=Gr({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(Zr(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=Rr(e,"x","norm"),t,n),a=i.shape;if(r){var o=Et(n,e.shape);a=Mr(i.shape,o)}return i.reshape(a)}}),Dc=Gr({basicLSTMCell_:function(e,t,n,r,i,a){var o=Rr(e,"forgetBias","basicLSTMCell"),s=Rr(t,"lstmKernel","basicLSTMCell"),A=Rr(n,"lstmBias","basicLSTMCell"),u=Rr(r,"data","basicLSTMCell"),l=Rr(i,"c","basicLSTMCell"),c=Rr(a,"h","basicLSTMCell"),h=u.concat(c,1).matMul(s).add(A),f=h.shape[0],d=h.shape[1]/4,p=[f,d],g=h.slice([0,0],p),m=h.slice([0,d],p),v=h.slice([0,2*d],p),w=h.slice([0,3*d],p),y=g.sigmoid().mulStrict(m.tanh()).addStrict(l.mulStrict(o.add(v).sigmoid())),b=y.tanh().mulStrict(w.sigmoid());return[y,b]}}),Tc=Gr({multiRNNCell_:function(e,t,n,r){for(var i=Rr(t,"data","multiRNNCell"),a=Dr(n,"c","multiRNNCell"),o=Dr(r,"h","multiRNNCell"),s=i,A=[],u=0;u<e.length;u++){var l=e[u](s,a[u],o[u]);A.push(l[0]),A.push(l[1]),s=l[1]}var c=[],h=[];for(u=0;u<A.length;u+=2)c.push(A[u]),h.push(A[u+1]);return[c,h]}}),Pc=Gr({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var a=Rr(e,"v","movingAverage"),o=Rr(t,"x","movingAverage"),s=Rr(n,"decay","movingAverage");wn(a,o),ft(vt(a.shape,o.shape),function(){return"Shape mismatch in v and x"});var A=Zr(1),u=A.sub(s),l=o.sub(a).mul(u);if(i){ft(null!=r,function(){return"When using zeroDebias: true, step is required."});var c=Rr(r,"step","movingAverage");l=l.div(A.sub(dl(s,c)))}return a.add(l)}}),Oc=Gr({stridedSlice_:function(e,t,n,r,i,a,o,s,A){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===A&&(A=0),null==r&&(r=new Array(t.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var u=Rr(e,"x","stridedSlice"),l=ha(s),c=u.shape.slice();l.forEach(function(e){t[e]=0,n[e]=1,c.splice(e,0,1)}),u=u.reshape(c);for(var h=0;h<u.rank;h++)t[h]=da(i,t,r,u.shape,h),n[h]=pa(a,n,r,u.shape,h),r[h]=r[h]||1;var f=ha(A);f.forEach(function(e){n[e]=t[e]+1,r[e]=1});var d=fa(t,n,r),p=d.filter(function(e,t){return-1===f.indexOf(t)});return r.every(function(e){return 1===e})?lc(u,t,d).reshape(p):Cn.runKernelFunc(function(e){return e.stridedSlice(u,t,n,r)},{$x:u}).reshape(p)}}),Mc=Gr({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=Rr(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=Cn.runKernelFunc(function(e){return e.topk(r,t,n)},{$x:r});return{values:a[0],indices:a[1]}}}),jc=Gr({scatterND_:function(e,t,n){var r=Rr(e,"indices","scatterND","int32"),i=Rr(t,"updates","scatterND");return ua(i,r,n),Cn.runKernelFunc(function(e){return e.scatterND(r,i,n)},{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),Hc=Gr({fft_:function(e){ft("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Cn.runKernelFunc(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),Kc=Gr({ifft_:function(e){ft("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Cn.runKernelFunc(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),zc=Gr({rfft_:function(e,t){ft("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map(function(e){return 0}),o=e.shape.map(function(e){return e});o[e.shape.length-1]=t,n=e.slice(a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map(function(e){return e});s[e.shape.length-1]=t-r,n=e.concat(ai(s),e.shape.length-1),r=t}else n=e;var A=n.zerosLike(),u=qr(n,A).as2D(i,r),l=Hc(u),c=Math.floor(r/2)+1,h=Xr(l),f=Yr(l),d=h.split([c,r-c],h.shape.length-1),p=f.split([c,r-c],f.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=c,qr(d[0],p[0]).reshape(g)}}),Wc=Gr({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=Kc(r);return Xr(i)}var a=[n,2*(t-1)],o=Xr(e).as2D(n,t),s=Yr(e).as2D(n,t),A=o.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(Zr(-1)),l=o.concat(A,1),c=s.concat(u,1);return r=qr(l,c).as2D(a[0],a[1]),i=Kc(r),Xr(i)}}),Vc=Object.freeze({fft:Hc,ifft:Kc,rfft:zc,irfft:Wc}),Gc=Gr({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=Rr(e,"sparseIndices","sparseToDense","int32"),a=Rr(t,"sparseValues","sparseToDense"),o=Rr(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,o),Cn.runKernelFunc(function(e){return e.sparseToDense(i,a,n,o)},{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),qc=Gr({gatherND_:function(e,t){var n=Rr(t,"indices","gatherND","int32"),r=Rr(e,"x","gatherND");return Cn.runKernelFunc(function(e){return e.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),Xc=Gr({diag_:function(e){var t=Rr(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Cn.runKernelFunc(function(e){return e.diag(t)},{$x:t}).reshape(n)}}),Yc=Gr({dropout_:function(e,t,n,r){var i=Rr(e,"x","dropout");if(ft("float32"===i.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),ft(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),0===t)return e instanceof An?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(vt(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=Gi(a,0,1,"float32",r).add(o).floor().div(o);return i.mul(s)}});function Jc(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return ei(i,"float32")}var $c,Zc=Gr({hannWindow_:function(e){return Jc(e,.5,.5)}}),eh=Gr({hammingWindow_:function(e){return Jc(e,.54,.46)}}),th=Gr({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(lc(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,A=li([lc(e,a,t-s),oi([s],i)]);o.push(A),a+=n}return 0===o.length?ti([],[0,t]):li(o).as2D(o.length,t)}}),nh=Gr({stft_:function(e,t,n,r,i){var a;void 0===i&&(i=Zc),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=th(e,t,n),s=hl(o,i(t)),A=[],u=0;u<o.shape[0];u++)A.push(zc(s.slice([u,0],[1,t]),r));return li(A)}}),rh=Object.freeze({hannWindow:Zc,hammingWindow:eh,frame:th,stft:nh});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}($c||($c={}));var ih=Gr({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=$c.SUM_BY_NONZERO_WEIGHTS);var i=Rr(e,"labels","absoluteDifference"),a=Rr(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=Rr(n,"weights","absoluteDifference")),dt(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return ah(s,o,r)}}),ah=Gr({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=$c.SUM_BY_NONZERO_WEIGHTS);var r=Rr(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=Rr(t,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===$c.NONE)return a;if(n===$c.SUM)return a.sum();if(n===$c.MEAN){if(null==i)return a.mean();var o=r.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(Zr(o)):s}if(n===$c.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(Zr(r.size));var A=i.mul(ii(r.shape)).notEqual(Zr(0)).sum().toFloat();return a.sum().div(A)}throw Error("Unknown reduction: "+n)}}),oh=Gr({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=$c.SUM_BY_NONZERO_WEIGHTS);var a=Rr(e,"labels","cosineDistance"),o=Rr(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Rr(r,"weights","cosineDistance")),dt(a.shape,o.shape,"Error in cosineDistance: ");var A=Zr(1).sub(a.mul(o).sum(n,!0));return ah(A,s,i)}}),sh=Gr({hingeLoss_:function(e,t,n,r){void 0===r&&(r=$c.SUM_BY_NONZERO_WEIGHTS);var i=Rr(e,"labels","hingeLoss"),a=Rr(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Rr(n,"weights","hingeLoss")),dt(i.shape,a.shape,"Error in hingeLoss: ");var s=Zr(1);i=Zr(2).mul(i).sub(s);var A=s.sub(i.mul(a)).relu();return ah(A,o,r)}}),Ah=Gr({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=$c.SUM_BY_NONZERO_WEIGHTS);var a=Rr(e,"labels","huberLoss"),o=Rr(t,"predictions","huberLoss"),s=null;null!=n&&(s=Rr(n,"weights","huberLoss")),dt(a.shape,o.shape,"Error in huberLoss: ");var A=Zr(r),u=o.sub(a).abs(),l=Al(u,A),c=u.sub(l),h=Zr(.5).mul(l.square()).add(A.mul(c));return ah(h,s,i)}}),uh=Gr({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=$c.SUM_BY_NONZERO_WEIGHTS);var a=Rr(e,"labels","logLoss"),o=Rr(t,"predictions","logLoss"),s=null;null!=n&&(s=Rr(n,"weights","logLoss")),dt(a.shape,o.shape,"Error in logLoss: ");var A=Zr(1),u=Zr(r),l=a.mul(o.add(u).log()).neg().sub(A.sub(a).mul(A.sub(o).add(u).log()));return ah(l,s,i)}}),lh=Gr({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=$c.SUM_BY_NONZERO_WEIGHTS);var i=Rr(e,"labels","meanSquaredError"),a=Rr(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Rr(n,"weights","meanSquaredError")),dt(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return ah(s,o,r)}}),ch=Gr({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=$c.SUM_BY_NONZERO_WEIGHTS);var a=Rr(e,"multiClassLabels","sigmoidCrossEntropy"),o=Rr(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Rr(n,"weights","sigmoidCrossEntropy")),dt(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var A=Zr(r),u=Zr(1),l=Zr(.5);a=a.mul(u.sub(A)).add(l.mul(A))}var c=function(e,t){var n=Rr(e,"labels","sigmoidCrossEntropyWithLogits"),r=Rr(t,"logits","sigmoidCrossEntropyWithLogits");dt(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),o=r.abs().neg().exp().log1p();return i.sub(a).add(o)}(a,o);return ah(c,s,i)}}),hh=Gr({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=$c.SUM_BY_NONZERO_WEIGHTS);var a=Rr(e,"onehotLabels","softmaxCrossEntropy"),o=Rr(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Rr(n,"weights","softmaxCrossEntropy")),dt(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var A=Zr(r),u=Zr(1),l=Zr(a.shape[1]);a=a.mul(u.sub(A)).add(A.div(l))}var c=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return va(function(e,t,r){var i=t.logSumExp([n],!0),a=t.toFloat().sub(i);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],a=Mr(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(i.exp())),e.reshape(a).mul(i.exp().sub(r.toFloat()))]}}})(e,t)}(a,o);return ah(c,s,i)}}),fh=Object.freeze({get Reduction(){return $c},absoluteDifference:ih,computeWeightedLoss:ah,cosineDistance:oh,hingeLoss:sh,huberLoss:Ah,logLoss:uh,meanSquaredError:lh,sigmoidCrossEntropy:ch,softmaxCrossEntropy:hh});function dh(e,t){return void 0===t&&(t=!1),Cn.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=Di(n),a=e.clone(),o=ti([[1]],[1,1]),s=o.clone(),A=n>=r?r:n,u=function(e){var t,A=a,u=s,l=i;t=Cn.tidy(function(){var t=a.slice([e,e],[n-e,1]),A=t.norm(),u=a.slice([e,e],[1,1]),l=ti([[-1]]).where(u.greater(0),ti([[1]])),c=u.sub(l.mul(A)),h=t.div(c);s=1===h.shape[0]?o.clone():o.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);var f=l.matMul(c).div(A).neg(),d=a.slice([e,0],[n-e,r]),p=f.mul(s);if(0===e)a=d.sub(p.matMul(s.transpose().matMul(d)));else{var g=d.sub(p.matMul(s.transpose().matMul(d)));a=a.slice([0,0],[e,r]).concat(g,0)}var m=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=m.sub(m.matMul(s).matMul(p.transpose()));else{var v=m.sub(m.matMul(s).matMul(p.transpose()));i=i.slice([0,0],[n,e]).concat(v,1)}return[s,a,i]}),s=t[0],a=t[1],i=t[2],Nr([A,u,l])},l=0;l<A;++l)u(l);return!t&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]})}var ph=Gr({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Rr(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,a=r.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var A=si(0,o,1,"int32").reshape([-1,1]),u=si(0,s,1,"int32"),l=ml(A,u),c=Vu(l.lessEqual(Zr(+t,"int32")),l.greaterEqual(Zr(-n,"int32"))),h=ai([o,s],r.dtype);return Ji(ea(r.reshape([-1,o,s])).map(function(e){return Yu(c,e,h)})).reshape(i)}}),gh=Gr({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,ft(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){ft(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"})},i=1;i<e.length;++i)r(i)}else t=!0,e=pi(e,e.shape[0],0).map(function(e){return Yi(e,[0])});ft(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var a=[],o=e,s=function(e){a.push(Cn.tidy(function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=Ec(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(Rc(t,"euclidean"))}))};for(i=0;i<e.length;++i)s(i);return t?Ji(a,0):a}}),mh=Gr({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return dh(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=ea(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach(function(e){var n=dh(e,t),r=n[0],o=n[1];i.push(r),a.push(o)}),[Ji(i,0).reshape(e.shape),Ji(a,0).reshape(e.shape)]}}),vh=Object.freeze({bandPart:ph,gramSchmidt:gh,qr:mh});function wh(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),ft(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),ft(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),ft(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),ft(1===t.rank,function(){return"scores must be a 1D tensor"}),ft(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),ft(0<=a&&a<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var yh=Gr({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=Rr(e,"images","resizeBilinear");ft(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),ft(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],A=Cn.runKernelFunc(function(e,t){return t([i]),e.resizeBilinear(i,o,s,n)},{x:i},function(e,t){return{x:function(){return Cn.runKernelFunc(function(r){return r.resizeBilinearBackprop(e,t[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return a?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}}),bh=Gr({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=Rr(e,"images","resizeNearestNeighbor");ft(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),ft(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),ft("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],A=Cn.runKernelFunc(function(e,t){return t([i]),e.resizeNearestNeighbor(i,o,s,n)},{batchImages:i},function(e,t){return{batchImages:function(){return Cn.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)},{})}}});return a?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}}),xh=Gr({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=Rr(e,"boxes","nonMaxSuppression"),o=Rr(t,"scores","nonMaxSuppression"),s=wh(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var A={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return Cn.runKernelFunc(function(e){return e.nonMaxSuppression(a,o,n,r,i)},{boxes:a,scores:o},null,"NonMaxSuppressionV3",A)}}),Bh=Gr({nonMaxSuppressionWithScore_:function(e,t,n,r,i,a){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var o=Rr(e,"boxes","nonMaxSuppression"),s=Rr(t,"scores","nonMaxSuppression"),A=wh(o,s,n,r,i,a),u={maxOutputSize:n=A.maxOutputSize,iouThreshold:r=A.iouThreshold,scoreThreshold:i=A.scoreThreshold,softNmsSigma:a=A.softNmsSigma},l=Cn.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},u);return{selectedIndices:l[0],selectedScores:l[1]}}}),Ch=Gr({cropAndResize_:function(e,t,n,r,i,a){var o=Rr(e,"image","cropAndResize"),s=Rr(t,"boxes","cropAndResize","float32"),A=Rr(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var u=s.shape[0];return ft(4===o.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),ft(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."}),ft(1===A.rank&&A.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."}),ft(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),ft(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),ft("bilinear"===i||"nearest"===i,function(){return"method must be bilinear or nearest, but was "+i}),Cn.runKernelFunc(function(e,t){return e.cropAndResize(o,s,A,r,i,a)},{images:o,boxes:s,boxInd:A},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:r})}}),Eh=Object.freeze({resizeBilinear:yh,resizeNearestNeighbor:bh,nonMaxSuppression:xh,nonMaxSuppressionAsync:function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),Je(this,void 0,void 0,function(){var a,o,s,A,u,l,c;return $e(this,function(h){switch(h.label){case 0:return a=Rr(e,"boxes","nonMaxSuppressionAsync"),o=Rr(t,"scores","nonMaxSuppressionAsync"),s=wh(a,o,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return A=h.sent(),u=A[0],l=A[1],c=qa(u,l,n,r,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,c]}})})},nonMaxSuppressionWithScore:Bh,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,i,a){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),Je(this,void 0,void 0,function(){var o,s,A,u,l,c,h;return $e(this,function(f){switch(f.label){case 0:return o=Rr(e,"boxes","nonMaxSuppressionAsync"),s=Rr(t,"scores","nonMaxSuppressionAsync"),A=wh(o,s,n,r,i,a),n=A.maxOutputSize,r=A.iouThreshold,i=A.scoreThreshold,a=A.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return u=f.sent(),l=u[0],c=u[1],h=Xa(l,c,n,r,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,h]}})})},cropAndResize:Ch}),Fh=function(e,t){return!(e>0)||"linear"===t},Sh=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},kh=function(e,t){var n=t,r=Ea(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},_h=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Ic(e);if("elu"===t)return Sc(e);if("relu6"===t)return Nc(e);if("prelu"===t)return _c(e,n);throw new Error("Unknown fused activation "+t+".")},Ih=Gr({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,a=void 0!==i&&i,o=e.transposeB,s=void 0!==o&&o,A=e.bias,u=e.activation,l=void 0===u?"linear":u,c=e.preluActivationWeights;if(!1===Fh(Cn.state.gradientDepth,l)){var h=Xl(n,r,a,s);return null!=A&&(h=$u(h,A)),_h(h,l,c)}var f=Rr(n,"a","fused matMul"),d=Rr(r,"b","fused matMul");t=vn(f,d),f=t[0],d=t[1];var p=a?f.shape[f.rank-2]:f.shape[f.rank-1],g=s?d.shape[d.rank-1]:d.shape[d.rank-2],m=a?f.shape[f.rank-1]:f.shape[f.rank-2],v=s?d.shape[d.rank-2]:d.shape[d.rank-1],w=f.shape.slice(0,-2),y=d.shape.slice(0,-2),b=mt(w),x=mt(y);ft(f.rank>=2&&d.rank>=2&&f.rank===d.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+d.rank+"."}),ft(vt(w,y),function(){return"Error in fused matMul: outer dimensions ("+w+") and ("+y+") of Tensors with shapes "+f.shape+" and "+d.shape+" must match."}),ft(p===g,function(){return"Error in fused matMul: inner shapes ("+p+") and ("+g+") of Tensors with shapes "+f.shape+" and "+d.shape+" and transposeA="+a+" and transposeB="+s+" must match."});var B,C,E=f.shape.slice(0,-2).concat([m,v]),F=a?f.as3D(b,p,m):f.as3D(b,m,p),S=s?d.as3D(x,v,g):d.as3D(x,g,v);null!=A&&Fa(E,(B=vn(B=Rr(A,"bias","fused matMul"),f)[0]).shape),null!=c&&(C=Rr(c,"prelu weights","fused matMul"));var k={a:F,b:S};null!=A&&(k.bias=B),null!=c&&(k.preluActivationWeights=C);var _=[F,S];return Cn.runKernelFunc(function(e,t){var n=e.fusedBatchMatMul({a:F,b:S,transposeA:a,transposeB:s,bias:B,activation:l,preluActivationWeights:C});return t([F,S,n]),n},k,function(e,t){var n=t[0],r=t[1],i=t[2],o=Sh(e,i,l),u={};return null!=A&&(u={bias:function(){return kh(B,o)}}),a||s?!a&&s?Object.assign({a:function(){return o.matMul(r,!1,!1)},b:function(){return o.matMul(n,!0,!1)}},u):a&&!s?Object.assign({a:function(){return r.matMul(o,!1,!0)},b:function(){return n.matMul(o,!1,!1)}},u):Object.assign({a:function(){return r.matMul(o,!0,!0)},b:function(){return o.matMul(n,!0,!0)}},u):Object.assign({a:function(){return o.matMul(r,!1,!0)},b:function(){return n.matMul(o,!0,!1)}},u)},"_FusedMatMul",{transposeA:a,transposeB:s,activation:l},_,[!0]).reshape(E)}}),Nh=Gr({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,A=void 0===s?[1,1]:s,u=e.dimRoundingMode,l=e.bias,c=e.activation,h=void 0===c?"linear":c,f=e.preluActivationWeights;if(h=h||"linear",!1===Fh(Cn.state.gradientDepth,h)){var d=Ol(t,n,r,i,o,A,u);return null!=l&&(d=$u(d,l)),_h(d,h,f)}var p=Rr(t,"x","conv2d"),g=Rr(n,"filter","conv2d"),m=p,v=!1;3===p.rank&&(v=!0,m=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),ft(4===m.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."}),ft(4===g.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."}),null!=u&&ft(wt(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+i+"."}),ft(m.shape[3]===g.shape[2],function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+g.shape[2]+"."}),ft(Ta(r,A),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+A+"'"}),ft("NHWC"===o,function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var w,y,b=_a(m.shape,g.shape,r,A,i,u);null!=l&&(w=vn(w=Rr(l,"bias","fused conv2d"),p)[0],Fa(b.outShape,w.shape)),null!=f&&(y=Rr(f,"prelu weights","fused conv2d"));var x={x:m,filter:g};null!=l&&(x.bias=w),null!=f&&(x.preluActivationWeights=y);var B=[g,m],C=Cn.runKernelFunc(function(e,t){var n=e.fusedConv2d({input:m,filter:g,convInfo:b,bias:w,activation:h,preluActivationWeights:y});return t([g,m,n]),n},x,function(e,t){var n=t,a=n[0],o=n[1],s=n[2],u=Sh(e,s,h);ft(Da(A),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+A+"'"});var c={};return null!=l&&(c={bias:function(){return kh(w,u)}}),Object.assign({x:function(){return Hl(o.shape,u,a,r,i)},filter:function(){return jl(o,u,a.shape,r,i)}},c)},"FusedConv2D",{convInfo:b,activation:h},B,[!0]);return v?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),Uh=Gr({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,A=void 0===s?[1,1]:s,u=e.dimRoundingMode,l=e.bias,c=e.activation,h=void 0===c?"linear":c,f=e.preluActivationWeights;if(!1===Fh(Cn.state.gradientDepth,h)){var d=Kl(t,n,r,i,o,A,u);return null!=l&&(d=$u(d,l)),_h(d,h,f)}var p=Rr(t,"x","depthwiseConv2d"),g=Rr(n,"filter","depthwiseConv2d"),m=p,v=!1;3===p.rank&&(v=!0,m=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),ft(4===m.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."}),ft(4===g.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."}),ft(m.shape[3]===g.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."}),null==A&&(A=[1,1]),ft(Ta(r,A),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+A+"'"}),null!=u&&ft(wt(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+i+"."});var w,y,b=_a(m.shape,g.shape,r,A,i,u,!0);null!=l&&(w=vn(w=Rr(l,"bias","fused conv2d"),p)[0],Fa(b.outShape,w.shape)),null!=f&&(y=Rr(f,"prelu weights","fused depthwiseConv2d"));var x={x:m,filter:g};null!=l&&(x.bias=w),null!=f&&(x.preluActivationWeights=y);var B=[g,m],C=Cn.runKernelFunc(function(e,t){var n=e.fusedDepthwiseConv2D({input:m,filter:g,convInfo:b,bias:w,activation:h,preluActivationWeights:y});return t([g,m,n]),n},x,function(e,t){ft(Da(A),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+A+"'"});var n=t[0],r=t[1],i=t[2],a=Sh(e,i,h),o={};return null!=l&&(o={bias:function(){return kh(w,a)}}),Object.assign({x:function(){return zl(r.shape,a,n,b)},filter:function(){return Wl(r,a,n.shape,b)}},o)},"FusedDepthwiseConv2D",{convInfo:b,activation:h},B,[!0]);return v?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),Lh=Object.freeze({matMul:Ih,conv2d:Nh,depthwiseConv2d:Uh}),Qh=Object.freeze({image:Eh,linalg:vh,losses:fh,spectral:Vc,fused:Lh,signal:rh,square:XA,squaredDifference:JA,conv1d:Pl,conv2d:Ol,conv3d:Ml,depthwiseConv2d:Kl,separableConv2d:Vl,conv2dTranspose:Gl,conv3dTranspose:ql,op:Gr,batchNormalization2d:Pu,batchNormalization3d:Ou,batchNormalization4d:Mu,batchNormalization:ju,batchNorm:Hu,batchNorm2d:Ku,batchNorm3d:zu,batchNorm4d:Wu,booleanMaskAsync:function(e,t,n){return Je(this,void 0,void 0,function(){var r,i,a,o,s,A,u,l,c,h,f,d,p;return $e(this,function(g){switch(g.label){case 0:for(r=Rr(e,"tensor","boolMask"),i=Rr(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape,ft(o>0,function(){return"mask cannot be scalar"}),dt(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),A=1,u=a;u<a+o;u++)A*=s[u];return l=s.slice(0,a).concat([A],s.slice(a+o)),c=r.reshape(l),h=i.reshape([-1]),[4,Ju(h)];case 1:return f=g.sent(),d=f.squeeze([1]),p=Ll(c,d,a),e!==r&&r.dispose(),t!==i&&i.dispose(),d.dispose(),c.dispose(),h.dispose(),f.dispose(),[2,p]}})})},complex:qr,real:Xr,imag:Yr,concat:li,concat1d:ci,concat2d:hi,concat3d:fi,concat4d:di,split:pi,matMul:Xl,dot:Yl,outerProduct:Jl,reverse:$l,reverse1d:Zl,reverse2d:ec,reverse3d:tc,reverse4d:nc,maxPool:ac,avgPool:oc,pool:sc,maxPool3d:Ac,avgPool3d:uc,slice:lc,slice1d:cc,slice2d:hc,slice3d:fc,slice4d:dc,abs:$A,acos:ZA,acosh:eu,asin:tu,asinh:nu,atan:ru,atanh:iu,ceil:au,clipByValue:ou,cos:su,cosh:Au,erf:uu,exp:lu,expm1:cu,floor:hu,log:fu,log1p:du,logSigmoid:pu,neg:gu,reciprocal:mu,round:vu,rsqrt:wu,sigmoid:yu,sign:bu,isNaN:xu,isInf:Bu,isFinite:Cu,sin:Eu,sinh:Fu,softplus:Su,sqrt:ku,step:_u,tan:Iu,tanh:Nu,all:gc,any:mc,argMax:vc,argMin:wc,logSumExp:yc,max:bc,mean:xc,min:Bc,moments:Cc,sum:Ec,prod:Fc,equal:wl,equalStrict:yl,greater:bl,greaterEqual:xl,greaterEqualStrict:Bl,greaterStrict:Cl,less:El,lessEqual:Fl,lessEqualStrict:Sl,lessStrict:kl,notEqual:_l,notEqualStrict:Il,add:$u,addN:Zu,addStrict:el,atan2:tl,div:nl,divNoNan:rl,divStrict:il,floorDiv:al,maximum:ol,maximumStrict:sl,minimum:Al,minimumStrict:ul,mod:ll,modStrict:cl,mul:hl,mulStrict:fl,pow:dl,powStrict:pl,squaredDifferenceStrict:gl,sub:ml,subStrict:vl,elu:Sc,leakyRelu:kc,prelu:_c,relu:Ic,relu6:Nc,selu:Uc,logicalAnd:Vu,logicalNot:Gu,logicalOr:qu,logicalXor:Xu,where:Yu,whereAsync:Ju,buffer:ki,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:_i,broadcastTo:Ii,cast:Ni,clone:Ui,cumsum:Li,depthToSpace:Qi,expandDims:Ri,eye:Di,multinomial:Ti,oneHot:Pi,pad:Oi,pad1d:Mi,pad2d:ji,pad3d:Hi,pad4d:Ki,rand:zi,randomNormal:Wi,randomGamma:Vi,randomUniform:Gi,reshape:qi,spaceToBatchND:Xi,squeeze:Yi,stack:Ji,tile:$i,truncatedNormal:Zi,unstack:ea,setdiff1dAsync:function(e,t){return Je(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l,c;return $e(this,function(h){switch(h.label){case 0:return n=Rr(e,"x","setdiff1d"),r=Rr(t,"y","setdiff1d"),ft(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),ft(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),ft(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return i=h.sent(),[4,r.data()];case 2:for(a=h.sent(),o=new Set(a),s=0,l=0;l<i.length;l++)o.has(i[l])||s++;for(A=new rn([s],n.dtype),u=new rn([s],"int32"),l=0,c=0;l<i.length;l++)o.has(i[l])||(A.values[c]=i[l],u.values[c]=l,c++);return[2,[A.toTensor(),u.toTensor()]]}})})},fill:oi,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Cn.runKernelFunc(function(r){return r.linspace(e,t,n)},{})},ones:ii,range:si,scalar:Zr,tensor:Jr,tensor1d:ei,tensor2d:ti,tensor3d:ni,tensor4d:ri,tensor5d:function(e,t,n){if(pt(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Lr(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return $r(e,t,r,n)},tensor6d:function(e,t,n){if(pt(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Lr(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return $r(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Cn.makeVariable(e,t,n,r)},zeros:ai,onesLike:Ai,zerosLike:ui,transpose:Lc,softmax:wa,logSoftmax:ya,localResponseNormalization:Qc,norm:Rc,gather:Ll,unsortedSegmentSum:Ql,basicLSTMCell:Dc,multiRNNCell:Tc,movingAverage:Pc,stridedSlice:Oc,topk:Mc,scatterND:jc,fft:Hc,ifft:Kc,rfft:zc,irfft:Wc,sparseToDense:Gc,gatherND:qc,diag:Xc,dropout:Yc,hannWindow:Zc,hammingWindow:eh,frame:th,stft:nh,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),Je(this,void 0,void 0,function(){var r,i,a,o,s,A,u,l,c,h,f,d,p,g;return $e(this,function(m){switch(m.label){case 0:return r=Rr(e,"predictions","inTopK"),i=Rr(t,"targets","inTopK"),ft(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),ft(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),dt(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],ft(n>0&&n<=a,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n}),[4,r.data()];case 1:return o=m.sent(),[4,i.data()];case 2:for(s=m.sent(),A=[o.length/a,a],l=A[1],c=St("bool",u=A[0]),h=0;h<u;h++){for(f=h*l,d=o.subarray(f,f+l),p=[],g=0;g<d.length;g++)p.push({value:d[g],index:g});for(p.sort(function(e,t){return t.value-e.value}),c[h]=0,g=0;g<n;g++)if(p[g].index===s[h]){c[h]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,Jr(c,i.shape,"bool")]}})})}});function Rh(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&ft("complex64"!==e.dtype,function(){return t+" does not support complex64 tensors."})})}function Dh(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Th=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new ba(t,Cn),t}return Ye(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,et().get("IS_NODE")&&Ur("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){return[2,this.readSync(e)]})})},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?Ha(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map(function(e){return Xt(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return ki(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Cn.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){return t=Vt(),e(),[2,{kernelMs:Vt()-t}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Cn.keep(e.clone()),imag:Cn.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(Rh(e,"slice"),ga(e.shape,t,n)){var r=ma(t,e.strides),i=mt(n);return Jr(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var a=ki(n,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var A=a.indexToLoc(s).map(function(e,n){return e+t[n]});a.values[s]=o.get.apply(o,A)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){Rh(e,"stridedSlice");var i=fa(t,n,r);if(i.some(function(e){return 0===e}))return Jr([],i);for(var a=ki(i,e.dtype),o=this.bufferSync(e),s=0;s<a.size;s++){for(var A=a.indexToLoc(s),u=new Array(A.length),l=0;l<u.length;l++)u[l]=A[l]*r[l]+t[l];a.set.apply(a,[o.get.apply(o,u)].concat(A))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=ki([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var A=new Array(n);for(a=0;a<A.length;a++)o[t]=a,A[a]=this.slice(e,o,s).reshape(r);return A},t.prototype.reverse=function(e,t){Rh(e,"reverse");for(var n=ki(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var a=n.indexToLoc(i),o=a.slice();t.forEach(function(t){return o[t]=e.shape[t]-1-o[t]}),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map(function(e){return Xr(e)}),i=e.map(function(e){return Yr(e)});return qr(this.concat(r,t),this.concat(i,t))}var a=e.map(function(e){var n=mt(e.shape.slice(t));return e.as2D(-1,n)}),o=Vr(a.map(function(e){return e.shape}),1),s=ki(o,e[0].dtype).values;if(1===a[0].shape[0]){var A=0;a.forEach(function(e){s.set(n.readSync(e.dataId),A),A+=e.size})}else{var u=0;a.forEach(function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var a=i*o[1]+u,A=0;A<e.shape[1];++A)s[a+A]=t[r++];u+=e.shape[1]})}var l=Vr(e.map(function(e){return e.shape}),t);return Jr(s,l,e[0].dtype)},t.prototype.neg=function(e){return Rh(e,"neg"),this.multiply(Zr(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,gn(e.dtype,t.dtype),function(e,t){return e+t})},t.prototype.addN=function(e){var t=this;Rh(e,"addN");for(var n=e.map(function(e){return t.readSync(e.dataId)}),r=ki(e[0].shape,e[0].dtype),i=r.values,a=0;a<e.length;a++)for(var o=n[a],s=0;s<i.length;s++)i[s]+=o[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=Et([t],e.shape),r=this.max(e,n),i=Mr(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,gn(e.dtype,t.dtype),function(e,t){return e-t})},t.prototype.pow=function(e,t){return Rh([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},t.prototype.batchMatMul=function(e,t,n,r){Rh([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],s=e.shape[0],A=this.readSync(e.dataId),u=this.readSync(t.dataId),l=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],c=l[0],h=l[1],f=l[2],d=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],p=d[0],g=d[1],m=d[2],v=a*o,w=ki([s,a,o],e.dtype),y=w.values,b=this.blockSize,x=0;x<s;x++)for(var B=0;B<a;B+=b)for(var C=0;C<o;C+=b)for(var E=0;E<i;E+=b)for(var F=Math.min(B+b,a),S=Math.min(C+b,o),k=Math.min(E+b,i),_=B;_<F;_++)for(var I=C;I<S;I++){for(var N=0,U=E;U<k;U++)N+=A[x*c+_*h+U*f]*u[U*p+I*g+x*m];y[x*v+(_*o+I)]+=N}return w.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,A=this.batchMatMul(t,n,r,i);return a&&(A=this.add(A,a)),o&&(A=Dh(this,A,o,s)),A},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,gn(e.dtype,t.dtype),function(e,t){return e*t})},t.prototype.realDivide=function(e,t){return Rh([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},t.prototype.floorDiv=function(e,t){return Rh([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},t.prototype.sum=function(e,t){Rh(e,"sum"),jr("sum",t,e.rank);for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,gn(e.dtype,"int32")),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=0,h=0;h<o;++h)c+=A[l+h];s[u]=c}return a},t.prototype.prod=function(e,t){Rh(e,"sum");for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,gn(e.dtype,"int32")),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=1,h=0;h<o;++h)c*=A[l+h];s[u]=c}return a},t.prototype.unsortedSegmentSum=function(e,t,n){Rh(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,a=0;a<i;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var o=Zr(a,"int32"),s=wl(o,t).asType("float32").mul(e).sum(0);r.push(s)}return Ji(r)},t.prototype.argMin=function(e,t){Rh(e,"argMin");var n=[t];jr("argMin",n,e.rank);for(var r=Or(e.shape,n),i=r[0],a=r[1],o=ai(i,"int32"),s=mt(a),A=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<A.length;++l){for(var c=l*s,h=u[c],f=0,d=0;d<s;++d){var p=u[c+d];p<h&&(h=p,f=d)}A[l]=f}return o},t.prototype.argMax=function(e,t){Rh(e,"argMax");var n=[t];jr("argMax",n,e.rank);for(var r=Or(e.shape,n),i=r[0],a=r[1],o=ai(i,"int32"),s=mt(a),A=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<A.length;++l){for(var c=l*s,h=u[c],f=0,d=0;d<s;++d){var p=u[c+d];p>h&&(h=p,f=d)}A[l]=f}return o},t.prototype.cumsum=function(e,t,n,r){if(Rh(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=gn(e.dtype,"int32"),a=ai(e.shape,i),o=this.readSync(a.dataId),s=this.readSync(e.dataId),A=e.shape[e.rank-1],u=r?function(e,t){return e+A-t-1}:function(e,t){return e+t},l=0;l<s.length;l+=A)for(var c=0;c<A;c++){var h=u(l,c);if(0===c)o[h]=n?0:s[h];else{var f=u(l,c-1);o[h]=n?s[f]+o[f]:s[h]+o[f]}}return a},t.prototype.equal=function(e,t){return Rh([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},t.prototype.notEqual=function(e,t){return Rh([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},t.prototype.less=function(e,t){return Rh([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},t.prototype.lessEqual=function(e,t){return Rh([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},t.prototype.greater=function(e,t){return Rh([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},t.prototype.greaterEqual=function(e,t){return Rh([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},t.prototype.logicalNot=function(e){Rh(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return Rh([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},t.prototype.logicalOr=function(e,t){return Rh([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},t.prototype.select=function(e,t,n){Rh([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=this.readSync(n.dataId),o=ai(t.shape,gn(t.dtype,n.dtype)),s=this.readSync(o.dataId),A=0,u=0===e.rank||e.rank>1||1===t.rank?1:mt(t.shape.slice(1)),l=0;l<r.length;l++)for(var c=0;c<u;c++)1===r[l]?s[A++]=i[l]:s[A++]=a[l];return o},t.prototype.where=function(e){Rh([e],"where");var t=this.readSync(e.dataId);return ro(e.shape,t)},t.prototype.topk=function(e,t,n){return Rh(e,"topk"),no(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Rh(e,"min"),jr("min",t,e.rank);for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,e.dtype),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=A[l],h=0;h<o;++h){var f=A[l+h];f<c&&(c=f)}s[u]=c}return a},t.prototype.minimum=function(e,t){return Rh([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},t.prototype.mod=function(e,t){return Rh([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},t.prototype.max=function(e,t){Rh(e,"max"),jr("max",t,e.rank);for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,e.dtype),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=A[l],h=0;h<o;++h){var f=A[l+h];f>c&&(c=f)}s[u]=c}return a},t.prototype.maximum=function(e,t){return Rh([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},t.prototype.all=function(e,t){Rh(e,"all"),jr("all",t,e.rank);for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,e.dtype),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=A[l],h=0;h<o;++h){var f=A[l+h];c=c&&f}s[u]=c}return a},t.prototype.any=function(e,t){Rh(e,"any"),jr("any",t,e.rank);for(var n=Or(e.shape,t),r=n[0],i=n[1],a=ai(r,e.dtype),o=mt(i),s=this.readSync(a.dataId),A=this.readSync(e.dataId),u=0;u<s.length;++u){for(var l=u*o,c=A[l],h=0;h<o;++h){var f=A[l+h];c=c||f}s[u]=c}return a},t.prototype.squaredDifference=function(e,t){return Rh([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},t.prototype.ceil=function(e){Rh(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){Rh(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){Rh(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){Rh(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){Rh(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){Rh(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){Rh(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){Rh(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){Rh(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){Rh(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){Rh(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){Rh(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){Rh(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){Rh(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){Rh(e,"relu");for(var t=ai(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){Rh(e,"relu");for(var t=ai(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return Rh([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return e<0?t*e:e})},t.prototype.elu=function(e){Rh(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){Rh([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];n[a]=o>=1?i[a]:i[a]*(o+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){Rh(e,"selu");for(var t=vA,n=wA,r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>=0?n*o:t*(Math.exp(o)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){Rh(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],a=n[2*r+1];t[r]=Math.hypot(i,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){Rh(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){Rh(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){Rh(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a,o=r[i]>-t,s=r[i]<t,A=Math.exp(r[i]);a=s?A:o?r[i]:Math.log(1+A),n[i]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){Rh(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){Rh(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){Rh(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){Rh(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){Rh(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){Rh(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return Rh([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},t.prototype.sinh=function(e){Rh(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){Rh(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){Rh(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=yt(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){Rh(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){Rh(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){Rh(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){Rh(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),a=Math.abs(n[r]),o=1/(1+.3275911*a);t[r]=i*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),Rh(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),a&&(s=Dh(this,s,a,o)),s},t.prototype.conv2d=function(e,t,n){Rh([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,A=n.padInfo.top,u="channelsLast"===n.dataFormat,l=ki(n.outShape,e.dtype),c=e.strides[0],h=u?e.strides[1]:e.strides[2],f=u?e.strides[2]:1,d=u?1:e.strides[1],p=l.strides[0],g=u?l.strides[1]:l.strides[2],m=u?l.strides[2]:1,v=u?1:l.strides[1],w=this.readSync(e.dataId),y=this.readSync(t.dataId),b=l.values,x=0;x<n.batchSize;++x)for(var B=x*c,C=x*p,E=0;E<n.outHeight;++E)for(var F=C+E*g,S=E*n.strideHeight-A,k=0;k<r;k++){var _=S+k*a;if(!(_<0||_>=n.inHeight))for(var I=k*t.strides[0],N=B+_*h,U=0;U<n.outWidth;++U)for(var L=F+U*m,Q=U*n.strideWidth-s,R=0;R<i;R++){var D=Q+R*o;if(!(D<0||D>=n.inWidth))for(var T=N+D*f,P=I+R*t.strides[1],O=0;O<n.inChannels;++O){for(var M=w[T+O*d],j=0;j<n.outChannels;++j)b[L+j*v]+=M*y[P+j];P+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,o=n.dilationDepth,s=n.dilationHeight,A=n.dilationWidth,u=n.padInfo.front,l=n.padInfo.left,c=n.padInfo.top,h=ki(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),p=h.values,g=0;g<n.batchSize;++g)for(var m=g*e.strides[0],v=g*h.strides[0],w=0;w<n.outDepth;++w)for(var y=v+w*h.strides[1],b=w*n.strideDepth-u,x=0;x<r;x++){var B=b+x*o;if(!(B<0||B>=n.inDepth))for(var C=x*t.strides[0],E=m+B*e.strides[1],F=0;F<n.outHeight;++F)for(var S=y+F*h.strides[2],k=F*n.strideHeight-c,_=0;_<i;_++){var I=k+_*s;if(!(I<0||I>=n.inHeight))for(var N=C+_*t.strides[1],U=E+I*e.strides[2],L=0;L<n.outWidth;++L)for(var Q=S+L*n.outChannels,R=L*n.strideWidth-l,D=0;D<a;D++){var T=R+D*A;if(!(T<0||T>=n.inWidth))for(var P=N+D*t.strides[2],O=U+T*n.inChannels,M=P,j=0;j<n.inChannels;++j){for(var H=f[O+j],K=0;K<n.outChannels;++K)p[Q+K]+=H*d[M+K];M+=n.outChannels}}}}return h.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){Rh([e,t],"conv2dDerInput");for(var r=ki(n.inShape,"float32"),i=r.values,a=this.readSync(e.dataId),o=this.readSync(t.dataId),s=t.strides,A=s[0],u=s[1],l=s[2],c=n.batchSize,h=n.filterHeight,f=n.filterWidth,d=n.inChannels,p=n.inHeight,g=n.inWidth,m=n.outChannels,v=n.outHeight,w=n.outWidth,y=n.strideHeight,b=n.strideWidth,x=n.dataFormat,B=h-1-n.padInfo.top,C=f-1-n.padInfo.left,E="channelsLast"===x,F=r.strides[0],S=E?r.strides[1]:r.strides[2],k=E?r.strides[2]:1,_=E?1:r.strides[1],I=e.strides[0],N=E?e.strides[1]:e.strides[2],U=E?e.strides[2]:1,L=E?1:e.strides[1],Q=0;Q<c;++Q)for(var R=0;R<d;++R)for(var D=0;D<p;++D)for(var T=D-B,P=Math.max(0,Math.ceil(T/y)),O=Math.min(v,(h+T)/y),M=0;M<g;++M){for(var j=M-C,H=Math.max(0,Math.ceil(j/b)),K=Math.min(w,(f+j)/b),z=0,W=P;W<O;++W)for(var V=W*y-T,G=H;G<K;++G)for(var q=I*Q+N*W+U*G,X=A*(h-1-V)+u*(f-1-(G*b-j))+l*R,Y=0;Y<m;++Y)z+=a[q+L*Y]*o[X+Y];i[F*Q+S*D+k*M+_*R]=z}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=ki(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],A=a[2],u=a[3],l=this.readSync(e.dataId),c=e.strides,h=c[0],f=c[1],d=c[2],p=c[3],g=this.readSync(t.dataId),m=t.strides,v=m[0],w=m[1],y=m[2],b=m[3],x=n.batchSize,B=n.filterDepth,C=n.filterHeight,E=n.filterWidth,F=n.inChannels,S=n.inDepth,k=n.inHeight,_=n.inWidth,I=n.outChannels,N=n.outDepth,U=n.outHeight,L=n.outWidth,Q=n.strideDepth,R=n.strideHeight,D=n.strideWidth,T=B-1-n.padInfo.front,P=C-1-n.padInfo.top,O=E-1-n.padInfo.left,M=0;M<x;++M)for(var j=0;j<F;++j)for(var H=0;H<S;++H)for(var K=H-T,z=Math.max(0,Math.ceil(K/Q)),W=Math.min(N,(B+K)/Q),V=0;V<k;++V)for(var G=V-P,q=Math.max(0,Math.ceil(G/R)),X=Math.min(U,(C+G)/R),Y=0;Y<_;++Y){for(var J=Y-O,$=Math.max(0,Math.ceil(J/D)),Z=Math.min(L,(E+J)/D),ee=0,te=z;te<W;++te)for(var ne=te*Q-K,re=q;re<X;++re)for(var ie=re*R-G,ae=$;ae<Z;++ae)for(var oe=h*M+f*te+d*re+p*ae,se=v*(B-1-ne)+w*(C-1-ie)+y*(E-1-(ae*D-J))+b*j,Ae=0;Ae<I;++Ae)ee+=l[oe+Ae]*g[se+Ae];i[o*M+s*H+A*V+u*Y+j]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){Rh([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s="channelsLast"===n.dataFormat,A=ki(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=this.bufferSync(e),h=this.bufferSync(t),f=0;f<a;++f)for(var d=Math.max(0,Math.ceil((l-f)/r)),p=Math.min(n.outHeight,(n.inHeight+l-f)/r),g=0;g<o;++g)for(var m=Math.max(0,Math.ceil((u-g)/i)),v=Math.min(n.outWidth,(n.inWidth+u-g)/i),w=0;w<n.inChannels;++w)for(var y=0;y<n.outChannels;++y){for(var b=0,x=0;x<n.batchSize;++x)for(var B=d;B<p;++B)for(var C=f+B*r-l,E=m;E<v;++E){var F=g+E*i-u;b+=s?c.get(x,C,F,w)*h.get(x,B,E,y):c.get(x,w,C,F)*h.get(x,y,B,E)}A.set(b,f,g,w,y)}return A.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,A=n.filterWidth,u=ki(n.filterShape,"float32"),l=u.values,c=u.strides,h=c[0],f=c[1],d=c[2],p=c[3],g=this.readSync(t.dataId),m=t.strides,v=m[0],w=m[1],y=m[2],b=m[3],x=this.readSync(e.dataId),B=e.strides,C=B[0],E=B[1],F=B[2],S=B[3],k=n.padInfo.front,_=n.padInfo.left,I=n.padInfo.top,N=0;N<o;++N)for(var U=Math.max(0,Math.ceil((k-N)/r)),L=Math.min(n.outDepth,(n.inDepth+k-N)/r),Q=N*h,R=0;R<s;++R)for(var D=Math.max(0,Math.ceil((I-R)/i)),T=Math.min(n.outHeight,(n.inHeight+I-R)/i),P=R*f+Q,O=0;O<A;++O)for(var M=Math.max(0,Math.ceil((_-O)/a)),j=Math.min(n.outWidth,(n.inWidth+_-O)/a),H=O*d+P,K=0;K<n.inChannels;++K)for(var z=K*p+H,W=0;W<n.outChannels;++W){for(var V=0,G=0;G<n.batchSize;++G)for(var q=G*C,X=G*v,Y=U;Y<L;++Y)for(var J=(N+Y*r-k)*E+q,$=Y*w+X,Z=D;Z<T;++Z)for(var ee=(R+Z*i-I)*F+J,te=Z*y+$,ne=M;ne<j;++ne){var re=ne*b+te;V+=x[(O+ne*a-_)*S+ee+K]*g[re+W]}l[z+W]=V}return u.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),a&&(s=Dh(this,s,a,o)),s},t.prototype.depthwiseConv2D=function(e,t,n){Rh([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,A=n.padInfo.top,u=n.outChannels/n.inChannels,l=ki(n.outShape,e.dtype),c=this.readSync(e.dataId),h=this.readSync(t.dataId),f=l.values,d=0;d<n.batchSize;++d)for(var p=d*e.strides[0],g=d*l.strides[0],m=0;m<n.outHeight;++m)for(var v=g+m*l.strides[1],w=m*n.strideHeight-s,y=0;y<r;++y){var b=w+y*a;if(!(b<0||b>=n.inHeight))for(var x=y*t.strides[0],B=p+b*e.strides[1],C=0;C<n.outWidth;++C)for(var E=v+C*l.strides[2],F=C*n.strideWidth-A,S=0;S<i;++S){var k=F+S*o;if(!(k<0||k>=n.inWidth))for(var _=x+S*t.strides[1],I=B+k*n.inChannels,N=E,U=_,L=0;L<n.inChannels;++L){for(var Q=c[I+L],R=0;R<u;++R)f[N+R]+=Q*h[U+R];N+=u,U+=u}}}return l.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){Rh([e,t],"depthwiseConv2DDerInput");for(var r=ki(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],A=a[2],u=this.readSync(e.dataId),l=e.strides,c=l[0],h=l[1],f=l[2],d=this.readSync(t.dataId),p=t.strides,g=p[0],m=p[1],v=p[2],w=n.batchSize,y=n.filterHeight,b=n.filterWidth,x=n.inChannels,B=n.inHeight,C=n.inWidth,E=n.outChannels,F=n.outHeight,S=n.outWidth,k=n.strideHeight,_=n.strideWidth,I=y-1-n.padInfo.top,N=b-1-n.padInfo.left,U=E/x,L=0;L<w;++L)for(var Q=0;Q<x;++Q)for(var R=0;R<B;++R)for(var D=R-I,T=Math.max(0,Math.ceil(D/k)),P=Math.min(F,(y+D)/k),O=0;O<C;++O){for(var M=O-N,j=Math.max(0,Math.ceil(M/_)),H=Math.min(S,(b+M)/_),K=0,z=T;z<P;++z)for(var W=z*k-D,V=j;V<H;++V)for(var G=c*L+h*z+f*V,q=g*(y-1-W)+m*(b-1-(V*_-M))+v*Q,X=0;X<U;++X)K+=u[G+(Q*U+X)]*d[q+X];i[o*L+s*R+A*O+Q]=K}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){Rh([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=ki(n.filterShape,"float32"),A=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=this.bufferSync(e),h=this.bufferSync(t),f=0;f<a;++f)for(var d=Math.max(0,Math.ceil((u-f)/r)),p=Math.min(n.outHeight,(n.inHeight+u-f)/r),g=0;g<o;++g)for(var m=Math.max(0,Math.ceil((A-g)/i)),v=Math.min(n.outWidth,(n.inWidth+A-g)/i),w=0;w<n.outChannels;++w){for(var y=Math.trunc(w/l),b=w%l,x=0,B=0;B<n.batchSize;++B)for(var C=d;C<p;++C)for(var E=f+C*r-u,F=m;F<v;++F){var S=g+F*i-A;x+=c.get(B,E,S,y)*h.get(B,C,F,w)}s.set(x,f,g,y,b)}return s.toTensor()},t.prototype.tile=function(e,t){return Rh(e,"tile"),to(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){Rh(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),i=t.map(function(e){return e[0]}),a=this.bufferSync(e),o=ki(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var A=a.indexToLoc(s),u=A.map(function(e,t){return e+i[t]});o.set.apply(o,[a.get.apply(a,A)].concat(u))}return o.toTensor()},t.prototype.transpose=function(e,t){Rh(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var i=this.readSync(e.dataId),a=ki(n,e.dtype),o=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=o.indexToLoc(r),A=new Array(s.length),u=0;u<A.length;u++)A[u]=s[t[u]];var l=a.locToIndex(A);a.values[l]=i[r]}return a.toTensor()},t.prototype.gather=function(e,t,n){Rh([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var a=ki(r,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var A=a.indexToLoc(s),u=A.slice();u[n]=i[A[n]];var l=o.locToIndex(u);a.values[s]=o.values[l]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){Rh([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),i=ta(e.shape,t,r),a=na(i.length,t.length),o=ra(e.shape,t,r),s=ia(n,t.length),A=aa(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,A)},t.prototype.spaceToBatchND=function(e,t,n){Rh([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=ta(o.shape,t,r,!1),A=na(s.length,t.length,!1),u=ra(o.shape,t,r,!1);return o.reshape(s).transpose(A).reshape(u)},t.prototype.pool=function(e,t,n){Rh(e,"pool");for(var r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,A=t.effectiveFilterWidth,u=t.padInfo.top,l=t.padInfo.left,c="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(e.dataId),f=ki(t.outShape,e.dtype),d=f.values,p=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],m=t.outShape[3],v=0;v<t.batchSize;++v)for(var w=v*p,y=v*e.strides[0],b=0;b<t.inChannels;++b)for(var x=0;x<t.outHeight;++x)for(var B=x*r-u,C=Math.max(0,B),E=Math.min(t.inHeight,s+B),F=w+x*g,S=0;S<t.outWidth;++S){for(var k=S*i-l,_=Math.max(0,k),I=Math.min(t.inWidth,A+k),N=c,U=0,L=0,Q=C;Q<E;Q+=a){for(var R=y+Q*e.strides[1],D=_;D<I;D+=o){var T=h[R+D*e.strides[2]+b];"max"===n&&T>N?N=T:"avg"===n&&(U+=T,L++)}if(isNaN(N))break}d[F+S*m+b]="avg"===n?U/L:N}return f.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=ki(t.outShape,"int32"),r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,A=t.effectiveFilterWidth,u=t.padInfo.top,l=t.padInfo.left,c=this.bufferSync(e),h=0;h<t.batchSize;++h)for(var f=0;f<t.inChannels;++f)for(var d=0;d<t.outHeight;++d){for(var p=d*r-u,g=p;g<0;)g+=a;for(var m=Math.min(t.inHeight,s+p),v=0;v<t.outWidth;++v){for(var w=v*i-l,y=w;y<0;)y+=o;for(var b=Math.min(t.inWidth,A+w),x=Number.NEGATIVE_INFINITY,B=-1,C=g;C<m;C+=a)for(var E=C-p,F=y;F<b;F+=o){var S=F-w,k=c.get(h,C,F,f);k>x&&(x=k,B=E*A+S)}n.set(B,h,d,v,f)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){Rh([t,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(t,r),a=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,A=r.dilationWidth,u=r.effectiveFilterHeight,l=r.effectiveFilterWidth,c=l-1-r.padInfo.left,h=u-1-r.padInfo.top,f=ki(t.shape,"float32"),d=this.bufferSync(i),p=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var m=0;m<r.inChannels;++m)for(var v=0;v<r.inHeight;++v)for(var w=0;w<r.inWidth;++w){for(var y=v-h,b=w-c,x=0,B=0;B<u;B+=s){var C=(y+B)/a;if(!(C<0||C>=r.outHeight||Math.floor(C)!==C))for(var E=0;E<l;E+=A){var F=(b+E)/o;if(!(F<0||F>=r.outWidth||Math.floor(F)!==F)){var S=u*l-1-d.get(g,C,F,m)===B*l+E?1:0;0!==S&&(x+=p.get(g,C,F,m)*S)}}}f.set(x,g,v,w,m)}return f.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){Rh([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=n.dilationHeight,A=n.dilationWidth,u=n.effectiveFilterHeight,l=n.effectiveFilterWidth,c=l-1-n.padInfo.left,h=u-1-n.padInfo.top,f=ki(t.shape,"float32"),d=1/(a*o),p=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var m=0;m<n.inChannels;++m)for(var v=0;v<n.inHeight;++v)for(var w=0;w<n.inWidth;++w){for(var y=v-h,b=w-c,x=0,B=0;B<u;B+=s){var C=(y+B)/r;if(!(C<0||C>=n.outHeight||Math.floor(C)!==C))for(var E=0;E<l;E+=A){var F=(b+E)/i;F<0||F>=n.outWidth||Math.floor(F)!==F||(x+=p.get(g,C,F,m))}}f.set(x*d,g,v,w,m)}return f.toTensor()},t.prototype.pool3d=function(e,t,n){Rh(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,A=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,d=t.padInfo.left,p="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),m=ki(t.outShape,e.dtype),v=m.values,w=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],y=t.outShape[2]*t.outShape[3]*t.outShape[4],b=t.outShape[3]*t.outShape[4],x=t.outShape[4],B=0;B<t.batchSize;++B)for(var C=B*w,E=B*e.strides[0],F=0;F<t.inChannels;++F)for(var S=0;S<t.outDepth;++S){for(var k=S*r-h,_=k;_<0;)_+=o;for(var I=Math.min(t.inDepth,u+k),N=C+S*y,U=0;U<t.outHeight;++U){for(var L=U*i-f,Q=L;Q<0;)Q+=s;for(var R=Math.min(t.inHeight,l+L),D=N+U*b,T=0;T<t.outWidth;++T){for(var P=T*a-d,O=P;O<0;)O+=A;for(var M=Math.min(t.inWidth,c+P),j=D+T*x,H=p,K=0,z=0,W=_;W<I;W+=o){for(var V=E+W*e.strides[1],G=Q;G<R;G+=s){for(var q=V+G*e.strides[2],X=O;X<M;X+=A){var Y=g[q+X*e.strides[3]+F];if("max"===n&&Y>H?H=Y:"avg"===n&&(K+=Y,z++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}v[j+F]="avg"===n?K/z:H}}}return m.toTensor()},t.prototype.avgPool3d=function(e,t){return Rh(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){Rh([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,A=n.filterWidth,u=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,h=n.effectiveFilterDepth,f=n.effectiveFilterHeight,d=n.effectiveFilterWidth,p=h-1-n.padInfo.front,g=d-1-n.padInfo.left,m=f-1-n.padInfo.top,v=ki(t.shape,"float32"),w=1/(o*s*A),y=this.bufferSync(e),b=0;b<n.batchSize;++b)for(var x=0;x<n.inChannels;++x)for(var B=0;B<n.inDepth;++B)for(var C=0;C<n.inHeight;++C)for(var E=0;E<n.inWidth;++E){for(var F=B-p,S=C-m,k=E-g,_=0,I=0;I<h;I+=u){var N=(F+I)/r;if(!(N<0||N>=n.outDepth||Math.floor(N)!==N))for(var U=0;U<f;U+=l){var L=(S+U)/i;if(!(L<0||L>=n.outHeight||Math.floor(L)!==L))for(var Q=0;Q<d;Q+=c){var R=(k+Q)/a;R<0||R>=n.outWidth||Math.floor(R)!==R||(_+=y.get(b,N,L,R,x))}}}v.set(_*w,b,B,C,E,x)}return v.toTensor()},t.prototype.maxPool3d=function(e,t){return Rh(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=ki(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,A=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,d=t.padInfo.left,p=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var m=0;m<t.inChannels;++m)for(var v=0;v<t.outDepth;++v){for(var w=v*r-h,y=w;y<0;)y+=o;for(var b=Math.min(t.inDepth,u+w),x=0;x<t.outHeight;++x){for(var B=x*i-f,C=B;C<0;)C+=s;for(var E=Math.min(t.inHeight,l+B),F=0;F<t.outWidth;++F){for(var S=F*a-d,k=S;k<0;)k+=A;for(var _=Math.min(t.inWidth,c+S),I=Number.NEGATIVE_INFINITY,N=-1,U=y;U<b;U+=o)for(var L=U-w,Q=C;Q<E;Q+=s)for(var R=Q-B,D=k;D<_;D+=A){var T=D-S,P=p.get(g,U,Q,D,m);P>=I&&(I=P,N=L*l*c+R*l+T)}n.set(N,g,v,x,F,m)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){Rh([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),a=r.strideDepth,o=r.strideHeight,s=r.strideWidth,A=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,d=c-1-r.padInfo.front,p=f-1-r.padInfo.left,g=h-1-r.padInfo.top,m=ki(t.shape,"float32"),v=this.bufferSync(i),w=this.bufferSync(e),y=0;y<r.batchSize;++y)for(var b=0;b<r.inChannels;++b)for(var x=0;x<r.inDepth;++x)for(var B=0;B<r.inHeight;++B)for(var C=0;C<r.inWidth;++C){for(var E=x-d,F=B-g,S=C-p,k=0,_=0;_<c;_+=A){var I=(E+_)/a;if(!(I<0||I>=r.outDepth||Math.floor(I)!==I))for(var N=0;N<h;N+=u){var U=(F+N)/o;if(!(U<0||U>=r.outHeight||Math.floor(U)!==U))for(var L=0;L<f;L+=l){var Q=(S+L)/s;if(!(Q<0||Q>=r.outWidth||Math.floor(Q)!==Q)){var R=c*h*f-1-v.get(y,I,U,Q,b)===_*h*f+N*f+L?1:0;0!==R&&(k+=w.get(y,I,U,Q,b)*R)}}}}m.set(k,y,x,B,C,b)}return m.toTensor()},t.prototype.cast=function(e,t){return Oa(e,t,this)},t.prototype.reshape=function(e,t){return Ma(e,t)},t.prototype.avgPool=function(e,t){return Rh(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){Rh(e,"resizeBilinear");for(var i=e.shape,a=i[0],o=i[1],s=i[2],A=i[3],u=this.readSync(e.dataId),l=new Float32Array(mt([a,t,n,A])),c=[r&&t>1?o-1:o,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0,d=c[0]/h[0],p=c[1]/h[1],g=0;g<a;g++)for(var m=0;m<t;m++)for(var v=d*m,w=Math.floor(v),y=v-w,b=Math.min(o-1,Math.ceil(v)),x=g*e.strides[0]+w*e.strides[1],B=g*e.strides[0]+b*e.strides[1],C=0;C<n;C++)for(var E=p*C,F=Math.floor(E),S=E-F,k=Math.min(s-1,Math.ceil(E)),_=x+F*e.strides[2],I=B+F*e.strides[2],N=x+k*e.strides[2],U=B+k*e.strides[2],L=0;L<A;L++){var Q=u[_+L],R=u[I+L],D=Q+(u[N+L]-Q)*S,T=D+(R+(u[U+L]-R)*S-D)*y;l[f++]=T}return Jr(l,[a,t,n,A])},t.prototype.resizeBilinearBackprop=function(e,t,n){Rh([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],A=e.shape,u=A[1],l=A[2],c=new Float32Array(i*a*o*s),h=[n&&u>1?a-1:a,n&&l>1?o-1:o],f=[n&&u>1?u-1:u,n&&l>1?l-1:l],d=h[0]/f[0],p=h[1]/f[1],g=this.readSync(e.dataId),m=0,v=0;v<i;v++)for(var w=v*t.strides[0],y=0;y<u;y++)for(var b=y*d,x=Math.floor(b),B=Math.min(Math.ceil(b),a-1),C=w+x*t.strides[1],E=w+B*t.strides[1],F=b-x,S=1-F,k=0;k<l;k++)for(var _=k*p,I=Math.floor(_),N=Math.min(Math.ceil(_),o-1),U=_-I,L=1-U,Q=C+I*t.strides[2],R=C+N*t.strides[2],D=E+I*t.strides[2],T=E+N*t.strides[2],P=S*L,O=S*U,M=F*L,j=F*U,H=0;H<s;H++){var K=g[m++];c[Q+H]+=K*P,c[R+H]+=K*O,c[D+H]+=K*M,c[T+H]+=K*j}return ri(c,[i,o,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){Rh(e,"resizeNearestNeighbor");for(var i=e.shape,a=i[0],o=i[1],s=i[2],A=i[3],u=this.readSync(e.dataId),l=new Float32Array(a*t*n*A),c=[r&&t>1?o-1:o,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=c[0]/h[0],d=c[1]/h[1],p=0,g=0;g<a;g++)for(var m=g*e.strides[0],v=0;v<t;v++)for(var w=f*v,y=m+Math.min(o-1,r?Math.round(w):Math.floor(w))*e.strides[1],b=0;b<n;b++)for(var x=d*b,B=y+Math.min(s-1,r?Math.round(x):Math.floor(x))*e.strides[2],C=0;C<A;C++){var E=u[B+C];l[p++]=E}return Jr(l,[a,t,n,A],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){Rh([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],A=e.shape,u=A[1],l=A[2],c=new Float32Array(i*a*o*s),h=this.readSync(e.dataId),f=[n&&u>1?a-1:a,n&&l>1?o-1:o],d=[n&&u>1?u-1:u,n&&l>1?l-1:l],p=f[0]/d[0],g=f[1]/d[1],m=1/p,v=1/g,w=2*Math.ceil(m)+2,y=2*Math.ceil(v)+2,b=0;b<i;b++)for(var x=b*t.strides[0],B=0;B<a;B++)for(var C=x+B*t.strides[1],E=Math.floor(B*m),F=Math.floor(E-w/2),S=0;S<o;S++)for(var k=C+S*t.strides[2],_=Math.floor(S*v),I=Math.floor(_-y/2),N=0;N<s;N++){for(var U=0,L=0;L<w;L++){var Q=L+F;if(!(Q<0||Q>=u)){var R=x+Q*e.strides[1],D=Q*p;if(B===Math.min(a-1,n?Math.round(D):Math.floor(D)))for(var T=0;T<y;T++){var P=T+I;if(!(P<0||P>=l)){var O=R+P*e.strides[2],M=P*g;S===Math.min(o-1,n?Math.round(M):Math.floor(M))&&(U+=h[O+N])}}}}c[k+N]=U}return ri(c,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){Rh([e,t,n,i,a],"batchNorm");for(var o=this.readSync(e.dataId),s=this.readSync(t.dataId),A=this.readSync(n.dataId),u=i?this.readSync(i.dataId):new Float32Array([1]),l=a?this.readSync(a.dataId):new Float32Array([0]),c=new Float32Array(o.length),h=l.length,f=u.length,d=A.length,p=s.length,g=0,m=0,v=0,w=0,y=0;y<o.length;++y)c[y]=l[g++]+(o[y]-s[m++])*u[v++]/Math.sqrt(A[w++]+r),g>=h&&(g=0),m>=p&&(m=0),v>=f&&(v=0),w>=d&&(w=0);return ri(c,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){Rh(e,"localResponseNormalization4D");var a=e.shape[3],o=a-1,s=this.readSync(e.dataId),A=e.size,u=new Float32Array(A);function l(e){for(var n=e%a,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,o),A=0;r<=i;r++){var u=s[r];A+=u*u}return A}for(var c=0;c<A;c++){var h=l(c),f=s[c]*Math.pow(n+r*h,-i);u[c]=f}return ri(u,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){Rh(e,"LRNGrad");for(var s=e.shape[3],A=this.readSync(e.dataId),u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=new Float32Array(e.size),h=e.size,f=0;f<h;f++){for(var d=f%s,p=f-d+Math.max(0,d-r),g=f-d+Math.min(s,d+r+1),m=0,v=p;v<g;v++)m+=Math.pow(u[v],2);for(m=a*m+i,v=p;v<g;v++){var w=-2*a*o*u[v]*l[f]/m;f===v&&(w+=Math.pow(m,-o)),w*=A[f],c[v]+=w}}return ri(c,e.shape)},t.prototype.multinomial=function(e,t,n,r){Rh(e,"multinomial");for(var i=t?e:wa(e),a=i.shape[0],o=i.shape[1],s=ai([a,n],"int32"),A=this.readSync(s.dataId),u=this.readSync(i.dataId),l=0;l<a;++l){var c=l*o,h=new Float32Array(o-1);h[0]=u[c];for(var f=1;f<h.length;++f)h[f]=h[f-1]+u[c+f];for(var d=Ci(r.toString()),p=l*n,g=0;g<n;++g){var m=d();A[p+g]=h.length;for(var v=0;v<h.length;v++)if(m<h[v]){A[p+g]=v;break}}}return s},t.prototype.oneHot=function(e,t,n,r){Rh(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var a=this.readSync(e.dataId),o=0;o<e.size;++o)a[o]>=0&&a[o]<t&&(i[o*t+a[o]]=n);return ti(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return Rh(e,"nonMaxSuppression"),qa(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=ki(e.shape,"float32"),a=ki(e.shape,"float32"),o=Xr(e).as2D(n,r),s=Yr(e).as2D(n,r),A=0;A<n;A++)for(var u=o.slice([A,0],[1,r]),l=s.slice([A,0],[1,r]),c=qr(u,l),h=this.readSync(this.fftImpl(c,t).dataId),f=0;f<r;f++){var d=Ka(h,f);i.values[A*r+f]=d.real,a.values[A*r+f]=d.imag}return qr(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=qr(Xr(i).div(Zr(r)),Yr(i).div(Zr(r)))),i}var a=this.readSync(e.dataId),o=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return qr(o.real,o.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),o=qr(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),A=qr(s.real,s.imag).as1D();o=this.fftRadix2(o,i,n),A=this.fftRadix2(A,i,n);var u=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(t,n),l=qr(u.real,u.imag).mul(A),c=o.add(l),h=o.sub(l),f=Xr(c).concat(Xr(h)),d=Yr(c).concat(Yr(h));return qr(f,d).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var A=Wa(i*s,t,n),u=Ka(e,s);a+=u.real*A.real-u.imag*A.imag,o+=u.real*A.imag+u.imag*A.real}n&&(a/=t,o/=t),za(r,a,o,i)}return r},t.prototype.depthToSpace=function(e,t,n){ft("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),ft(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});for(var r=e.shape[0],i=e.shape[1],a=e.shape[2],o=e.shape[3],s=i*t,A=a*t,u=o/(t*t),l=this.readSync(e.dataId),c=new Float32Array(r*s*A*u),h=0,f=0;f<r;++f)for(var d=0;d<s;++d)for(var p=Math.floor(d/t),g=d%t,m=0;m<A;++m)for(var v=Math.floor(m/t),w=(g*t+m%t)*u,y=0;y<u;++y){var b=y+w+o*(v+a*(p+i*f));c[h++]=l[b]}return ri(c,[r,s,A,u])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=Fa(e.shape,t.shape),a=ki(i,n),o=this.readSync(e.dataId),s=this.readSync(t.dataId),A=Ca(e.shape,i),u=Ca(t.shape,i),l=a.values;if(A.length+u.length===0)for(var c=0;c<l.length;++c)l[c]=r(o[c%o.length],s[c%s.length]);else{var h=this.bufferSync(e),f=this.bufferSync(t),d=function(n){var i=a.indexToLoc(n),c=i.slice(-e.rank);A.forEach(function(e){return c[e]=0});var d=h.locToIndex(c),p=i.slice(-t.rank);u.forEach(function(e){return p[e]=0});var g=f.locToIndex(p);l[n]=r(o[d],s[g])};for(c=0;c<l.length;++c)d(c)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Fa(e.shape,t.shape),i=ki(r,"float32"),a=ki(r,"float32"),o=this.readSync(e.dataId),s=this.readSync(t.dataId),A=Ca(e.shape,r),u=Ca(t.shape,r),l=i.values,c=a.values;if(A.length+u.length===0)for(var h=0;h<l.length;h++){var f=h%o.length,d=h%s.length,p=n(o[2*f],o[2*f+1],s[2*d],s[2*d+1]);l[h]=p.real,c[h]=p.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),m=this.bufferSync(this.data.get(t.dataId).complexTensors.real),v=function(r){var a=i.indexToLoc(r),h=a.slice(-e.rank);A.forEach(function(e){return h[e]=0});var f=g.locToIndex(h),d=a.slice(-t.rank);u.forEach(function(e){return d[e]=0});var p=m.locToIndex(d),v=n(o[2*f],o[2*f+1],s[2*p],s[2*p+1]);l[r]=v.real,c[r]=v.imag};for(h=0;h<l.length;h++)v(h)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return eo(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,a){for(var o=e.shape,s=o[0],A=o[1],u=o[2],l=o[3],c=t.shape[0],h=r[0],f=r[1],d=ki([c,h,f,l],"float32"),p=this.readSync(t.dataId),g=this.readSync(n.dataId),m=this.readSync(e.dataId),v=e.strides,w=d.strides,y=0;y<c;y++){var b=4*y,x=p[b],B=p[b+1],C=p[b+2],E=p[b+3],F=g[y];if(!(F>=s))for(var S=h>1?(C-x)*(A-1)/(h-1):0,k=f>1?(E-B)*(u-1)/(f-1):0,_=0;_<h;_++){var I=h>1?x*(A-1)+_*S:.5*(x+C)*(A-1);if(I<0||I>A-1)for(var N=0;N<f;N++)for(var U=0;U<l;U++){var L=U+N*w[2]+_*w[1]+y*w[0];d.values[L]=a}else if("bilinear"===i){var Q=Math.floor(I),R=Math.ceil(I),D=I-Q;for(N=0;N<f;N++)if((W=f>1?B*(u-1)+N*k:.5*(B+E)*(u-1))<0||W>u-1)for(U=0;U<l;U++)L=U+N*w[2]+_*w[1]+y*w[0],d.values[L]=a;else{var T=Math.floor(W),P=Math.ceil(W),O=W-T;for(U=0;U<l;U++){var M=m[L=U+T*v[2]+Q*v[1]+F*v[0]],j=m[L=U+P*v[2]+Q*v[1]+F*v[0]],H=m[L=U+T*v[2]+R*v[1]+F*v[0]],K=M+(j-M)*O,z=H+(m[L=U+P*v[2]+R*v[1]+F*v[0]]-H)*O;L=U+N*w[2]+_*w[1]+y*w[0],d.values[L]=K+(z-K)*D}}}else for(N=0;N<f;++N){var W;if((W=f>1?B*(u-1)+N*k:.5*(B+E)*(u-1))<0||W>u-1)for(U=0;U<l;U++)L=U+N*w[2]+_*w[1]+y*w[0],d.values[L]=a;else{var V=Math.round(W),G=Math.round(I);for(U=0;U<l;U++){var q=U+V*v[2]+G*v[1]+F*v[0],X=U+N*w[2]+_*w[1]+y*w[0];d.values[X]=m[q]}}}}}return d.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=la(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.sliceSize,A=i.strides,u=i.outputSize;return this.scatter(e,t,n,u,s,o,a,A,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=oa(e,t),a=i[0],o=i[1],s=i[2],A=i[3];if(0===o)return Jr([],a,e.dtype);for(var u=new rn([o,s],e.dtype),l=this.readSync(t.dataId),c=this.readSync(e.dataId),h=0;h<o;h++){for(var f=[],d=0,p=0;p<r;p++){var g=l[h*r+p];d+=g*A[p],f.push(g)}if(d<0||d>=e.size/s)throw new Error("Invalid indices: "+f+" does not index into "+e.shape);for(var m=0;m<s;m++)u.values[h*s+m]=c[d*s+m]}return u.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=la(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,A=r.outputSize,u=Zr(0);return this.scatter(e,t,n,A,o,a,i,s,u,!0)},t.prototype.fill=function(e,t,n){var r=kt(n=n||Pt(t),mt(e));return r.fill(t),Cn.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=kt(e.dtype,mt(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return ja(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,a,o,s,A,u){var l=[r/i,i],c=this.readSync(e.dataId),h=this.readSync(t.dataId);if(0===r)return Jr([],n,t.dtype);var f=new rn(l,t.dtype);f.values.fill(this.readSync(A.dataId)[0]);for(var d=0;d<a;d++){for(var p=[],g=0,m=0;m<o;m++){var v=c[d*o+m];p.push(v),g+=v*s[m]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+p+" does not index into "+n);for(var w=0;w<i;w++)u?f.values[g*i+w]+=h[d*i+w]:f.values[g*i+w]=0===t.rank?h[0]:h[d*i+w]}return f.toTensor().reshape(n)},t}(xa);Cn.registerBackend("cpu",function(){return new Th},1);for(var Ph=0,Oh=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,a=i.boxes,o=i.scores,s=r,A=s.maxOutputSize,u=s.iouThreshold,l=s.scoreThreshold,c=s.softNmsSigma,h=n;Rh(a,"NonMaxSuppressionWithScore");var f=Xa(h.data.get(a.dataId).values,h.data.get(o.dataId).values,A,u,l,c);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;Rh(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var A=a[s];o[s]=A*A}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:YA,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n;Rh([i,a],YA);var s=o.data.get(i.dataId).values,A=o.data.get(a.dataId).values,u=function(e,t,n,r,i,a){var o=Fa(e,t),s=o.length,A=jt(o),u=St(i,mt(o)),l=e.length,c=t.length,h=jt(e),f=jt(t),d=Ca(e,o),p=Ca(t,o);if(d.length+p.length===0)for(var g=0;g<u.length;++g)u[g]=a(n[g%n.length],r[g%r.length]);else{var m=function(e){var t=Jt(e,s,A),i=t.slice(-l);d.forEach(function(e){return i[e]=0});var o=Yt(i,l,h),g=t.slice(-c);p.forEach(function(e){return g[e]=0});var m=Yt(g,c,f);u[e]=a(n[o],r[m])};for(g=0;g<u.length;++g)m(g)}return[u,o]}(i.shape,a.shape,s,A,i.dtype,function(e,t){var n=e-t;return n*n}),l=u[0],c=u[1];return{dataId:o.write(l,c,i.dtype),shape:c,dtype:i.dtype}}}];Ph<Oh.length;Ph++)ot(Oh[Ph]);for(var Mh,jh=function(e){this.variableNames=["A"];var t=uo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Hh=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=uo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},Kh=0,zh=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,o="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,A=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],u=A[0],l=A[1],c=[l,u],h=[l,u,a];(s||o)&&(null==Mh&&(Mh=document.createElement("canvas").getContext("2d")),Mh.canvas.width=u,Mh.canvas.height=l,Mh.drawImage(i,0,0,u,l),i=Mh.canvas);var f=n.makeTensorInfo(c,"int32");n.texData.get(f.dataId).usage=kn.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),i);var d=et().getBool("WEBGL_PACK")?new Hh(h):new jh(h),p=n.runWebGLProgram(d,[f],"int32");return n.disposeData(f.dataId),p}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;Ur("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=r,A=s.maxOutputSize,u=s.iouThreshold,l=s.scoreThreshold,c=s.softNmsSigma,h=n,f=Xa(h.readSync(a.dataId),h.readSync(o.dataId),A,u,l,c);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,a=new yA(r.shape,"return x * x;");return i.runWebGLProgram(a,[r],r.dtype)}},{kernelName:YA,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n,s=et().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Po("return (a - b) * (a - b);",i.shape,a.shape):new Do("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}}];Kh<zh.length;Kh++)ot(zh[Kh]);for(var Wh=0,Vh=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:YA,gradFunc:function(e,t){var n=t[0],r=t[1],i=Zr(2);return{a:function(){return hl(e,hl(i,ml(n,r)))},b:function(){return hl(e,hl(i,ml(r,n)))}}}}];Wh<Vh.length;Wh++)st(Vh[Wh]);var Gh=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();et().get("IS_BROWSER")&&et().setPlatform("browser",new Gh);var qh,Xh=function(){function e(){this.util=n(745),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=et().global.fetch?et().global.fetch(e,t):(null==qh&&(qh=n(7318)),qh(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();et().get("IS_NODE")&&et().setPlatform("node",new Xh);var Yh={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Jh(e,t){for(var n={},r=0,i=function(t){var i=t.name,a=t.dtype,o=t.shape,s=mt(o),A=void 0;if("quantization"in t){var u=t.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=Yh[u.dtype],c=e.slice(r,r+s*l),h="uint8"===u.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===a)A=Float32Array.from(h,function(e){return e*u.scale+u.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);A=Int32Array.from(h,function(e){return Math.round(e*u.scale+u.min)})}r+=s*l}else if("string"===a){var f=mt(t.shape);A=[];for(var d=0;d<f;d++){var p=new Uint32Array(e.slice(r,r+4))[0];r+=4;var g=new Uint8Array(e.slice(r,r+p));A.push(g),r+=p}}else{var m=Yh[a];if(c=e.slice(r,r+s*m),"float32"===a)A=new Float32Array(c);else if("int32"===a)A=new Int32Array(c);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);A=new Uint8Array(c)}r+=s*m}n[i]=Jr(A,o,a)},a=0,o=t;a<o.length;a++)i(o[a]);return n}function $h(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),i=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength}),r.buffer}var Zh="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function ef(e){return Zh?Buffer.byteLength(e):new Blob([e]).size}function tf(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function nf(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function rf(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:ef(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:ef(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var af=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&i.push(n)}),i},e}(),of="://",sf=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){ft(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(of)&&(t=t.slice(0,t.indexOf(of))),ft(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();ft(null==r.managers[t],function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Af(e){if(-1===e.indexOf(of))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+sf.getSchemes().join(","));return{scheme:e.split(of)[0],path:e.split(of)[1]}}function uf(e,t,n){return void 0===n&&(n=!1),Je(this,void 0,void 0,function(){var r,i,a,o,s,A,u,l,c;return $e(this,function(h){switch(h.label){case 0:return ft(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),ft((r=af.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),ft(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),i=r[0],ft((a=af.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),ft(a.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),o=a[0],s=Af(e).scheme,A=Af(e).path,u=s===Af(e).scheme,[4,i.load()];case 1:return l=h.sent(),n&&u?[4,sf.getManager(s).removeModel(A)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,o.save(l)];case 4:return c=h.sent(),!n||u?[3,6]:[4,sf.getManager(s).removeModel(A)];case 5:h.sent(),h.label=6;case 6:return[2,c.modelArtifactsInfo]}})})}var lf="models_store",cf="model_info_store";function hf(){if(!et().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function ff(e){var t=e.result;t.createObjectStore(lf,{keyPath:"modelPath"}),t.createObjectStore(cf,{keyPath:"modelPath"})}var df=function(){function e(e){if(this.indexedDB=hf(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return ff(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(lf,"readonly"),s=o.objectStore(lf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var A,u=rf(t),l=a.transaction(cf,"readwrite"),c=l.objectStore(cf),h=c.put({modelPath:n.modelPath,modelArtifactsInfo:u});h.onsuccess=function(){var i=(A=a.transaction(lf,"readwrite")).objectStore(lf).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});i.onsuccess=function(){return e({modelArtifactsInfo:u})},i.onerror=function(e){var t=(c=l.objectStore(cf)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},h.onerror=function(e){return a.close(),r(h.error)},l.oncomplete=function(){null==A?a.close():A.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}})},e.URL_SCHEME="indexeddb://",e}(),pf=function(e){return et().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(df.URL_SCHEME)?(t=e.slice(df.URL_SCHEME.length),new df(t)):null;var t};af.registerSaveRouter(pf),af.registerLoadRouter(pf);var gf=function(){function e(){this.indexedDB=hf()}return e.prototype.listModels=function(){return Je(this,void 0,void 0,function(){var e=this;return $e(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return ff(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(cf,"readonly"),a=i.objectStore(cf).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return Je(this,void 0,void 0,function(){var t=this;return $e(this,function(n){var r;return e=(r=e).startsWith(df.URL_SCHEME)?r.slice(df.URL_SCHEME.length):r,[2,new Promise(function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return ff(i)},i.onsuccess=function(){var t,a=i.result,o=a.transaction(cf,"readwrite"),s=o.objectStore(cf),A=s.get(e);A.onsuccess=function(){if(null==A.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),o=function(){var i=(t=a.transaction(lf,"readwrite")).objectStore(lf).delete(e);i.onsuccess=function(){return n(A.result.modelArtifactsInfo)},i.onerror=function(e){return r(A.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(A.error)}},A.onerror=function(e){return a.close(),r(A.error)},o.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})]})})},e}();if(et().getBool("IS_BROWSER"))try{sf.registerManager(df.URL_SCHEME,new gf)}catch(Xe){}var mf="/",vf="tensorflowjs_models",wf="info",yf="model_topology",bf="weight_specs",xf="weight_data",Bf="model_metadata";function Cf(e){return{info:[vf,e,wf].join(mf),topology:[vf,e,yf].join(mf),weightSpecs:[vf,e,bf].join(mf),weightData:[vf,e,xf].join(mf),modelMetadata:[vf,e,Bf].join(mf)}}function Ef(e){var t=e.split(mf);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(mf)}var Ff=function(){function e(e){if(!et().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Cf(this.modelPath)}return e.prototype.save=function(e){return Je(this,void 0,void 0,function(){var t,n,r;return $e(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=rf(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Zh)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}})})},e.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return $e(this,function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(o=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(Zh){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(o),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),Sf=function(e){return et().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ff.URL_SCHEME)?(t=e.slice(Ff.URL_SCHEME.length),new Ff(t)):null;var t};af.registerSaveRouter(Sf),af.registerLoadRouter(Sf);var kf=function(){function e(){ft(et().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),ft("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return Je(this,void 0,void 0,function(){var e,t,n,r,i,a;return $e(this,function(o){for(e={},t=vf+mf,n=mf+wf,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(a=Ef(i),e[a]=JSON.parse(this.LS.getItem(i)));return[2,e]})})},e.prototype.removeModel=function(e){return Je(this,void 0,void 0,function(){var t,n;return $e(this,function(r){var i;if(e=(i=e).startsWith(Ff.URL_SCHEME)?i.slice(Ff.URL_SCHEME.length):i,t=Cf(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(et().getBool("IS_BROWSER"))try{sf.registerManager(Ff.URL_SCHEME,new kf)}catch(Xe){}function _f(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var If=function(){function e(t){if(!et().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return Je(this,void 0,void 0,function(){var t,n,r,i,a,o;return $e(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,_f(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==e.weightData?[3,4]:((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,[4,_f(function(){return o.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:rf(e)}]}})})},e.URL_SCHEME="downloads://",e}(),Nf=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,t,n=this;return $e(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var A=o.weightsManifest;if(null!=A){var u;try{u=n.checkManifestAndWeightFiles(A,t)}catch(e){return void i(e)}var l=[],c=[],h=[];A.forEach(function(e){e.paths.forEach(function(e){c.push(e),h.push(null)}),l.push.apply(l,e.weights)}),A.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=c.indexOf(e);h[i]=n,-1===h.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:tf(h),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(u[e])})})}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return nf(e.name)}),i={},a=0,o=e;a<o.length;a++)o[a].paths.forEach(function(e){var a=nf(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[e]=t[r.indexOf(a)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function Uf(e,t,n,r){!function(e){ft(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){ft(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e}),ft(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t}),ft(t>=e,function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t})}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map(function(a){return a.then(function(a){var o=n+ ++i/e.length*(r-n);return t(o),a}),a}))}function Lf(e,t){return Je(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l;return $e(this,function(c){switch(c.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?et().platform.fetch:t.fetchFunc,r=e.map(function(e){return n(e,t.requestInit,{isBinary:!0})}),i=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return o=c.sent(),[3,4];case 2:return[4,Uf(r,t.onProgress,i,a)];case 3:o=c.sent(),c.label=4;case 4:return s=o.map(function(e){return e.arrayBuffer()}),A=.5,u=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return l=c.sent(),[3,8];case 6:return[4,Uf(s,t.onProgress,A,u)];case 7:l=c.sent(),c.label=8;case 8:return[2,l]}})})}function Qf(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),Je(t,void 0,void 0,function(){var t,a,o,s,A,u,l,c,h,f;return $e(this,function(d){switch(d.label){case 0:if(t=n.map(function(){return!1}),a={},o=null!=i?i.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var A="quantization"in e?e.quantization.dtype:e.dtype,u=Yh[A]*mt(e.shape),l=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=i?i.forEach(function(t,n){t===e.name&&(l(),o[n]=!0)}):l(),s.push(e.name),r+=u})}),!o.every(function(e){return e}))throw A=i.filter(function(e,t){return!o[t]}),new Error("Could not find weights in manifest with names: "+A.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return u=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),l=[],u.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;l.push(t)})}),[4,e(l)];case 1:return c=d.sent(),h={},f=0,u.forEach(function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=c[f+i].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),A=0,u=0;u<t;u++){var l=new Uint8Array(c[f+u]);s.set(l,A),A+=l.byteLength}a[e].forEach(function(e){var t=Jh(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]}),f+=t}),[2,h]}})})}}af.registerSaveRouter(function(e){return et().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(If.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new If(e)}(e.slice(If.URL_SCHEME.length)):null});var Rf=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(ft("function"==typeof t.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=et().platform.fetch,ft(null!=e&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&ft(2===e.length,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return Je(this,void 0,void 0,function(){var t,n,r,i;return $e(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:rf(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,A,u,l,c;return $e(this,function(h){switch(h.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=h.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");h.label=2;case 2:return h.trys.push([2,4,,5]),[4,e.json()];case 3:return t=h.sent(),[3,5];case 4:throw h.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,o=t.convertedBy,s=t.format,A=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:c=h.sent(),u=c[0],l=c[1],h.label=7;case 7:return[2,{modelTopology:r,weightSpecs:u,weightData:l,userDefinedMetadata:A,generatedBy:a,convertedBy:o,format:s}]}})})},e.prototype.loadWeights=function(e){return Je(this,void 0,void 0,function(){var t,n,r,i,a,o,s,A,u,l,c;return $e(this,function(h){switch(h.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],a=this.weightPathPrefix||r,o=[],s=0,A=e;s<A.length;s++)u=A[s],o.push.apply(o,u.weights);return l=[],e.forEach(function(e){e.paths.forEach(function(e){l.push(a+e+i)})}),[4,Lf(l,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return c=h.sent(),[2,[o,tf(c)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Df(e){return null!=e.match(Rf.URL_SCHEME_REGEX)}var Tf=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return Df(e)}):Df(e))?Pf(e,{onProgress:t}):null};function Pf(e,t){return new Rf(e,t)}af.registerSaveRouter(Tf),af.registerLoadRouter(Tf);var Of,Mf=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){return[2,this.modelArtifacts]})})},e}(),jf=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){return[2,this.saveHandler(e)]})})},e}(),Hf=Object.freeze({browserFiles:function(e){return new Nf(e)},browserHTTPRequest:function(e,t){return Pf(e,t)},concatenateArrayBuffers:tf,decodeWeights:Jh,encodeWeights:function(e,t){return Je(this,void 0,void 0,function(){var n,r,i,a,o,s=this;return $e(this,function(A){switch(A.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e),a=function(a){var o=i[a],A=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==A.dtype&&"int32"!==A.dtype&&"bool"!==A.dtype&&"string"!==A.dtype)throw new Error("Unsupported dtype in weight '"+o+"': "+A.dtype);var u={name:o,shape:A.shape,dtype:A.dtype};if("string"===A.dtype){var l=new Promise(function(e){return Je(s,void 0,void 0,function(){var t,n,r,i,a,o,s;return $e(this,function(u){switch(u.label){case 0:return[4,A.bytes()];case 1:for(t=u.sent(),n=t.reduce(function(e,t){return e+t.length},0)+4*t.length,r=new Uint8Array(n),i=0,a=0;a<t.length;a++)o=t[a],s=new Uint8Array(new Uint32Array([o.length]).buffer),r.set(s,i),i+=4,r.set(o,i),i+=o.length;return e(r),[2]}})})});r.push(l)}else r.push(A.data());null!=t&&(u.group=t),n.push(u)},o=0;o<i.length;++o)a(o);return[4,Promise.all(r)];case 1:return[2,{data:$h(A.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new Mf(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mf({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mf({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return af.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:rf,getSaveHandlers:function(e){return af.getSaveHandlers(e)},http:Pf,isHTTPScheme:Df,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),Je(this,void 0,void 0,function(){return $e(this,function(i){return[2,Qf(function(e){return Lf(e,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return af.registerLoadRouter(e)},registerSaveRouter:function(e){return af.registerSaveRouter(e)},weightsLoaderFactory:Qf,withSaveHandler:function(e){return new jf(e)},copyModel:function(e,t){return Je(this,void 0,void 0,function(){return $e(this,function(n){return[2,uf(e,t,!1)]})})},listModels:function(){return Je(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return $e(this,function(s){switch(s.label){case 0:e=sf.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,sf.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+of+o]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return Je(this,void 0,void 0,function(){return $e(this,function(n){return[2,uf(e,t,!0)]})})},removeModel:function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){return t=Af(e),[2,sf.getManager(t.scheme).removeModel(t.path)]})})}}),Kf=Gr({confusionMatrix_:function(e,t,n){var r=Rr(e,"labels","confusionMatrix"),i=Rr(t,"predictions","confusionMatrix");ft(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),ft(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),ft(1===i.rank,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),ft(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),ft(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var a=Pi(r.asType("int32"),n),o=Pi(i.asType("int32"),n);return a.transpose().matMul(o).asType("int32")}}),zf=(Object.freeze({confusionMatrix:Kf}),Gr({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=it("FromPixels",Cn.backendName))return Cn.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,A,u=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=u[0],c=u[1];if(o?s=e.getContext("2d").getImageData(0,0,l,c).data:r||n?s=e.data:(a||i)&&(null==Of&&(Of=document.createElement("canvas").getContext("2d")),Of.canvas.width=l,Of.canvas.height=c,Of.drawImage(e,0,0,l,c),s=Of.getImageData(0,0,l,c).data),4===t)A=new Int32Array(s);else{var h=l*c;A=new Int32Array(h*t);for(var f=0;f<h;f++)for(var d=0;d<t;++d)A[f*t+d]=s[4*f+d]}return ni(A,[c,l,t],"int32")}})),Wf=Object.freeze({toPixels:function(e,t){return Je(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C;return $e(this,function(E){switch(E.label){case 0:if(n=Rr(e,"img","toPixels"),e instanceof An||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(o=2===n.rank?1:n.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=E.sent(),A=n.min(),u=n.max(),[4,Promise.all([A.data(),u.data()])];case 2:if(l=E.sent(),c=l[0],h=l[1],f=c[0],d=h[0],A.dispose(),u.dispose(),"float32"===n.dtype){if(f<0||d>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+d+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||d>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+d+"].")}for(p="float32"===n.dtype?255:1,g=new Uint8ClampedArray(a*i*4),m=0;m<i*a;++m)v=void 0,w=void 0,y=void 0,b=void 0,1===o?(v=s[m]*p,w=s[m]*p,y=s[m]*p,b=255):3===o?(v=s[3*m]*p,w=s[3*m+1]*p,y=s[3*m+2]*p,b=255):4===o&&(v=s[4*m]*p,w=s[4*m+1]*p,y=s[4*m+2]*p,b=s[4*m+3]*p),g[0+(x=4*m)]=Math.round(v),g[x+1]=Math.round(w),g[x+2]=Math.round(y),g[x+3]=Math.round(b);return null!=t&&(t.width=a,t.height=i,B=t.getContext("2d"),C=new ImageData(g,a,i),B.putImageData(C,0,0)),n!==e&&n.dispose(),[2,g]}})})},fromPixels:zf}),Vf=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),Gf=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function qf(e){ft(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),ft("string"==typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),ft(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),Gf.register(e)}Object.freeze({Serializable:Vf,SerializationMap:Gf,registerClass:qf});function Xf(){return 32===Cn.backend.floatPrecision()?.001:.1}function Yf(e,t,n){var r=!0;if((Ut(e)||Ut(t))&&(r=!1),Ut(e)&&Ut(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var o=Lr(e),s=Lr(t);if(!vt(o,s))throw new Error("Arrays have different shapes. Actual: ["+o+"]. Expected: ["+s+"]")}var A=Ut(e)?e:gt(e),u=Ut(t)?t:gt(t);if(A.length!==u.length)throw new Error("Arrays have different lengths actual: "+A.length+" vs expected: "+u.length+".\nActual:   "+A+".\nExpected: "+u+".");for(var l=0;l<u.length;++l){var c=A[l],h=u[l];if(!n(c,h))throw new Error("Arrays differ: actual["+l+"] = "+c+", expected["+l+"] = "+h+".\nActual:   "+A+".\nExpected: "+u+".")}}function Jf(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=Xf()),Yf(e,t,function(e,t){return Jf(e,t,n)})},testEpsilon:Xf,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return Rt(e)||Rt(e[0])||Rt(t)||Rt(t[0])?Yf(e,n,function(e,t){return e==t}):Yf(e,t,function(e,t){return Jf(e,t,0)})},expectNumbersClose:function(e,t,n){if(null==n&&(n=Xf()),!Jf(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:Ls,webgl_util:Sr,forceHalfFloat:function(){et().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:qA,setWebGLContext:Un,GPGPUContext:Qs});var $f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ye(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map(function(e){return{name:e.name,tensor:a[e.name]}});this.applyGradients(o)}else this.applyGradients(a);return Nr(a),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){ft(Ot(e),function(){return"The f passed in variableGrads(f) must be a function"}),ft(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof dn}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var r in t=[],Cn.registeredVariables)t.push(Cn.registeredVariables[r]);var i=n?t.filter(function(e){return!e.trainable}):null,a=t.length;ft((t=t.filter(function(e){return e.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var o=Cn.gradients(e,t,null,!0),s=o.value,A=o.grads;ft(A.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),ft(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var u={};return t.forEach(function(e,t){null!=A[t]&&(u[e.name]=A[t])}),null!=i&&i.forEach(function(e){return u[e.name]=null}),{value:s,grads:u}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Nr(this.iterations_)},t.prototype.saveIterations=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:Zr(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}})})},t}(Vf);Object.defineProperty($f,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Zf=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=Cn.backend.epsilon()),i}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Cn.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Ir(function(){return ui(i).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Ir(function(){return ui(i).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Ir(function(){var e=o.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(o.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));o.assign(e),s.assign(r);var A=n.mul(-t.learningRate).add(i);i.assign(A)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Nr(this.accumulatedGrads.map(function(e){return e.variable})),Nr(this.accumulatedUpdates.map(function(e){return e.variable})))},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}($f);qf(Zf);var ed=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Cn.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Ir(function(){return oi(i.shape,t.initialAccumulatorValue).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;Ir(function(){var e=o.add(a.square());o.assign(e);var n=a.div(e.add(Cn.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Nr(this.accumulatedGrads.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}($f);qf(ed);var td=function(e){function t(t,n,r,i){void 0===i&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Ir(function(){a.accBeta1=Zr(n).variable(),a.accBeta2=Zr(r).variable()}),null==i&&(a.epsilon=Cn.backend.epsilon()),a}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Ir(function(){var r=ml(1,t.accBeta1),i=ml(1,t.accBeta2);n.forEach(function(n,a){var o=Cn.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Ir(function(){return ui(o).variable(!1)})}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:Ir(function(){return ui(o).variable(!1)})});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var A=t.accumulatedFirstMoment[a].variable,u=t.accumulatedSecondMoment[a].variable,l=A.mul(t.beta1).add(s.mul(1-t.beta1)),c=u.mul(t.beta2).add(s.square().mul(1-t.beta2)),h=l.div(r),f=c.div(i);A.assign(l),u.assign(c);var d=h.div(f.sqrt().add(t.epsilon)).mul(-t.learningRate).add(o);o.assign(d)}}),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Nr(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&Nr(this.accumulatedSecondMoment.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){var t,n=this;return $e(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),Ir(function(){n.accBeta1.assign(dl(n.beta1,n.iterations_+1)),n.accBeta2.assign(dl(n.beta2,n.iterations_+1))}),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}($f);qf(td);var nd=function(e){function t(t,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.decay=a,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],Ir(function(){o.iteration=Zr(0).variable(),o.accBeta1=Zr(n).variable()}),null==i&&(o.epsilon=Cn.backend.epsilon()),o}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Ir(function(){var r=ml(1,t.accBeta1),i=nl(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach(function(n,a){var o=Cn.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:ui(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:ui(o).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var A=t.accumulatedFirstMoment[a].variable,u=t.accumulatedWeightedInfNorm[a].variable,l=A.mul(t.beta1).add(s.mul(1-t.beta1)),c=u.mul(t.beta2),h=s.abs(),f=c.maximum(h);A.assign(l),u.assign(f);var d=i.div(r).mul(l.div(f.add(t.epsilon))).add(o);o.assign(d)}}),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Nr(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&Nr(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(e){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}($f);qf(nd);var rd=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=Cn.registeredVariables[n];Ir(function(){var e=t.c.mul(i).add(a);a.assign(e)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Cn.keep(e)}(Zr(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}($f);qf(rd);var id=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=Zr(i.momentum),i}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Cn.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:Ir(function(){return ui(i).variable(!1)})});var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Ir(function(){var e,n=t.m.mul(a).add(o);e=t.useNesterov?t.c.mul(o.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),a.assign(n),i.assign(e)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Nr(this.accumulations.map(function(e){return e.variable}))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){return $e(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(rd);qf(id);var ad=function(e){function t(t,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var o=e.call(this)||this;if(o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=a,null==i&&(o.epsilon=Cn.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return Ye(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Cn.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Ir(function(){return ui(i).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:Ir(function(){return ui(i).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Ir(function(){return ui(i).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Ir(function(){var e=o.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,A=n.mul(t.decay).add(a.mul(1-t.decay)),u=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(A.square().add(t.epsilon)).sqrt()));o.assign(e),n.assign(A),s.assign(u);var l=i.sub(u);i.assign(l)}else{var c=o.mul(t.decay).add(a.square().mul(1-t.decay));u=s.mul(t.momentum).add(a.mul(t.learningRate).div(c.add(t.epsilon).sqrt())),o.assign(c),s.assign(u),l=i.sub(u),i.assign(l)}})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Nr(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Nr(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&Nr(this.accumulatedMoments.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var e;return $e(this,function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Je(this,void 0,void 0,function(){var t;return $e(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}($f);qf(ad);var od=function(){function e(){}return e.sgd=function(e){return new rd(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new id(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new ad(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new td(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Zf(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new nd(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new ed(e,t)},e}();od.sgd,od.momentum,od.adadelta,od.adagrad,od.rmsprop,od.adamax,od.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;function sd(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach(function(n,r){var i=n.x,a=n.y,o=t[r];e.moveTo(o.x,o.y),e.lineTo(i,a)}),n){var r=t[t.length-1],i=t[0];if(!r||!i)return;e.moveTo(r.x,r.y),e.lineTo(i.x,i.y)}e.stroke()}An.prototype.squaredDifference=function(e){return JA(this,e)},on=Qh;var Ad=function(e,t){return Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ad(e,t)};function ud(e,t){function n(){this.constructor=e}Ad(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ld=function(){return ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ld.apply(this,arguments)};function cd(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{A(r.next(e))}catch(Ye){a(Ye)}}function s(e){try{A(r.throw(e))}catch(Ye){a(Ye)}}function A(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}A((r=r.apply(e,t||[])).next())})}function hd(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(Ye){a=[6,Ye],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function fd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var dd=function(){function e(e,t){if(!Bd(e)||!Bd(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function pd(e,t){return e instanceof An&&e.shape.length===t}function gd(e){return pd(e,3)}function md(e){return pd(e,4)}function vd(e){return e%2===0}function wd(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function yd(e){return e&&e.width&&e.height}function bd(e){return e.reduce(function(e,t){return e.add(t)},new Ed(0,0)).div(new Ed(e.length,e.length))}function xd(e,t,n){return Array(e).fill(0).map(function(e,r){return t+r*n})}function Bd(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function Cd(e){return Bd(e)&&0<=e&&e<=1}var Ed=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),Fd=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},i=[r.left,r.top,r.right,r.bottom].every(Bd),a=[r.x,r.y,r.width,r.height].every(Bd);if(!a&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],A=o[1],u=o[2],l=o[3];e.assertIsValidBox({x:s,y:A,width:u,height:l},"Box.constructor",n),this._x=s,this._y=A,this._width=u,this._height=l}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Bd)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Ed(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Ed(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Ed(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Ed(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.round(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.floor(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,i=t.width,a=t.height,o=Math.abs(i-a);return i<a&&(n-=o/2,i+=o),a<i&&(r-=o/2,a+=o),new e({x:n,y:r,width:i,height:a})},e.prototype.rescale=function(t){var n=yd(t)?t.width:t,r=yd(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,i=r.x,a=r.y,o=r.right,s=r.bottom,A=Math.max(i,0),u=Math.max(a,0),l=o-A,c=s-u;return new e({x:A,y:u,width:Math.min(l,t-A),height:Math.min(c,n-u)}).floor()},e.prototype.shift=function(t,n){var r=this.width,i=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:i})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,i=n,a=r,o=this.left,s=this.top,A=this.right,u=this.bottom;return A>t&&(i=-A+t+n,A=t),u>e&&(a=-u+e+r,u=e),o<1&&(a=2-o,o=1),s<1&&(a=2-s,s=1),{dy:1,edy:a,dx:1,edx:i,y:s,ey:u,x:o,ex:A,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Sd=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{left:t,top:n,right:r,bottom:i},a)||this}return ud(t,e),t}(Fd),kd=function(){function e(e,t,n,r,i){this._imageDims=new dd(i.width,i.height),this._score=e,this._classScore=t,this._className=n,this._box=new Fd(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Fd(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),_d=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return ud(t,e),t.prototype.forSize=function(n,r){var i=e.prototype.forSize.call(this,n,r);return new t(i.score,i.relativeBox,i.imageDims)},t}(kd);function Id(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function Nd(e,t,n,r){void 0===r&&(r=!0);for(var i=t.map(function(e,t){return{score:e,boxIndex:t}}).sort(function(e,t){return e.score-t.score}).map(function(e){return e.boxIndex}),a=[],o=function(){var t=i.pop();a.push(t);for(var o=i,s=[],A=0;A<o.length;A++){var u=o[A],l=e[t],c=e[u];s.push(Id(l,c,r))}i=i.filter(function(e,t){return s[t]<=n})};i.length>0;)o();return a}function Ud(e,t){return Ir(function(){var n=t[0],r=t[1],i=t[2],a=oi(fd(e.shape.slice(0,3),[1]),n),o=oi(fd(e.shape.slice(0,3),[1]),r),s=oi(fd(e.shape.slice(0,3),[1]),i),A=li([a,o,s],3);return ml(e,A)})}function Ld(e){return 1/(1+Math.exp(-e))}var Qd,Rd=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{x:t,y:n,width:r,height:i},a)||this}return ud(t,e),t}(Fd),Dd=function(){function e(e,t,n){void 0===n&&(n=new Ed(0,0));var r=t.width,i=t.height;this._imgDims=new dd(r,i),this._shift=n,this._positions=e.map(function(e){return e.mul(new Ed(r,i)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Ed(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new Ed(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new Ed(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof _d?e.box.floor():new Fd(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),i=r.useDlibAlignment,a=r.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],i=function(e){return r.sub(e).magnitude()},a=(i(t)+i(n))/2,o=Math.floor(a/.45),s=bd(e),A=Math.floor(Math.max(0,s.x-.5*o)),u=Math.floor(Math.max(0,s.y-.43*o));return new Rd(A,u,Math.min(o,this.imageWidth+A),Math.min(o,this.imageHeight+u))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map(function(e){return e.x}),n=e.map(function(e){return e.y}),r=t.reduce(function(e,t){return t<e?t:e},1/0),i=n.reduce(function(e,t){return t<e?t:e},1/0),a=t.reduce(function(e,t){return e<t?t:e},0),o=n.reduce(function(e,t){return e<t?t:e},0);return new Sd(r,i,a,o)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],bd([e[3],e[4]])]},t}(Dd),Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(bd)},t}(Dd),Od=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+wd(this.distance)+")":"")},e}(),Md=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return ud(t,e),t.assertIsValidLabeledBox=function(e,t){if(Fd.assertIsValidBox(e,t),!Bd(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(Fd),jd=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(e){return!(e instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(e){return new Float32Array(e)});return new e(t.label,n)},e}();!function(e){function t(t,n,r,i){var a=e.call(this,t,n)||this;return a._score=r,a._classScore=i,a}ud(t,e),t.assertIsValidPredictedBox=function(e,t){if(Md.assertIsValidLabeledBox(e,t),!Cd(e.score)||!Cd(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(Md);function Hd(e){return e.detection instanceof _d}function Kd(e,t){var n={detection:t};return Object.assign({},e,n)}function zd(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function Wd(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(i){t=i.toString()}var r=e?function(t){return new Promise(function(n,r){e.readFile(t,function(e,t){return e?r(e):n(t)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function Vd(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=Wd();return ld({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},i)}function Gd(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function qd(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function Xd(e){Qd=e}function Yd(){Gd()&&Xd(zd()),qd()&&Xd(Vd())}var Jd,$d={getEnv:function(){if(!Qd)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Qd},setEnv:Xd,initialize:Yd,createBrowserEnv:zd,createFileSystem:Wd,createNodejsEnv:Vd,monkeyPatch:function(e){if(Qd||Yd(),!Qd)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?Qd.Canvas:t,r=e.Image,i=void 0===r?Qd.Image:r;Qd.Canvas=n,Qd.Image=i,Qd.createCanvasElement=e.createCanvasElement||function(){return new n},Qd.createImageElement=e.createImageElement||function(){return new i},Qd.ImageData=e.ImageData||Qd.ImageData,Qd.Video=e.Video||Qd.Video,Qd.fetch=e.fetch||Qd.fetch,Qd.readFile=e.readFile||Qd.readFile},isBrowser:Gd,isNodejs:qd};function Zd(e){return $d.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function ep(e){var t=$d.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=Zd(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=r.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}Yd(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(Jd||(Jd={}));var tp=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,i=e.fontSize,a=e.fontStyle,o=e.padding;this.anchorPosition=t||Jd.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=i||14,this.fontStyle=a||"Georgia",this.padding=o||4},np=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new tp(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map(function(t){return e.measureText(t).width}).reduce(function(e,t){return e<t?t:e},0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===Jd.BOTTOM_RIGHT||n===Jd.TOP_RIGHT,i=n===Jd.BOTTOM_LEFT||n===Jd.BOTTOM_RIGHT,a=this.measureWidth(e),o=this.measureHeight(),s=r?this.anchor.x-a:this.anchor.x,A=i?this.anchor.y-o:this.anchor.y;if(t){var u=t.width,l=t.height;return{x:Math.max(Math.min(s,u-a),0),y:Math.max(Math.min(A,l-o),0)}}return{x:s,y:A}},e.prototype.draw=function(e){var t=Zd(e),n=ep(t),r=this.options,i=r.backgroundColor,a=r.fontColor,o=r.fontSize,s=r.fontStyle,A=r.padding;n.font=o+"px "+s;var u=this.measureWidth(n),l=this.measureHeight();n.fillStyle=i;var c=this.getUpperLeft(n,t);n.fillRect(c.x,c.y,u,l),n.fillStyle=a,this.text.forEach(function(e,t){var r=A+c.x,i=A+c.y+(t+1)*o;n.fillText(e,r,i)})},e}(),rp=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,i=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var a={anchorPosition:Jd.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new tp(Object.assign({},a,i))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new Fd(e),this.options=new rp(t)}e.prototype.draw=function(e){var t=ep(e),n=this.options,r=n.boxColor,i=n.lineWidth,a=this.box,o=a.x,s=a.y,A=a.width,u=a.height;t.strokeStyle=r,t.lineWidth=i,t.strokeRect(o,s,A,u);var l=this.options.label;l&&new np([l],{x:o-i/2,y:s},this.options.drawLabelOptions).draw(e)}}();function ip(e){var t=$d.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function ap(e){var t=$d.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new dd(e.naturalWidth,e.naturalHeight):e instanceof r?new dd(e.videoWidth,e.videoHeight):new dd(e.width,e.height)}function op(e){var t=e.width,n=e.height,r=(0,$d.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function sp(e,t){var n=$d.getEnv().ImageData;if(!(e instanceof n)&&!ip(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||ap(e),i=r.width,a=r.height,o=op({width:i,height:a});return e instanceof n?ep(o).putImageData(e,0,0):ep(o).drawImage(e,0,0,i,a),o}function Ap(e,t){return cd(this,void 0,void 0,function(){var n,r,i,a,o,s;return hd(this,function(A){switch(A.label){case 0:return n=t||$d.getEnv().createCanvasElement(),r=e.shape.slice(md(e)?1:0),i=r[0],a=r[1],o=r[2],s=Ir(function(){return e.as3D(i,a,o).toInt()}),[4,Wf.toPixels(s,n)];case 1:return A.sent(),s.dispose(),[2,n]}})})}function up(e){var t=$d.getEnv(),n=t.Image,r=t.Canvas,i=t.Video;return e instanceof n||e instanceof r||e instanceof i}var lp=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(e,t){if(gd(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(md(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var i=e instanceof $d.getEnv().Canvas?e:sp(e);n._canvases[t]=i,n._inputDimensions[t]=[i.height,i.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return xd(this.batchSize,0,1).map(function(t,n){return e.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,i=t/Math.max(r,n);return new dd(Math.round(n*i),Math.round(r*i))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,Ir(function(){var r=xd(n.batchSize,0,1).map(function(r){var i=n.getInput(r);if(i instanceof An){var a=md(i)?i:i.expandDims();return a=function(e,t){return void 0===t&&(t=!1),Ir(function(){var n=e.shape.slice(1),r=n[0],i=n[1];if(r===i)return e;var a=Math.abs(r-i),o=Math.round(a*(t?.5:1)),s=r>i?2:1,A=function(t){var n=e.shape.slice();return n[s]=t,oi(n,0)},u=A(o),l=a-u.shape[s],c=[t&&l?A(l):null,e,u].filter(function(e){return!!e}).map(function(e){return e.toFloat()});return li(c,s)})}(a,t),a.shape[1]===e&&a.shape[2]===e||(a=Eh.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(i instanceof $d.getEnv().Canvas)return Wf.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=$d.getEnv(),i=r.Image,a=r.Canvas;if(!(e instanceof i||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=ap(e),s=t/Math.max(o.height,o.width),A=s*o.width,u=s*o.height,l=op({width:t,height:t}),c=e instanceof a?e:sp(e),h=Math.abs(A-u)/2,f=n&&A<u?h:0,d=n&&u<A?h:0;return ep(l).drawImage(c,f,d,A,u),l}(i,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+i)}),i=Ji(r.map(function(e){return e.toFloat()})).as4D(n.batchSize,e,e,3);return i})},e}();function cp(e){return cd(this,void 0,void 0,function(){var t,n,r;return hd(this,function(i){switch(i.label){case 0:if(e instanceof lp)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(Zd)).forEach(function(e,r){if(!up(e)&&!gd(e)&&!md(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(md(e)){var i=e.shape[0];if(1!==i)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+i+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(e){return up(e)&&(t=e,new Promise(function(e,n){if(t instanceof $d.getEnv().Canvas||ip(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),e(t))}function i(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",i),n(e))}t.addEventListener("load",r),t.addEventListener("error",i)}));var t}))];case 1:return i.sent(),[2,new lp(r,Array.isArray(e))]}})})}function hp(e,t){return cd(this,void 0,void 0,function(){var n,r,i,a,o,s;return hd(this,function(A){switch(A.label){case 0:return n=$d.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,cp(e)];case 1:if((i=A.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=i.getInput(0))instanceof n?(o=a,[3,4]):[3,2];case 2:return[4,Ap(a)];case 3:o=A.sent(),A.label=4;case 4:r=o,A.label=5;case 5:return s=ep(r),[2,t.map(function(e){return e instanceof _d?e.forSize(r.width,r.height).box.floor():e}).map(function(e){return e.clipAtImageBorders(r.width,r.height)}).map(function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=op({width:r,height:i});return ep(a).putImageData(s.getImageData(t,n,r,i),0,0),a})]}})})}function fp(e,t){return cd(this,void 0,void 0,function(){return hd(this,function(n){if(!gd(e)&&!md(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(md(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Ir(function(){var n=e.shape.slice(md(e)?1:0),r=n[0],i=n[1],a=n[2],o=t.map(function(e){return e instanceof _d?e.forSize(i,r).box:e}).map(function(e){return e.clipAtImageBorders(i,r)}).map(function(t){var n=t.x,o=t.y,s=t.width,A=t.height;return fc(e.as3D(r,i,a),[o,n,0],[A,s,a])});return o})]})})}function dp(e,t){return cd(this,void 0,void 0,function(){var n;return hd(this,function(r){switch(r.label){case 0:return[4,(0,$d.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function pp(e){return cd(this,void 0,void 0,function(){return hd(this,function(t){switch(t.label){case 0:return[4,dp(e)];case 1:return[2,t.sent().json()]}})})}function gp(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",i=(e=e.replace(r,"")).split("/").filter(function(e){return e}),a=e.endsWith(".json")?i[i.length-1]:n,o=r+(e.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return{modelBaseUri:o=e.startsWith("/")?"/"+o:o,manifestUri:"/"===o?"/"+a:o+"/"+a}}function mp(e,t){return cd(this,void 0,void 0,function(){var n,r,i,a;return hd(this,function(o){switch(o.label){case 0:return n=gp(e,t),r=n.manifestUri,i=n.modelBaseUri,[4,pp(r)];case 1:return a=o.sent(),[2,Hf.loadWeights(a,i)]}})})}function vp(e,t,n){void 0===n&&(n=!1);var r=n?ap(t):t,i=r.width,a=r.height;return e.width=i,e.height=a,{width:i,height:a}}var wp=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,i=n.objProp;r[i].dispose(),r[i]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof dn})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof dn)})},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())})},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var n=t.path,r=t.tensor,i=Jr(r.dataSync());r.dispose(),e.reassignParamFromPath(n,i)})},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},e.prototype.load=function(e){return cd(this,void 0,void 0,function(){return hd(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,mp(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(e){return cd(this,void 0,void 0,function(){var t,n,r,i,a,o,s,A,u,l;return hd(this,function(c){switch(c.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=$d.getEnv().readFile,n=gp(e,this.getDefaultModelName()),r=n.manifestUri,i=n.modelBaseUri,a=function(e){return Promise.all(e.map(function(e){return t(e).then(function(e){return e.buffer})}))},o=Hf.weightsLoaderFactory(a),u=(A=JSON).parse,[4,t(r)];case 1:return s=u.apply(A,[c.sent().toString()]),[4,o(s,i)];case 2:return l=c.sent(),this.loadFromWeightMap(l),[2]}})})},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}},{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof An))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function yp(e,t,n){return Ir(function(){var r=Vl(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=$u(r,t.bias)})}function bp(e,t,n){return void 0===n&&(n=!1),Ir(function(){var r=Ic(n?$u(Ol(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):yp(e,t.conv0,[2,2])),i=yp(r,t.conv1,[1,1]),a=yp(Ic($u(r,i)),t.conv2,[1,1]);return Ic($u(r,$u(i,a)))})}function xp(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),Ir(function(){var i=Ic(n?$u(Ol(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):yp(e,t.conv0,r?[2,2]:[1,1])),a=yp(i,t.conv1,[1,1]),o=yp(Ic($u(i,a)),t.conv2,[1,1]),s=yp(Ic($u(i,$u(a,o))),t.conv3,[1,1]);return Ic($u(i,$u(a,$u(o,s))))})}function Bp(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),Ir(function(){var i=$u(Ol(e,t.filters,[1,1],n),t.bias);return r?Ic(i):i})}function Cp(e,t){Object.keys(e).forEach(function(n){t.some(function(e){return e.originalPath===n})||e[n].dispose()})}function Ep(e,t){return function(n,r,i,a){var o=ri(e(n*r*i*i),[i,i,n,r]),s=ei(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}}function Fp(e,t){return function(n,r,i){var a=ti(e(n*r),[n,r]),o=ei(e(r));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:o}}}var Sp=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function kp(e,t){return function(n,r,i){var a=ri(e(9*n),[3,3,n,1]),o=ri(e(n*r),[1,1,n,r]),s=ei(e(r));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new Sp(a,o,s)}}function _p(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),i=e(t+"/bias",1);return new Sp(n,r,i)}}function Ip(e,t){return function(n,r,i){var a=e[n];if(!pd(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return t.push({originalPath:n,paramPath:i||n}),a}}function Np(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function Up(e,t){var n=Ep(e,t),r=kp(e,t);function i(e,t,i,a){return void 0===a&&(a=!1),{conv0:a?n(e,t,3,i+"/conv0"):r(e,t,i+"/conv0"),conv1:r(t,t,i+"/conv1"),conv2:r(t,t,i+"/conv2")}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:function(e,t,n,a){void 0===a&&(a=!1);var o=i(e,t,n,a);return{conv0:o.conv0,conv1:o.conv1,conv2:o.conv2,conv3:r(t,t,n+"/conv3")}}}}function Lp(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function Qp(e,t){var n=Ip(e,t),r=Lp(n),i=_p(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2"),conv3:i(e+"/conv3")}}}}var Rp=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return ud(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return Ir(function(){var n=xp(Ud(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Zr(255)),t.dense0,!0);return n=xp(n,t.dense1),n=xp(n,t.dense2),n=xp(n,t.dense3),n=oc(n,[7,7],[2,2],"valid")})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=Qp(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Cp(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Np(e),r=n.extractWeights,i=n.getRemainingWeights,a=Up(r,t).extractDenseBlock4Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),A=a(64,128,"dense2"),u=a(128,256,"dense3");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:A,dense3:u}}}(e)},t}(wp);function Dp(e,t){return Ir(function(){return $u(Xl(e,t.weights),t.bias)})}function Tp(e){var t={},n={};return Object.keys(e).forEach(function(r){(r.startsWith("fc")?n:t)[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var Pp=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return ud(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Ir(function(){var r=e instanceof lp?t.faceFeatureExtractor.forwardInput(e):e;return Dp(r.as2D(r.shape[0],-1),n.fc)})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],i=Np(e),a=i.extractWeights,o=i.getRemainingWeights,s=Fp(a,r)(t,n,"fc");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=Tp(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Ip(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return Cp(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,i=e.slice(0,e.length-r),a=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(a)},t}(wp),Op=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Mp=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);Op.forEach(function(n,r){t[n]=e[r]})}return e.prototype.asSortedArray=function(){var e=this;return Op.map(function(t){return{expression:t,probability:e[t]}}).sort(function(e,t){return t.probability-e.probability})},e}(),jp=function(e){function t(t){return void 0===t&&(t=new Rp),e.call(this,"FaceExpressionNet",t)||this}return ud(t,e),t.prototype.forwardInput=function(e){var t=this;return Ir(function(){return wa(t.runNet(e))})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictExpressions=function(e){return cd(this,void 0,void 0,function(){var t,n,r,i,a=this;return hd(this,function(o){switch(o.label){case 0:return[4,cp(e)];case 1:return t=o.sent(),[4,this.forwardInput(t)];case 2:return n=o.sent(),[4,Promise.all(ea(n).map(function(e){return cd(a,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}})})}))];case 3:return r=o.sent(),n.dispose(),i=r.map(function(e){return new Mp(e)}),[2,t.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(Pp);function Hp(e,t){var n={expressions:t};return Object.assign({},e,n)}function Kp(e){return Hd(e)&&e.landmarks instanceof Dd&&e.unshiftedLandmarks instanceof Dd&&e.alignedRect instanceof _d}function zp(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),i=r.align(),a=e.detection.imageDims,o={landmarks:r,unshiftedLandmarks:t,alignedRect:new _d(e.detection.score,i.rescale(a.reverse()),a)};return Object.assign({},e,o)}var Wp=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,i=void 0===r||r,a=e.lineWidth,o=e.lineColor,s=e.pointSize,A=e.pointColor;this.drawLines=n,this.drawPoints=i,this.lineWidth=a||1,this.pointSize=s||2,this.lineColor=o||"rgba(0, 255, 255, 1)",this.pointColor=A||"rgba(255, 0, 255, 1)"},Vp=function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new Wp(t)}return e.prototype.draw=function(e){var t=ep(e),n=this.options,r=n.drawLines,i=n.drawPoints,a=n.lineWidth,o=n.lineColor,s=n.pointSize,A=n.pointColor;if(r&&this.faceLandmarks instanceof Pd&&(t.strokeStyle=o,t.lineWidth=a,sd(t,this.faceLandmarks.getJawOutline()),sd(t,this.faceLandmarks.getLeftEyeBrow()),sd(t,this.faceLandmarks.getRightEyeBrow()),sd(t,this.faceLandmarks.getNose()),sd(t,this.faceLandmarks.getLeftEye(),!0),sd(t,this.faceLandmarks.getRightEye(),!0),sd(t,this.faceLandmarks.getMouth(),!0)),i){t.strokeStyle=A,t.fillStyle=A;this.faceLandmarks.positions.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()})}},e}();function Gp(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){var n=t instanceof Dd?t:Kp(t)?t.landmarks:void 0;if(!n)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new Vp(n).draw(e)})}function qp(e,t){var n=[],r=Np(e),i=r.extractWeights,a=r.getRemainingWeights,o=function(e,t){var n=Ep(e,t),r=kp(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,i){return{separable_conv0:r(e,t,i+"/separable_conv0"),separable_conv1:r(t,t,i+"/separable_conv1"),expansion_conv:n(e,t,1,i+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(i,n),s=o.extractConvParams,A=o.extractSeparableConvParams,u=o.extractReductionBlockParams,l=o.extractMainBlockParams,c={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:u(32,64,"entry_flow/reduction_block_0"),reduction_block_1:u(64,128,"entry_flow/reduction_block_1")},h={};xd(t,0,1).forEach(function(e){h["main_block_"+e]=l(128,"middle_flow/main_block_"+e)});var f={reduction_block:u(128,256,"exit_flow/reduction_block"),separable_conv:A(256,512,"exit_flow/separable_conv")};if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:c,middle_flow:h,exit_flow:f}}}function Xp(e,t){var n=[],r=function(e,t){var n=Ip(e,t),r=Lp(n),i=_p(n);return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),separable_conv2:i(e+"/separable_conv2")}}}}(e,n),i=r.extractConvParams,a=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,A={conv_in:i("entry_flow/conv_in"),reduction_block_0:o("entry_flow/reduction_block_0"),reduction_block_1:o("entry_flow/reduction_block_1")},u={};xd(t,0,1).forEach(function(e){u["main_block_"+e]=s("middle_flow/main_block_"+e)});var l={reduction_block:o("exit_flow/reduction_block"),separable_conv:a("exit_flow/separable_conv")};return Cp(e,n),{params:{entry_flow:A,middle_flow:u,exit_flow:l},paramMappings:n}}function Yp(e,t,n){return $u(Ol(e,t.filters,n,"same"),t.bias)}function Jp(e,t,n){void 0===n&&(n=!0);var r=n?Ic(e):e;return r=yp(r,t.separable_conv0,[1,1]),r=yp(Ic(r),t.separable_conv1,[1,1]),r=ac(r,[3,3],[2,2],"same"),r=$u(r,Yp(e,t.expansion_conv,[2,2]))}var $p,Zp=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return ud(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return Ir(function(){var r=Ud(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Zr(256)),i=Ic(Yp(r,n.entry_flow.conv_in,[2,2]));return i=Jp(i,n.entry_flow.reduction_block_0,!1),i=Jp(i,n.entry_flow.reduction_block_1),xd(t._numMainBlocks,0,1).forEach(function(e){i=function(e,t){var n=yp(Ic(e),t.separable_conv0,[1,1]);return n=yp(Ic(n),t.separable_conv1,[1,1]),n=yp(Ic(n),t.separable_conv2,[1,1]),$u(n,e)}(i,n.middle_flow["main_block_"+e])}),i=Jp(i,n.exit_flow.reduction_block),i=Ic(yp(i,n.exit_flow.separable_conv,[1,1]))})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Xp(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return qp(e,this._numMainBlocks)},t}(wp);!function(e){e.FEMALE="female",e.MALE="male"}($p||($p={}));var eg=function(e){function t(t){void 0===t&&(t=new Zp(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return ud(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Ir(function(){var r=e instanceof lp?t.faceFeatureExtractor.forwardInput(e):e,i=oc(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:Dp(i,n.fc.age).as1D(),gender:Dp(i,n.fc.gender)}})},t.prototype.forwardInput=function(e){var t=this;return Ir(function(){var n=t.runNet(e),r=n.age,i=n.gender;return{age:r,gender:wa(i)}})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictAgeAndGender=function(e){return cd(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return hd(this,function(A){switch(A.label){case 0:return[4,cp(e)];case 1:return t=A.sent(),[4,this.forwardInput(t)];case 2:return n=A.sent(),r=ea(n.age),i=ea(n.gender),a=r.map(function(e,t){return{ageTensor:e,genderTensor:i[t]}}),[4,Promise.all(a.map(function(e){var t=e.ageTensor,n=e.genderTensor;return cd(s,void 0,void 0,function(){var e,r,i,a,o;return hd(this,function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],a=(i=r>.5)?$p.MALE:$p.FEMALE,o=i?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:a,genderProbability:o}]}})})}))];case 3:return o=A.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=Np(e),r=n.extractWeights,i=n.getRemainingWeights,a=Fp(r,t),o=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=Tp(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Ip(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Cp(e,t),{params:i,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(wp),tg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map(function(e){var n=e.width,r=e.height,i=t/Math.max(r,n);return{width:n*i,height:r*i}}),i=r.length;return Ir(function(){var n=function(e,t){return Ji([oi([68],e),oi([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=r[e],i=n.width,a=n.height;return t(i,a)?Math.abs(i-a)/2:0},o=e.mul(oi([i,136],t)).sub(Ji(Array.from(Array(i),function(e,t){return n(function(e){return a(e,function(e,t){return e<t})}(t),function(e){return a(e,function(e,t){return t<e})}(t))}))).div(Ji(Array.from(Array(i),function(e,t){return n(r[t].width,r[t].height)})));return o})},t.prototype.forwardInput=function(e){var t=this;return Ir(function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map(function(e){return{height:e[0],width:e[1]}}))})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.detectLandmarks=function(e){return cd(this,void 0,void 0,function(){var t,n,r,i=this;return hd(this,function(a){switch(a.label){case 0:return[4,cp(e)];case 1:return t=a.sent(),n=Ir(function(){return ea(i.forwardInput(t))}),[4,Promise.all(n.map(function(e,n){return cd(i,void 0,void 0,function(){var r,i,a,o,s;return hd(this,function(A){switch(A.label){case 0:return a=(i=Array).from,[4,e.data()];case 1:return r=a.apply(i,[A.sent()]),o=r.filter(function(e,t){return vd(t)}),s=r.filter(function(e,t){return!vd(t)}),[2,new Pd(Array(68).fill(0).map(function(e,t){return new Ed(o[t],s[t])}),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}})})}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(Pp),ng=function(e){function t(t){return void 0===t&&(t=new Rp),e.call(this,"FaceLandmark68Net",t)||this}return ud(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(tg);var rg=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return ud(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Ir(function(){var n=bp(Ud(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Zr(255)),t.dense0,!0);return n=bp(n,t.dense1),n=bp(n,t.dense2),n=oc(n,[14,14],[2,2],"valid")})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=Qp(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Cp(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Np(e),r=n.extractWeights,i=n.getRemainingWeights,a=Up(r,t).extractDenseBlock3Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),A=a(64,128,"dense2");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:A}}}(e)},t}(wp),ig=function(e){function t(t){return void 0===t&&(t=new rg),e.call(this,"FaceLandmark68TinyNet",t)||this}return ud(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(tg);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ud(t,e)}(ng);function ag(e,t,n,r,i){void 0===i&&(i="same");var a=t.conv,o=a.filters,s=a.bias,A=Ol(e,o,n,i);return A=function(e,t){return $u(hl(e,t.weights),t.biases)}(A=$u(A,s),t.scale),r?Ic(A):A}function og(e,t){return ag(e,t,[1,1],!1)}function sg(e,t){return ag(e,t,[2,2],!0,"valid")}function Ag(e,t){function n(n,r,i,a){var o=function(t,n,r){var i=e(t),a=i.length/(n*r*r);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+i.length+", numFilters: "+n+", filterSize: "+r);return Ir(function(){return Lc(ri(i,[n,a,r,r]),[2,3,1,0])})}(n,r,i),s=ei(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}function r(r,i,a,o){var s=n(r,i,a,o+"/conv"),A=function(n,r){var i=ei(e(n)),a=ei(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:i,biases:a}}(i,o+"/scale");return{conv:s,scale:A}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,i,a){return void 0===a&&(a=!1),{conv1:r((a?.5:1)*e,t,n,i+"/conv1"),conv2:r(e,t,n,i+"/conv2")}}}}function ug(e,t){var n=Ip(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),i=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:i}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function lg(e){var t=[],n=ug(e,t),r=n.extractConvLayerParams,i=n.extractResidualLayerParams,a=r("conv32_down"),o=i("conv32_1"),s=i("conv32_2"),A=i("conv32_3"),u=i("conv64_down"),l=i("conv64_1"),c=i("conv64_2"),h=i("conv64_3"),f=i("conv128_down"),d=i("conv128_1"),p=i("conv128_2"),g=i("conv256_down"),m=i("conv256_1"),v=i("conv256_2"),w=i("conv256_down_out"),y=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!pd(y,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+y);var b={conv32_down:a,conv32_1:o,conv32_2:s,conv32_3:A,conv64_down:u,conv64_1:l,conv64_2:c,conv64_3:h,conv128_down:f,conv128_1:d,conv128_2:p,conv256_down:g,conv256_1:m,conv256_2:v,conv256_down_out:w,fc:y};return Cp(e,t),{params:b,paramMappings:t}}function cg(e,t){var n=function(e,t){return ag(e,t,[1,1],!0)}(e,t.conv1);return n=og(n,t.conv2),n=$u(n,e),n=Ic(n)}function hg(e,t){var n=sg(e,t.conv1);n=og(n,t.conv2);var r=oc(e,2,2,"valid"),i=ai(r.shape),a=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var o=fd(n.shape);o[1]=1;var s=ai(o),A=fd((n=li([n,s],1)).shape);A[2]=1;var u=ai(A);n=li([n,u],2)}return r=a?li([r,i],3):r,n=$u(r,n),n=Ic(n)}var fg=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return ud(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return Ir(function(){var n=sg(Ud(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(Zr(256)),t.conv32_down);n=cg(n=ac(n,3,2,"valid"),t.conv32_1),n=cg(n,t.conv32_2),n=cg(n,t.conv32_3),n=cg(n=hg(n,t.conv64_down),t.conv64_1),n=cg(n,t.conv64_2),n=cg(n,t.conv64_3),n=cg(n=hg(n,t.conv128_down),t.conv128_1),n=cg(n,t.conv128_2),n=cg(n=hg(n,t.conv256_down),t.conv256_1);var r=(n=hg(n=cg(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return Xl(r,t.fc)})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.computeFaceDescriptor=function(e){return cd(this,void 0,void 0,function(){var t,n,r,i=this;return hd(this,function(a){switch(a.label){case 0:return[4,cp(e)];case 1:return t=a.sent(),n=Ir(function(){return ea(i.forwardInput(t))}),[4,Promise.all(n.map(function(e){return e.data()}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return lg(e)},t.prototype.extractParams=function(e){return function(e){var t=Np(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=Ag(n,i),o=a.extractConvLayerParams,s=a.extractResidualLayerParams,A=o(4704,32,7,"conv32_down"),u=s(9216,32,3,"conv32_1"),l=s(9216,32,3,"conv32_2"),c=s(9216,32,3,"conv32_3"),h=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),d=s(36864,64,3,"conv64_2"),p=s(36864,64,3,"conv64_3"),g=s(147456,128,3,"conv128_down",!0),m=s(147456,128,3,"conv128_1"),v=s(147456,128,3,"conv128_2"),w=s(589824,256,3,"conv256_down",!0),y=s(589824,256,3,"conv256_1"),b=s(589824,256,3,"conv256_2"),x=s(589824,256,3,"conv256_down_out"),B=Ir(function(){return Lc(ti(n(32768),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:A,conv32_1:u,conv32_2:l,conv32_3:c,conv64_down:h,conv64_1:f,conv64_2:d,conv64_3:p,conv128_down:g,conv128_1:m,conv128_2:v,conv256_down:w,conv256_1:y,conv256_2:b,conv256_down_out:x,fc:B},paramMappings:i}}(e)},t}(wp);function dg(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var pg=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,i=t.maxNumScales,a=t.scoreThresholds,o=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=i||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=o,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(e){return"number"!==typeof e}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function gg(e,t){function n(n,r,i,a,o){var s=ri(e(n*r*i*i),[i,i,n,r]),A=ei(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(o?"batch_norm_offset":"bias")}),{filters:s,bias:A}}function r(e,t,r,i){var a=n(e,t,r,i,!0);return{filters:a.filters,batch_norm_offset:a.bias}}function i(n,i,a){var o=function(n,r){var i=ri(e(9*n),[3,3,n,1]),a=ei(e(n)),o=ei(e(n)),s=ei(e(n)),A=ei(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:i,batch_norm_scale:a,batch_norm_offset:o,batch_norm_mean:s,batch_norm_variance:A}}(n,a+"/depthwise_conv");return{depthwise_conv:o,pointwise_conv:r(n,i,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:i(32,64,"mobilenetv1/conv_1"),conv_2:i(64,128,"mobilenetv1/conv_2"),conv_3:i(128,128,"mobilenetv1/conv_3"),conv_4:i(128,256,"mobilenetv1/conv_4"),conv_5:i(256,256,"mobilenetv1/conv_5"),conv_6:i(256,512,"mobilenetv1/conv_6"),conv_7:i(512,512,"mobilenetv1/conv_7"),conv_8:i(512,512,"mobilenetv1/conv_8"),conv_9:i(512,512,"mobilenetv1/conv_9"),conv_10:i(512,512,"mobilenetv1/conv_10"),conv_11:i(512,512,"mobilenetv1/conv_11"),conv_12:i(512,1024,"mobilenetv1/conv_12"),conv_13:i(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function mg(e){var t=[],n=function(e,t){var n=Ip(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function i(e){var t="mobilenetv1/conv_"+e,i="MobilenetV1/Conv2d_"+e+"_depthwise",a=t+"/depthwise_conv",o=t+"/pointwise_conv";return{depthwise_conv:{filters:n(i+"/depthwise_weights",4,a+"/filters"),batch_norm_scale:n(i+"/BatchNorm/gamma",1,a+"/batch_norm_scale"),batch_norm_offset:n(i+"/BatchNorm/beta",1,a+"/batch_norm_offset"),batch_norm_mean:n(i+"/BatchNorm/moving_mean",1,a+"/batch_norm_mean"),batch_norm_variance:n(i+"/BatchNorm/moving_variance",1,a+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,o)}}function a(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function o(e){return{box_encoding_predictor:a("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:a("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:o(0),box_predictor_1:o(1),box_predictor_2:o(2),box_predictor_3:o(3),box_predictor_4:o(4),box_predictor_5:o(5)}}}}(e,t),r=n.extractMobilenetV1Params,i=n.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!gd(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var o={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:a}};return Cp(e,t),{params:o,paramMappings:t}}function vg(e,t,n){return Ir(function(){var r=Ol(e,t.filters,n,"same");return r=$u(r,t.batch_norm_offset),ou(r,0,6)})}function wg(e,t){return Ir(function(){var n=null,r=vg(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach(function(e,t){var i=t+1,a=function(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}(i);r=function(e,t,n){return Ir(function(){var r=Kl(e,t.filters,n,"same");return r=Hu(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,.0010000000474974513),ou(r,0,6)})}(r,e.depthwise_conv,a),r=vg(r,e.pointwise_conv,[1,1]),11===i&&(n=r)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function yg(e,t,n){var r=e.arraySync(),i=Math.min(r[t][0],r[t][2]),a=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),A=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),c=Math.max(r[n][1],r[n][3]),h=(o-i)*(s-a),f=(l-A)*(c-u);if(h<=0||f<=0)return 0;var d=Math.max(i,A),p=Math.max(a,u),g=Math.min(o,l),m=Math.min(s,c),v=Math.max(g-d,0)*Math.max(m-p,0);return v/(h+f-v)}function bg(e,t){var n=function(e){var t=ea(Lc(e,[1,0])),n=[ml(t[2],t[0]),ml(t[3],t[1])];return{sizes:n,centers:[$u(t[0],nl(n[0],Zr(2))),$u(t[1],nl(n[1],Zr(2)))]}}(e),r=n.sizes,i=n.centers,a=ea(Lc(t,[1,0])),o=nl(hl(lu(nl(a[2],Zr(5))),r[0]),Zr(2)),s=$u(hl(nl(a[0],Zr(10)),r[0]),i[0]),A=nl(hl(lu(nl(a[3],Zr(5))),r[1]),Zr(2)),u=$u(hl(nl(a[1],Zr(10)),r[1]),i[1]);return Lc(Ji([ml(s,o),ml(u,A),$u(s,o),$u(u,A)]),[1,0])}function xg(e,t){return Ir(function(){var n=e.shape[0];return{boxPredictionEncoding:qi(Bp(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:qi(Bp(e,t.class_predictor),[n,-1,3])}})}var Bg=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),Cg=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return ud(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return Ir(function(){var n=e.toBatchTensor(512,!1).toFloat(),r=wg(ml(hl(n,Zr(.007843137718737125)),Zr(1)),t.mobilenetv1),i=function(e,t,n){return Ir(function(){var r=vg(e,n.conv_0,[1,1]),i=vg(r,n.conv_1,[2,2]),a=vg(i,n.conv_2,[1,1]),o=vg(a,n.conv_3,[2,2]),s=vg(o,n.conv_4,[1,1]),A=vg(s,n.conv_5,[2,2]),u=vg(A,n.conv_6,[1,1]),l=vg(u,n.conv_7,[2,2]),c=xg(t,n.box_predictor_0),h=xg(e,n.box_predictor_1),f=xg(i,n.box_predictor_2),d=xg(o,n.box_predictor_3),p=xg(A,n.box_predictor_4),g=xg(l,n.box_predictor_5);return{boxPredictions:li([c.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,d.boxPredictionEncoding,p.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:li([c.classPrediction,h.classPrediction,f.classPrediction,d.classPrediction,p.classPrediction,g.classPrediction],1)}})}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return Ir(function(){var r=e.shape[0],i=bg(qi($i(n.extra_dim,[r,1,1]),[-1,4]),qi(e,[-1,4]));i=qi(i,[r,i.shape[0]/r,4]);var a=yu(lc(t,[0,0,1],[-1,-1,-1])),o=lc(a,[0,0,0],[-1,-1,1]);return o=qi(o,[r,o.shape[1]]),{boxes:ea(i),scores:ea(o)}})}(i.boxPredictions,i.classPredictions,t.output_layer)})},t.prototype.forward=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,cp(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),cd(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b;return hd(this,function(x){switch(x.label){case 0:return n=new Bg(t),r=n.maxResults,i=n.minConfidence,[4,cp(e)];case 1:for(a=x.sent(),o=this.forwardInput(a),s=o.boxes,A=o.scores,u=s[0],l=A[0],c=1;c<s.length;c++)s[c].dispose(),A[c].dispose();return d=(f=Array).from,[4,l.data()];case 2:return h=d.apply(f,[x.sent()]),p=function(e,t,n,r,i){var a=e.shape[0],o=Math.min(n,a),s=t.map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>i}).sort(function(e,t){return t.score-e.score}),A=function(e){return e<=r?1:0},u=[];return s.forEach(function(t){if(!(u.length>=o)){for(var n=t.score,r=u.length-1;r>=0;--r){var a=yg(e,t.boxIndex,u[r]);if(0!==a&&(t.score*=A(a),t.score<=i))break}n===t.score&&u.push(t.boxIndex)}}),u}(u,h,r,.5,i),g=a.getReshapedInputDimensions(0),m=a.inputSize,v=m/g.width,w=m/g.height,y=u.arraySync(),b=p.map(function(e){var t=[Math.max(0,y[e][0]),Math.min(1,y[e][2])].map(function(e){return e*w}),n=t[0],r=t[1],i=[Math.max(0,y[e][1]),Math.min(1,y[e][3])].map(function(e){return e*v}),o=i[0],s=i[1];return new _d(h[e],new Rd(o,n,s-o,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})}),u.dispose(),l.dispose(),[2,b]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return mg(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Np(e),r=n.extractWeights,i=n.getRemainingWeights,a=gg(r,t),o=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,A=o(),u=s(),l={extra_dim:ni(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:A,prediction_layer:u,output_layer:l},paramMappings:t}}(e)},t}(wp);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ud(t,e)}(Cg);var Eg,Fg=[new Ed(.738768,.874946),new Ed(2.42204,2.65704),new Ed(4.30971,7.04493),new Ed(10.246,4.59428),new Ed(12.6868,11.8741)],Sg=[new Ed(1.603231,2.094468),new Ed(6.041143,7.080126),new Ed(2.882459,3.518061),new Ed(4.266906,5.178857),new Ed(9.041765,10.66308)],kg=[117.001,114.697,97.404],_g=function(e){return"number"===typeof e};function Ig(e){return Ir(function(){var t=hl(e,Zr(.10000000149011612));return $u(Ic(ml(e,t)),t)})}function Ng(e,t){return Ir(function(){var n=Oi(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Ol(n,t.conv.filters,[1,1],"valid"),n=ml(n,t.bn.sub),n=hl(n,t.bn.truediv),Ig(n=$u(n,t.conv.bias))})}function Ug(e,t){return Ir(function(){var n=Oi(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Vl(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),Ig(n=$u(n,t.bias))})}function Lg(e,t){var n=Ep(e,t);var r=kp(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,i,a){var o=n(r,i,3,a+"/conv"),s=function(n,r){var i=ei(e(n)),a=ei(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:i,truediv:a}}(i,a+"/bn");return{conv:o,bn:s}},extractSeparableConvParams:r}}function Qg(e,t){var n=Ip(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),i=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:i}},extractSeparableConvParams:_p(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(Eg||(Eg={}));var Rg=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),Dg=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!_g(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(e){return"string"===typeof e}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(e){return e||{}}).every(function(e){return _g(e.x)&&_g(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(_g)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return ud(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=Ng(e,t.conv0);return n=Ng(n=ac(n,[2,2],[2,2],"same"),t.conv1),n=Ng(n=ac(n,[2,2],[2,2],"same"),t.conv2),n=Ng(n=ac(n,[2,2],[2,2],"same"),t.conv3),n=Ng(n=ac(n,[2,2],[2,2],"same"),t.conv4),n=Ng(n=ac(n,[2,2],[2,2],"same"),t.conv5),n=Ng(n=ac(n,[2,2],[1,1],"same"),t.conv6),Bp(n=Ng(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?Ig(Bp(e,t.conv0,"valid",!1)):Ug(e,t.conv0);return n=Ug(n=ac(n,[2,2],[2,2],"same"),t.conv1),n=Ug(n=ac(n,[2,2],[2,2],"same"),t.conv2),n=Ug(n=ac(n,[2,2],[2,2],"same"),t.conv3),n=Ug(n=ac(n,[2,2],[2,2],"same"),t.conv4),n=Ug(n=ac(n,[2,2],[2,2],"same"),t.conv5),n=ac(n,[2,2],[1,1],"same"),n=t.conv6?Ug(n,t.conv6):n,Bp(n=t.conv7?Ug(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return Ir(function(){var i=e.toBatchTensor(t,!1).toFloat();return i=(i=n.config.meanRgb?Ud(i,n.config.meanRgb):i).div(Zr(256)),n.config.withSeparableConvs?n.runMobilenet(i,r):n.runTinyYolov2(i,r)})},t.prototype.forward=function(e,t){return cd(this,void 0,void 0,function(){var n;return hd(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,cp(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}})})},t.prototype.detect=function(e,t){return void 0===t&&(t={}),cd(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l,c,h,f,d,p=this;return hd(this,function(g){switch(g.label){case 0:return n=new Rg(t),r=n.inputSize,i=n.scoreThreshold,[4,cp(e)];case 1:return a=g.sent(),[4,this.forwardInput(a,r)];case 2:return o=g.sent(),s=Ir(function(){return ea(o)[0].expandDims()}),A={width:a.getInputWidth(0),height:a.getInputHeight(0)},[4,this.extractBoxes(s,a.getReshapedInputDimensions(0),i)];case 3:return u=g.sent(),o.dispose(),s.dispose(),l=u.map(function(e){return e.box}),c=u.map(function(e){return e.score}),h=u.map(function(e){return e.classScore}),f=u.map(function(e){return p.config.classes[e.label]}),d=Nd(l.map(function(e){return e.rescale(r)}),c,this.config.iouThreshold,!0),[2,d.map(function(e){return new kd(c[e],h[e],f[e],l[e],A)})]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],i=Qg(e,r),a=i.extractConvParams,o=i.extractConvWithBatchNormParams,s=i.extractSeparableConvParams;if(t.withSeparableConvs){var A=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?a("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:A>7?s("conv6"):void 0,conv7:A>8?s("conv7"):void 0,conv8:a("conv8")}}else n={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return Cp(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var i,a=Np(e),o=a.extractWeights,s=a.getRemainingWeights,A=[],u=Lg(o,A),l=u.extractConvParams,c=u.extractConvWithBatchNormParams,h=u.extractSeparableConvParams;if(t.withSeparableConvs){var f=r[0],d=r[1],p=r[2],g=r[3],m=r[4],v=r[5],w=r[6],y=r[7],b=r[8];i={conv0:t.isFirstLayerConv2d?l(f,d,3,"conv0"):h(f,d,"conv0"),conv1:h(d,p,"conv1"),conv2:h(p,g,"conv2"),conv3:h(g,m,"conv3"),conv4:h(m,v,"conv4"),conv5:h(v,w,"conv5"),conv6:y?h(w,y,"conv6"):void 0,conv7:b?h(y,b,"conv7"):void 0,conv8:l(b||y||w,5*n,1,"conv8")}}else f=r[0],d=r[1],p=r[2],g=r[3],m=r[4],v=r[5],w=r[6],y=r[7],b=r[8],i={conv0:c(f,d,"conv0"),conv1:c(d,p,"conv1"),conv2:c(p,g,"conv2"),conv3:c(g,m,"conv3"),conv4:c(m,v,"conv4"),conv5:c(v,w,"conv5"),conv6:c(w,y,"conv6"),conv7:c(y,b,"conv7"),conv8:l(b,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:i,paramMappings:A}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return cd(this,void 0,void 0,function(){var r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C,E,F,S,k,_,I,N,U=this;return hd(this,function(L){switch(L.label){case 0:return r=t.width,i=t.height,a=Math.max(r,i),o=a/r,s=a/i,A=e.shape[1],u=this.config.anchors.length,l=Ir(function(){var t=e.reshape([A,A,u,U.boxEncodingSize]);return[t.slice([0,0,0,0],[A,A,u,4]),t.slice([0,0,0,4],[A,A,u,1]),U.withClassScores?wa(t.slice([0,0,0,5],[A,A,u,U.config.classes.length]),3):Zr(0)]}),c=l[0],h=l[1],f=l[2],d=[],[4,h.array()];case 1:return p=L.sent(),[4,c.array()];case 2:g=L.sent(),m=0,L.label=3;case 3:if(!(m<A))return[3,12];v=0,L.label=4;case 4:if(!(v<A))return[3,11];w=0,L.label=5;case 5:return w<u?(y=Ld(p[m][v][w][0]),!n||y>n?(b=(v+Ld(g[m][v][w][0]))/A*o,x=(m+Ld(g[m][v][w][1]))/A*s,B=Math.exp(g[m][v][w][2])*this.config.anchors[w].x/A*o,C=Math.exp(g[m][v][w][3])*this.config.anchors[w].y/A*s,E=b-B/2,F=x-C/2,S={row:m,col:v,anchor:w},this.withClassScores?[4,this.extractPredictedClass(f,S)]:[3,7]):[3,9]):[3,10];case 6:return N=L.sent(),[3,8];case 7:N={classScore:1,label:0},L.label=8;case 8:_=(k=N).classScore,I=k.label,d.push(ld({box:new Sd(E,F,E+B,F+C),score:y,classScore:y*_,label:I},S)),L.label=9;case 9:return w++,[3,5];case 10:return v++,[3,4];case 11:return m++,[3,3];case 12:return c.dispose(),h.dispose(),f.dispose(),[2,d]}})})},t.prototype.extractPredictedClass=function(e,t){return cd(this,void 0,void 0,function(){var n,r,i,a;return hd(this,function(o){switch(o.label){case 0:return n=t.row,r=t.col,i=t.anchor,[4,e.array()];case 1:return a=o.sent(),[2,Array(this.config.classes.length).fill(0).map(function(e,t){return a[n][r][i][t]}).map(function(e,t){return{classScore:e,label:t}}).reduce(function(e,t){return e.classScore>t.classScore?e:t})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(wp),Tg=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:Sg,meanRgb:kg}:{anchors:Fg,withClassScores:!0});return e.call(this,n)||this}return ud(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return cd(this,void 0,void 0,function(){return hd(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new _d(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Dg);var Pg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return ud(t,e),t}(Rg),Og=function(){function e(){}return e.prototype.then=function(e){return cd(this,void 0,void 0,function(){var t;return hd(this,function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return cd(this,void 0,void 0,function(){return hd(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},e}();function Mg(e,t){var n={descriptor:t};return Object.assign({},e,n)}function jg(e,t,n,r,i){return void 0===i&&(i=function(e){return e.alignedRect}),cd(this,void 0,void 0,function(){var a,o,s,A,u;return hd(this,function(l){switch(l.label){case 0:return a=e.map(function(e){return Kp(e)?i(e):e.detection}),(s=r)?[3,5]:t instanceof An?[4,fp(t,a)]:[3,2];case 1:return A=l.sent(),[3,4];case 2:return[4,hp(t,a)];case 3:A=l.sent(),l.label=4;case 4:s=A,l.label=5;case 5:return[4,n(o=s)];case 6:return u=l.sent(),o.forEach(function(e){return e instanceof An&&e.dispose()}),[2,u]}})})}function Hg(e,t,n,r,i){return cd(this,void 0,void 0,function(){var a=this;return hd(this,function(o){return[2,jg([e],t,function(e){return cd(a,void 0,void 0,function(){return hd(this,function(t){return[2,n(e[0])]})})},r,i)]})})}function Kg(e){var t=Np(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=function(e,t){var n=Ep(e,t),r=Fp(e,t);function i(n,r){var i=ei(e(n));return t.push({paramPath:r}),i}function a(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:i(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:i(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:i(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return ld(ld({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=a([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=i(128,"rnet/prelu4_alpha"),o=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return ld(ld({},e),{fc1:t,prelu4_alpha:n,fc2_1:o,fc2_2:s})},extractONetParams:function(){var e=a([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),o=i(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),A=i(256,"onet/prelu5_alpha"),u=r(256,2,"onet/fc2_1"),l=r(256,4,"onet/fc2_2"),c=r(256,10,"onet/fc2_3");return ld(ld({},e),{conv4:t,prelu4_alpha:o,fc1:s,prelu5_alpha:A,fc2_1:u,fc2_2:l,fc2_3:c})}}}(n,i),o=a.extractPNetParams,s=a.extractRNetParams,A=a.extractONetParams,u=o(),l=s(),c=A();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:u,rnet:l,onet:c},paramMappings:i}}function zg(e){var t=[],n=function(e,t){var n=Ip(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function i(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function a(e){return n(e,1)}function o(e){return{conv1:r(e+"/conv1"),prelu1_alpha:a(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:a(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:a(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=o("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return ld(ld({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=o("rnet"),t=i("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=i("rnet/fc2_1"),s=i("rnet/fc2_2");return ld(ld({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=o("onet"),t=r("onet/conv4"),n=a("onet/prelu4_alpha"),s=i("onet/fc1"),A=a("onet/prelu5_alpha"),u=i("onet/fc2_1"),l=i("onet/fc2_2"),c=i("onet/fc2_3");return ld(ld({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:A,fc2_1:u,fc2_2:l,fc2_3:c})}}}(e,t),r=n.extractPNetParams,i=n.extractRNetParams,a=n.extractONetParams,o=r(),s=i(),A=a();return Cp(e,t),{params:{pnet:o,rnet:s,onet:A},paramMappings:t}}function Wg(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var Vg=function(e){function t(t,n,r,i){return e.call(this,{left:t,top:n,right:r,bottom:i},!0)||this}return ud(t,e),t}(Fd);function Gg(e){return Ir(function(){return hl(ml(e,Zr(127.5)),Zr(.0078125))})}function qg(e,t){return Ir(function(){return $u(Ic(e),hl(t,gu(Ic(gu(e)))))})}function Xg(e,t,n){return void 0===n&&(n=!1),Ir(function(){var r=Bp(e,t.conv1,"valid");return r=qg(r,t.prelu1_alpha),r=qg(r=Bp(r=ac(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=qg(r=Bp(r=n?r:ac(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)})}function Yg(e,t,n,r,i){i.stage1=[];var a=t.map(function(t){return Ir(function(){var n={scale:t},i=function(e,t){return Ir(function(){var n=Wg(t,e.shape.slice(1)),r=n.height,i=n.width,a=Gg(Eh.resizeBilinear(e,[r,i]));return Lc(a,[0,2,1,3])})}(e,t),a=Date.now(),o=function(e,t){return Ir(function(){var n=Xg(e,t,!0),r=Bp(n,t.conv4_1,"valid"),i=Ri(bc(r,3),3);return{prob:wa(ml(r,i),3),regions:Bp(n,t.conv4_2,"valid")}})}(i,r),s=o.prob,A=o.regions;return n.pnet=Date.now()-a,{scoresTensor:ea(ea(s,3)[1])[0],regionsTensor:ea(A)[0],scale:t,statsForScale:n}})}),o=a.map(function(e){var t=e.scoresTensor,r=e.regionsTensor,a=e.scale,o=e.statsForScale,s=function(e,t,n,r){for(var i=[],a=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)a[o][s]>=r&&i.push(new Ed(s,o));return i.map(function(e){var r=new Sd(Math.round((2*e.y+1)/n),Math.round((2*e.x+1)/n),Math.round((2*e.y+12)/n),Math.round((2*e.x+12)/n)),i=a[e.y][e.x],o=t.arraySync();return{cell:r,score:i,region:new Vg(o[e.y][e.x][0],o[e.y][e.x][1],o[e.y][e.x][2],o[e.y][e.x][3])}})}(t,r,a,n);if(t.dispose(),r.dispose(),!s.length)return i.stage1.push(o),[];var A=Date.now(),u=Nd(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.5);return o.nms=Date.now()-A,o.numBoxes=u.length,i.stage1.push(o),u.map(function(e){return s[e]})}),s=o.reduce(function(e,t){return e.concat(t)},[]),A=[],u=[];if(s.length>0){var l=Date.now(),c=Nd(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.7);i.stage1_nms=Date.now()-l,u=c.map(function(e){return s[e].score}),A=c.map(function(e){return s[e]}).map(function(e){var t=e.cell,n=e.region;return new Sd(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()})}return{boxes:A,scores:u}}function Jg(e,t,n){var r=n.width,i=n.height;return cd(this,void 0,void 0,function(){var n,a,o,s=this;return hd(this,function(A){switch(A.label){case 0:return n=ep(e),[4,Promise.all(t.map(function(t){return cd(s,void 0,void 0,function(){var r,i,a,o,s,A,u,l;return hd(this,function(c){return r=t.padAtBorders(e.height,e.width),i=r.y,a=r.ey,o=r.x,s=r.ex,A=o-1,u=i-1,l=n.getImageData(A,u,s-A,a-u),[2,$d.isNodejs()?sp(l):createImageBitmap(l)]})})}))];case 1:return a=A.sent(),o=[],a.forEach(function(e){var t=ep(op({width:r,height:i}));t.drawImage(e,0,0,r,i);for(var n=t.getImageData(0,0,r,i).data,a=[],s=0;s<n.length;s+=4)a.push(n[s+2]),a.push(n[s+1]),a.push(n[s]);o.push(a)}),[2,o.map(function(e){return Ir(function(){return Gg(Lc(ri(e,[1,r,i,3]),[0,2,1,3]).toFloat())})})]}})})}function $g(e,t,n,r,i){return cd(this,void 0,void 0,function(){var a,o,s,A,u,l,c,h,f,d,p,g,m,v;return hd(this,function(w){switch(w.label){case 0:return a=Date.now(),[4,Jg(e,t,{width:24,height:24})];case 1:return o=w.sent(),i.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(e){var t=function(e,t){return Ir(function(){var n=Xg(e,t),r=qg(Dp(qi(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),i=Dp(r,t.fc2_1),a=Ri(bc(i,1),1),o=wa(ml(i,a),1),s=Dp(r,t.fc2_2);return{scores:ea(o,1)[1],regions:s}})}(e,r);return e.dispose(),t}),i.stage2_rnet=Date.now()-a,A=s.length>1?li(s.map(function(e){return e.scores})):s[0].scores,c=(l=Array).from,[4,A.data()];case 2:return u=c.apply(l,[w.sent()]),A.dispose(),h=u.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),f=h.map(function(e){return t[e]}),d=h.map(function(e){return u[e]}),p=[],g=[],f.length>0&&(a=Date.now(),m=Nd(f,d,.7),i.stage2_nms=Date.now()-a,v=m.map(function(e){var t=s[h[e]].regions.arraySync();return new Vg(t[0][0],t[0][1],t[0][2],t[0][3])}),g=m.map(function(e){return d[e]}),p=m.map(function(e,t){return f[e].calibrate(v[t])})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose()}),[2,{boxes:p,scores:g}]}})})}function Zg(e,t,n,r,i){return cd(this,void 0,void 0,function(){var a,o,s,A,u,l,c,h,f,d,p,g,m,v,w;return hd(this,function(y){switch(y.label){case 0:return a=Date.now(),[4,Jg(e,t,{width:48,height:48})];case 1:return o=y.sent(),i.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(e){var t=function(e,t){return Ir(function(){var n=Xg(e,t);n=qg(n=Bp(n=ac(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=qg(Dp(qi(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),i=Dp(r,t.fc2_1),a=Ri(bc(i,1),1),o=wa(ml(i,a),1),s=Dp(r,t.fc2_2),A=Dp(r,t.fc2_3);return{scores:ea(o,1)[1],regions:s,points:A}})}(e,r);return e.dispose(),t}),i.stage3_onet=Date.now()-a,A=s.length>1?li(s.map(function(e){return e.scores})):s[0].scores,c=(l=Array).from,[4,A.data()];case 2:return u=c.apply(l,[y.sent()]),A.dispose(),h=u.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),f=h.map(function(e){var t=s[e].regions.arraySync();return new Vg(t[0][0],t[0][1],t[0][2],t[0][3])}),d=h.map(function(e,n){return t[e].calibrate(f[n])}),p=h.map(function(e){return u[e]}),g=[],m=[],v=[],d.length>0&&(a=Date.now(),w=Nd(d,p,.7,!1),i.stage3_nms=Date.now()-a,g=w.map(function(e){return d[e]}),m=w.map(function(e){return p[e]}),v=w.map(function(e,t){return Array(5).fill(0).map(function(n,r){var i=s[e].points.arraySync();return new Ed(i[0][r]*(g[t].width+1)+g[t].left,i[0][r+5]*(g[t].height+1)+g[t].top)})})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()}),[2,{boxes:g,scores:m,points:v}]}})})}var em=function(e){function t(){return e.call(this,"Mtcnn")||this}return ud(t,e),t.prototype.load=function(t){return cd(this,void 0,void 0,function(){return hd(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},t.prototype.loadFromDisk=function(t){return cd(this,void 0,void 0,function(){return hd(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),cd(this,void 0,void 0,function(){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x;return hd(this,function(B){switch(B.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},a=Date.now(),o=Ir(function(){return e=Ri(Wf.fromPixels(r)).toFloat(),Ir(function(){return Ji(ea(e,3).reverse(),3)});var e}),s=function(e){return o.dispose(),i.total=Date.now()-a,e},A=o.shape.slice(1),u=A[0],l=A[1],c=new pg(t),h=c.minFaceSize,f=c.scaleFactor,d=c.maxNumScales,p=c.scoreThresholds,g=c.scaleSteps,m=(g||function(e,t,n){for(var r=n[0],i=n[1],a=12/e,o=[],s=Math.min(r,i)*a,A=0;s>=12;)o.push(a*Math.pow(t,A)),s*=t,A+=1;return o}(h,f,[u,l])).filter(function(e){var t=Wg(e,[u,l]);return Math.min(t.width,t.height)>12}).slice(0,d),i.scales=m,i.pyramid=m.map(function(e){return Wg(e,[u,l])}),v=Date.now(),[4,Yg(o,m,p[0],n.pnet,i)];case 1:return w=B.sent(),i.total_stage1=Date.now()-v,w.boxes.length?(i.stage2_numInputBoxes=w.boxes.length,v=Date.now(),[4,$g(r,w.boxes,p[1],n.rnet,i)]):[2,s({results:[],stats:i})];case 2:return y=B.sent(),i.total_stage2=Date.now()-v,y.boxes.length?(i.stage3_numInputBoxes=y.boxes.length,v=Date.now(),[4,Zg(r,y.boxes,p[2],n.onet,i)]):[2,s({results:[],stats:i})];case 3:return b=B.sent(),i.total_stage3=Date.now()-v,x=b.boxes.map(function(e,t){return zp(Kd({},new _d(b.scores[t],new Rd(e.left/l,e.top/u,e.width/l,e.height/u),{height:u,width:l})),new Td(b.points[t].map(function(t){return t.sub(new Ed(e.left,e.top)).div(new Ed(e.width,e.height))}),{width:e.width,height:e.height}))}),[2,s({results:x,stats:i})]}})})},t.prototype.forward=function(e,t){return void 0===t&&(t={}),cd(this,void 0,void 0,function(){var n;return hd(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,cp(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}})})},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),cd(this,void 0,void 0,function(){var n;return hd(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,cp(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return zg(e)},t.prototype.extractParams=function(e){return Kg(e)},t}(wp),tm=[new Ed(1.603231,2.094468),new Ed(6.041143,7.080126),new Ed(2.882459,3.518061),new Ed(4.266906,5.178857),new Ed(9.041765,10.66308)],nm=[117.001,114.697,97.404],rm=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:tm,meanRgb:nm,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return ud(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return cd(this,void 0,void 0,function(){return hd(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new _d(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Dg),im={ssdMobilenetv1:new Cg,tinyFaceDetector:new rm,tinyYolov2:new Tg,mtcnn:new em,faceLandmark68Net:new ng,faceLandmark68TinyNet:new ig,faceRecognitionNet:new fg,faceExpressionNet:new jp,ageGenderNet:new eg};function am(e,t){var n={age:t};return Object.assign({},e,n)}var om=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return ud(t,e),t}(Og),sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n=this;return hd(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,jg(e=r.sent(),this.input,function(e){return cd(n,void 0,void 0,function(){return hd(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return im.faceExpressionNet.predictExpressions(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){return Hp(e,t[n])})]}})})},t.prototype.withAgeAndGender=function(){return new hm(this,this.input)},t}(om),Am=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t;return hd(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Hg(e,this.input,function(e){return im.faceExpressionNet.predictExpressions(e)},this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,Hp(e,t)]}})})},t.prototype.withAgeAndGender=function(){return new fm(this,this.input)},t}(om),um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.withAgeAndGender=function(){return new dm(this,this.input)},t.prototype.withFaceDescriptors=function(){return new mm(this,this.input)},t}(sm),lm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.withAgeAndGender=function(){return new pm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new vm(this,this.input)},t}(Am),cm=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return ud(t,e),t}(Og),hm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n=this;return hd(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,jg(e=r.sent(),this.input,function(e){return cd(n,void 0,void 0,function(){return hd(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return im.ageGenderNet.predictAgeAndGender(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){var r=t[n],i=r.age;return am(dg(e,r.gender,r.genderProbability),i)})]}})})},t.prototype.withFaceExpressions=function(){return new sm(this,this.input)},t}(cm),fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n,r,i;return hd(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Hg(e,this.input,function(e){return im.ageGenderNet.predictAgeAndGender(e)},this.extractedFaces)]:[2];case 2:return t=a.sent(),n=t.age,r=t.gender,i=t.genderProbability,[2,am(dg(e,r,i),n)]}})})},t.prototype.withFaceExpressions=function(){return new Am(this,this.input)},t}(cm),dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.withFaceExpressions=function(){return new um(this,this.input)},t.prototype.withFaceDescriptors=function(){return new mm(this,this.input)},t}(hm),pm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.withFaceExpressions=function(){return new lm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new vm(this,this.input)},t}(fm),gm=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return ud(t,e),t}(Og),mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e;return hd(this,function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,jg(e=t.sent(),this.input,function(e){return Promise.all(e.map(function(e){return im.faceRecognitionNet.computeFaceDescriptor(e)}))},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,t.sent().map(function(t,n){return Mg(e[n],t)})]}})})},t.prototype.withFaceExpressions=function(){return new um(this,this.input)},t.prototype.withAgeAndGender=function(){return new dm(this,this.input)},t}(gm),vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t;return hd(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Hg(e,this.input,function(e){return im.faceRecognitionNet.computeFaceDescriptor(e)},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return t=n.sent(),[2,Mg(e,t)]}})})},t.prototype.withFaceExpressions=function(){return new lm(this,this.input)},t.prototype.withAgeAndGender=function(){return new pm(this,this.input)},t}(gm),wm=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.useTinyLandmarkNet=r,i}return ud(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?im.faceLandmark68TinyNet:im.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(Og),ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n,r,i,a=this;return hd(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return e=o.sent(),t=e.map(function(e){return e.detection}),this.input instanceof An?[4,fp(this.input,t)]:[3,3];case 2:return r=o.sent(),[3,5];case 3:return[4,hp(this.input,t)];case 4:r=o.sent(),o.label=5;case 5:return n=r,[4,Promise.all(n.map(function(e){return a.landmarkNet.detectLandmarks(e)}))];case 6:return i=o.sent(),n.forEach(function(e){return e instanceof An&&e.dispose()}),[2,e.map(function(e,t){return zp(e,i[t])})]}})})},t.prototype.withFaceExpressions=function(){return new um(this,this.input)},t.prototype.withAgeAndGender=function(){return new dm(this,this.input)},t.prototype.withFaceDescriptors=function(){return new mm(this,this.input)},t}(wm),bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n,r,i;return hd(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?(t=e.detection,this.input instanceof An?[4,fp(this.input,[t])]:[3,3]):[2];case 2:return r=a.sent(),[3,5];case 3:return[4,hp(this.input,[t])];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return i=a.sent(),n.forEach(function(e){return e instanceof An&&e.dispose()}),[2,zp(e,i)]}})})},t.prototype.withFaceExpressions=function(){return new lm(this,this.input)},t.prototype.withAgeAndGender=function(){return new pm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new vm(this,this.input)},t}(wm),xm=function(e){function t(t,n){void 0===n&&(n=new Bg);var r=e.call(this)||this;return r.input=t,r.options=n,r}return ud(t,e),t}(Og),Bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t,n,r;return hd(this,function(i){switch(i.label){case 0:return t=(e=this).input,(n=e.options)instanceof pg?[4,im.mtcnn.forward(t,n)]:[3,2];case 1:return[2,i.sent().map(function(e){return e.detection})];case 2:if(r=n instanceof Pg?function(e){return im.tinyFaceDetector.locateFaces(e,n)}:n instanceof Bg?function(e){return im.ssdMobilenetv1.locateFaces(e,n)}:n instanceof Rg?function(e){return im.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(t){return cd(e,void 0,void 0,function(){var e;return hd(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map(function(e){return Kd({},e)}))]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new ym(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new sm(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new hm(this.runAndExtendWithFaceDetections(),this.input)},t}(xm);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ud(t,e),t.prototype.run=function(){return cd(this,void 0,void 0,function(){var e,t;return hd(this,function(n){switch(n.label){case 0:return[4,new Bm(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach(function(e){e.score>t.score&&(t=e)}),[2,t]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(t){return cd(e,void 0,void 0,function(){var e;return hd(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?Kd({},e):void 0)]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new bm(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Am(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new fm(this.runAndExtendWithFaceDetection(),this.input)}}(xm);function Cm(e,t){return void 0===t&&(t=new Bg),new Bm(e,t)}var Em=function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,i=function(){return"person "+r++};this._labeledDescriptors=n.map(function(e){if(e instanceof jd)return e;if(e instanceof Float32Array)return new jd(i(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new jd(i(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map(function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(e,t){return e-r[t]}).reduce(function(e,t){return e+Math.pow(t,2)},0))}(t,e)}).reduce(function(e,t){return e+t},0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(n){var r=n.descriptors,i=n.label;return new Od(i,t.computeMeanDistance(e,r))}).reduce(function(e,t){return e.distance<t.distance?e:t})},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new Od("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(e){return jd.fromJSON(e)});return new e(n,t.distanceThreshold)},e}();function Fm(e,t){var n=new dd(t.width,t.height),r=n.width,i=n.height;if(r<=0||i<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:i}));if(Array.isArray(e))return e.map(function(e){return Fm(e,{width:r,height:i})});if(Kp(e)){var a=e.detection.forSize(r,i),o=e.unshiftedLandmarks.forSize(a.box.width,a.box.height);return zp(Kd(e,a),o)}return Hd(e)?Kd(e,e.detection.forSize(r,i)):e instanceof Dd||e instanceof _d?e.forSize(r,i):e}function Sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rm(r.key),r)}}function _m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Im(e,t,n){return(t=Rm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach(function(t){Im(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],A=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;A=!1}else for(;!(A=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);A=!0);}catch(e){u=!0,i=e}finally{try{if(!A&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||Tm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qm(e){return function(e){if(Array.isArray(e))return Sm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Dm(e){return Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(e)}function Tm(e,t){if(e){if("string"==typeof e)return Sm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(e,t):void 0}}var Pm=function(){},Om={},Mm={},jm=null,Hm={mark:Pm,measure:Pm};try{"undefined"!==typeof window&&(Om=window),"undefined"!==typeof document&&(Mm=document),"undefined"!==typeof MutationObserver&&(jm=MutationObserver),"undefined"!==typeof performance&&(Hm=performance)}catch(Ye){}var Km,zm,Wm=(Om.navigator||{}).userAgent,Vm=void 0===Wm?"":Wm,Gm=Om,qm=Mm,Xm=jm,Ym=Hm,Jm=(Gm.document,!!qm.documentElement&&!!qm.head&&"function"===typeof qm.addEventListener&&"function"===typeof qm.createElement),$m=~Vm.indexOf("MSIE")||~Vm.indexOf("Trident/"),Zm={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},ev=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],tv="classic",nv="duotone",rv="sharp",iv="sharp-duotone",av="chisel",ov="etch",sv="jelly",Av="jelly-duo",uv="jelly-fill",lv="notdog",cv="notdog-duo",hv="slab",fv="slab-press",dv="thumbprint",pv="whiteboard",gv=[tv,nv,rv,iv,av,ov,sv,Av,uv,lv,cv,hv,fv,dv,pv],mv=(Im(Im(Im(Im(Im(Im(Im(Im(Im(Im(Km={},tv,"Classic"),nv,"Duotone"),rv,"Sharp"),iv,"Sharp Duotone"),av,"Chisel"),ov,"Etch"),sv,"Jelly"),Av,"Jelly Duo"),uv,"Jelly Fill"),lv,"Notdog"),Im(Im(Im(Im(Im(Km,cv,"Notdog Duo"),hv,"Slab"),fv,"Slab Press"),dv,"Thumbprint"),pv,"Whiteboard"),new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]])),vv=["fak","fa-kit","fakd","fa-kit-duotone"],wv={fak:"kit","fa-kit":"kit"},yv={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},bv=(Im(Im({},"kit","Kit"),"kit-duotone","Kit Duotone"),{kit:"fak"}),xv={"kit-duotone":"fakd"},Bv="duotone-group",Cv="swap-opacity",Ev="primary",Fv="secondary",Sv=(Im(Im(Im(Im(Im(Im(Im(Im(Im(Im(zm={},"classic","Classic"),"duotone","Duotone"),"sharp","Sharp"),"sharp-duotone","Sharp Duotone"),"chisel","Chisel"),"etch","Etch"),"jelly","Jelly"),"jelly-duo","Jelly Duo"),"jelly-fill","Jelly Fill"),"notdog","Notdog"),Im(Im(Im(Im(Im(zm,"notdog-duo","Notdog Duo"),"slab","Slab"),"slab-press","Slab Press"),"thumbprint","Thumbprint"),"whiteboard","Whiteboard"),Im(Im({},"kit","Kit"),"kit-duotone","Kit Duotone"),{classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}}),kv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"]),_v=[1,2,3,4,5,6,7,8,9,10],Iv=_v.concat([11,12,13,14,15,16,17,18,19,20]),Nv=[].concat(Qm(Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]})),["solid","regular","light","thin","duotone","brands","semibold"],["aw","fw","pull-left","pull-right"],["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Bv,Cv,Ev,Fv]).concat(_v.map(function(e){return"".concat(e,"x")})).concat(Iv.map(function(e){return"w-".concat(e)})),Uv="___FONT_AWESOME___",Lv="svg-inline--fa",Qv="data-fa-i2svg",Rv="data-fa-pseudo-element",Dv="data-prefix",Tv="data-icon",Pv="fontawesome-i2svg",Ov=["HTML","HEAD","STYLE","SCRIPT"],Mv=["::before","::after",":before",":after"],jv=function(){try{return!0}catch(e){return!1}}();function Hv(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[tv]}})}var Kv=Um({},Zm);Kv[tv]=Um(Um(Um(Um({},{"fa-duotone":"duotone"}),Zm[tv]),wv),yv);var zv=Hv(Kv),Wv=Um({},{chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}});Wv[tv]=Um(Um(Um(Um({},{duotone:"fad"}),Wv[tv]),bv),xv);var Vv=Hv(Wv),Gv=Um({},Sv);Gv[tv]=Um(Um({},Gv[tv]),{fak:"fa-kit"});var qv=Hv(Gv),Xv=Um({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}});Xv[tv]=Um(Um({},Xv[tv]),{"fa-kit":"fak"});Hv(Xv);var Yv=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Jv="fa-layers-text",$v=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,Zv=(Hv(Um({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),ew={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},tw=[].concat(Qm(["kit"]),Qm(Nv)),nw=Gm.FontAwesomeConfig||{};if(qm&&"function"===typeof qm.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=Lm(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=qm.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(nw[r]=i)})}var rw={styleDefault:"solid",familyDefault:tv,cssPrefix:"fa",replacementClass:Lv,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nw.familyPrefix&&(nw.cssPrefix=nw.familyPrefix);var iw=Um(Um({},rw),nw);iw.autoReplaceSvg||(iw.observeMutations=!1);var aw={};Object.keys(rw).forEach(function(e){Object.defineProperty(aw,e,{enumerable:!0,set:function(t){iw[e]=t,ow.forEach(function(e){return e(aw)})},get:function(){return iw[e]}})}),Object.defineProperty(aw,"familyPrefix",{enumerable:!0,set:function(e){iw.cssPrefix=e,ow.forEach(function(e){return e(aw)})},get:function(){return iw.cssPrefix}}),Gm.FontAwesomeConfig=aw;var ow=[];var sw=16,Aw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uw(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function lw(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function cw(e){return e.classList?lw(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function hw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fw(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function dw(e){return e.size!==Aw.size||e.x!==Aw.x||e.y!==Aw.y||e.rotate!==Aw.rotate||e.flipX||e.flipY}function pw(){var e="fa",t=Lv,n=aw.cssPrefix,r=aw.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";\n  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";\n  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";\n  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";\n  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";\n  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";\n  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";\n  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";\n  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";\n  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";\n  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";\n}\n\n.svg-inline--fa {\n  box-sizing: content-box;\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285714em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left,\n.svg-inline--fa .fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-pull-right,\n.svg-inline--fa .fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.fa-layers .svg-inline--fa {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xs {\n  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-sm {\n  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-lg {\n  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xl {\n  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-2xl {\n  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-width-auto {\n  --fa-width: auto;\n}\n\n.fa-fw,\n.fa-width-fixed {\n  --fa-width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-inline-start: var(--fa-li-margin, 2.5em);\n  padding-inline-start: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n/* Heads Up: Bordered Icons will not be supported in the future!\n  - This feature will be deprecated in the next major release of Font Awesome (v8)!\n  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.\n*/\n/* Notes:\n* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)\n* --@{v.$css-prefix}-border-padding =\n  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it\'s vertical alignment)\n  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)\n*/\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.0625em);\n  box-sizing: var(--fa-border-box-sizing, content-box);\n  padding: var(--fa-border-padding, 0.1875em 0.25em);\n}\n\n.fa-pull-left,\n.fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right,\n.fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n  .fa-bounce,\n  .fa-fade,\n  .fa-beat-fade,\n  .fa-flip,\n  .fa-pulse,\n  .fa-shake,\n  .fa-spin,\n  .fa-spin-pulse {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.svg-inline--fa.fa-inverse {\n  fill: var(--fa-inverse, #fff);\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var gw=!1;function mw(){aw.autoAddCss&&!gw&&(!function(e){if(e&&Jm){var t=qm.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=qm.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}qm.head.insertBefore(t,r)}}(pw()),gw=!0)}var vw={mixout:function(){return{dom:{css:pw,insertCss:mw}}},hooks:function(){return{beforeDOMElementCreation:function(){mw()},beforeI2svg:function(){mw()}}}},ww=Gm||{};ww[Uv]||(ww[Uv]={}),ww[Uv].styles||(ww[Uv].styles={}),ww[Uv].hooks||(ww[Uv].hooks={}),ww[Uv].shims||(ww[Uv].shims=[]);var yw=ww[Uv],bw=[],xw=function(){qm.removeEventListener("DOMContentLoaded",xw),Bw=1,bw.map(function(e){return e()})},Bw=!1;function Cw(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?hw(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(hw(e[n]),'" ')},"").trim()}(r),">").concat(a.map(Cw).join(""),"</").concat(t,">")}function Ew(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Jm&&((Bw=(qm.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(qm.readyState))||qm.addEventListener("DOMContentLoaded",xw));var Fw=function(e,t,n,r){var i,a,o,s=Object.keys(e),A=s.length,u=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<A;i++)o=u(o,e[a=s[i]],a,e);return o};function Sw(e){return 1!==Qm(e).length?null:e.codePointAt(0).toString(16)}function kw(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function _w(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=kw(t);"function"!==typeof yw.hooks.addPack||r?yw.styles[e]=Um(Um({},yw.styles[e]||{}),i):yw.hooks.addPack(e,kw(t)),"fas"===e&&_w("fa",t)}var Iw=yw.styles,Nw=yw.shims,Uw=Object.keys(qv),Lw=Uw.reduce(function(e,t){return e[t]=Object.keys(qv[t]),e},{}),Qw=null,Rw={},Dw={},Tw={},Pw={},Ow={};function Mw(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~tw.indexOf(n))?null:a}var jw,Hw=function(){var e=function(e){return Fw(Iw,function(t,n,r){return t[r]=Fw(n,e,{}),t},{})};Rw=e(function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter(function(e){return"number"===typeof e}).forEach(function(t){e[t.toString(16)]=n});return e}),Dw=e(function(e,t,n){(e[n]=n,t[2])&&t[2].filter(function(e){return"string"===typeof e}).forEach(function(t){e[t]=n});return e}),Ow=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in Iw||aw.autoFetchSvg,n=Fw(Nw,function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e},{names:{},unicodes:{}});Tw=n.names,Pw=n.unicodes,Qw=Gw(aw.styleDefault,{family:aw.familyDefault})};function Kw(e,t){return(Rw[e]||{})[t]}function zw(e,t){return(Ow[e]||{})[t]}function Ww(e){return Tw[e]||{prefix:null,iconName:null}}function Vw(){return Qw}jw=function(e){Qw=Gw(e.styleDefault,{family:aw.familyDefault})},ow.push(jw),Hw();function Gw(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?tv:t,r=zv[n][e];if(n===nv&&!e)return"fad";var i=Vv[n][e]||Vv[n][r],a=e in yw.styles?e:null;return i||a||null}function qw(e){return e.sort().filter(function(e,t,n){return n.indexOf(e)===t})}var Xw=kv.concat(vv);function Yw(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,n=void 0!==t&&t,r=null,i=qw(e.filter(function(e){return Xw.includes(e)})),a=qw(e.filter(function(e){return!Xw.includes(e)})),o=Lm(i.filter(function(e){return r=e,!ev.includes(e)}),1)[0],s=void 0===o?null:o,A=function(e){var t=tv,n=Uw.reduce(function(e,t){return e[t]="".concat(aw.cssPrefix,"-").concat(t),e},{});return gv.forEach(function(r){(e.includes(n[r])||e.some(function(e){return Lw[r].includes(e)}))&&(t=r)}),t}(i),u=Um(Um({},function(e){var t=[],n=null;return e.forEach(function(e){var r=Mw(aw.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(a)),{},{prefix:Gw(s,{family:A})});return Um(Um(Um({},u),function(e){var t=e.values,n=e.family,r=e.canonical,i=e.givenPrefix,a=void 0===i?"":i,o=e.styles,s=void 0===o?{}:o,A=e.config,u=void 0===A?{}:A,l=n===nv,c=t.includes("fa-duotone")||t.includes("fad"),h="duotone"===u.familyDefault,f="fad"===r.prefix||"fa-duotone"===r.prefix;!l&&(c||h||f)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&Jw.includes(n)){if(Object.keys(s).find(function(e){return $w.includes(e)})||u.autoFetchSvg){var d=mv.get(n).defaultShortPrefixId;r.prefix=d,r.iconName=zw(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=Vw()||"fas");return r}({values:e,family:A,styles:Iw,config:aw,canonical:u,givenPrefix:r})),function(e,t,n){var r=n.prefix,i=n.iconName;if(e||!r||!i)return{prefix:r,iconName:i};var a="fa"===t?Ww(i):{},o=zw(r,i);i=a.iconName||o||i,r=a.prefix||r,"far"!==r||Iw.far||!Iw.fas||aw.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,u))}var Jw=gv.filter(function(e){return e!==tv||e!==nv}),$w=Object.keys(Sv).filter(function(e){return e!==tv}).map(function(e){return Object.keys(Sv[e])}).flat();var Zw=function(){return function(e,t,n){return t&&km(e.prototype,t),n&&km(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}},[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=Um(Um({},e.definitions[t]||{}),i[t]),_w(t,i[t]),Hw()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach(function(t){"string"===typeof t&&(e[i][t]=o)}),e[i][a]=o}),e}}])}(),ey=[],ty={},ny={},ry=Object.keys(ny);function iy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ty[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(r))}),t}function ay(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ty[e]||[]).forEach(function(e){e.apply(null,n)})}function oy(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ny[e]?ny[e].apply(null,t):void 0}function sy(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Vw();if(t)return t=zw(n,t)||t,Ew(Ay.definitions,n,t)||Ew(yw.styles,n,t)}var Ay=new Zw,uy={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jm?(ay("beforeI2svg",e),oy("pseudoElements2svg",e),oy("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===aw.autoReplaceSvg&&(aw.autoReplaceSvg=!0),aw.observeMutations=!0,function(e){Jm&&(Bw?setTimeout(e,0):bw.push(e))}(function(){hy({autoReplaceSvgRoot:t}),ay("watch",e)})}},ly={icon:function(e){if(null===e)return null;if("object"===Dm(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:zw(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Gw(e[0]);return{prefix:n,iconName:zw(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(aw.cssPrefix,"-"))>-1||e.match(Yv))){var r=Yw(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Vw(),iconName:zw(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Vw();return{prefix:i,iconName:zw(i,e)||e}}}},cy={noAuto:function(){aw.autoReplaceSvg=!1,aw.observeMutations=!1,ay("noAuto")},config:aw,dom:uy,parse:ly,library:Ay,findIconDefinition:sy,toHtml:Cw},hy=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?qm:e;(Object.keys(yw.styles).length>0||aw.autoFetchSvg)&&Jm&&aw.autoReplaceSvg&&cy.dom.i2svg({node:t})};function fy(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return Cw(e)})}}),Object.defineProperty(e,"node",{get:function(){if(Jm){var t=qm.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function dy(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,A=e.maskId,u=e.extra,l=e.watchable,c=void 0!==l&&l,h=r.found?r:n,f=h.width,d=h.height,p=[aw.replacementClass,a?"".concat(aw.cssPrefix,"-").concat(a):""].filter(function(e){return-1===u.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(u.classes).join(" "),g={children:[],attributes:Um(Um({},u.attributes),{},{"data-prefix":i,"data-icon":a,class:p,role:u.attributes.role||"img",viewBox:"0 0 ".concat(f," ").concat(d)})};(function(e){return["aria-label","aria-labelledby","title","role"].some(function(t){return t in e})})(u.attributes)||u.attributes["aria-hidden"]||(g.attributes["aria-hidden"]="true"),c&&(g.attributes[Qv]="");var m=Um(Um({},g),{},{prefix:i,iconName:a,main:n,mask:r,maskId:A,transform:o,symbol:s,styles:Um({},u.styles)}),v=r.found&&n.found?oy("generateAbstractMask",m)||{children:[],attributes:{}}:oy("generateAbstractIcon",m)||{children:[],attributes:{}},w=v.children,y=v.attributes;return m.children=w,m.attributes=y,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(aw.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Um(Um({},i),{},{id:o}),children:r}]}]}(m):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(dw(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=fw(Um(Um({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(m)}function py(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.extra,o=e.watchable,s=void 0!==o&&o,A=Um(Um({},a.attributes),{},{class:a.classes.join(" ")});s&&(A[Qv]="");var u=Um({},a.styles);dw(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,A="";return A+=s&&$m?"translate(".concat(t.x/sw-r/2,"em, ").concat(t.y/sw-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/sw,"em), calc(-50% + ").concat(t.y/sw,"em)) "):"translate(".concat(t.x/sw,"em, ").concat(t.y/sw,"em) "),A+="scale(".concat(t.size/sw*(t.flipX?-1:1),", ").concat(t.size/sw*(t.flipY?-1:1),") "),A+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var l=fw(u);l.length>0&&(A.style=l);var c=[];return c.push({tag:"span",attributes:A,children:[t]}),c}var gy=yw.styles;function my(e){var t=e[0],n=e[1],r=Lm(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(aw.cssPrefix,"-").concat(ew.GROUP)},children:[{tag:"path",attributes:{class:"".concat(aw.cssPrefix,"-").concat(ew.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(aw.cssPrefix,"-").concat(ew.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var vy={found:!1,width:512,height:512};function wy(e,t){var n=t;return"fa"===t&&null!==aw.styleDefault&&(t=Vw()),new Promise(function(r,i){if("fa"===n){var a=Ww(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&gy[t]&&gy[t][e])return r(my(gy[t][e]));!function(e,t){jv||aw.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Um(Um({},vy),{},{icon:aw.showMissingIcons&&e&&oy("missingIconAbstract")||{}}))})}var yy=function(){},by=aw.measurePerformance&&Ym&&Ym.mark&&Ym.measure?Ym:{mark:yy,measure:yy},xy='FA "7.0.0"',By=function(e){by.mark("".concat(xy," ").concat(e," ends")),by.measure("".concat(xy," ").concat(e),"".concat(xy," ").concat(e," begins"),"".concat(xy," ").concat(e," ends"))},Cy=function(e){return by.mark("".concat(xy," ").concat(e," begins")),function(){return By(e)}},Ey=function(){};function Fy(e){return"string"===typeof(e.getAttribute?e.getAttribute(Qv):null)}function Sy(e){return qm.createElementNS("http://www.w3.org/2000/svg",e)}function ky(e){return qm.createElement(e)}function _y(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Sy:ky:t;if("string"===typeof e)return qm.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){r.appendChild(_y(e,{ceFn:n}))}),r}var Iy={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(e){t.parentNode.insertBefore(_y(e),t)}),null===t.getAttribute(Qv)&&aw.keepOriginalSource){var n=qm.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~cw(t).indexOf(aw.replacementClass))return Iy.replace(e);var r=new RegExp("".concat(aw.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===aw.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map(function(e){return Cw(e)}).join("\n");t.setAttribute(Qv,""),t.innerHTML=a}};function Ny(e){e()}function Uy(e,t){var n="function"===typeof t?t:Ey;if(0===e.length)n();else{var r=Ny;"async"===aw.mutateApproach&&(r=Gm.requestAnimationFrame||Ny),r(function(){var t=!0===aw.autoReplaceSvg?Iy.replace:Iy[aw.autoReplaceSvg]||Iy.replace,r=Cy("mutate");e.map(t),r(),n()})}}var Ly=!1;function Qy(){Ly=!0}function Ry(){Ly=!1}var Dy=null;function Ty(e){if(Xm&&aw.observeMutations){var t=e.treeCallback,n=void 0===t?Ey:t,r=e.nodeCallback,i=void 0===r?Ey:r,a=e.pseudoElementsCallback,o=void 0===a?Ey:a,s=e.observeMutationsRoot,A=void 0===s?qm:s;Dy=new Xm(function(e){if(!Ly){var t=Vw();lw(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Fy(e.addedNodes[0])&&(aw.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&aw.searchPseudoElements&&o([e.target],!0),"attributes"===e.type&&Fy(e.target)&&~Zv.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Dv):null,n=e.getAttribute?e.getAttribute(Tv):null;return t&&n}(e.target)){var r=Yw(cw(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Dv,a||t),s&&e.target.setAttribute(Tv,s)}else(A=e.target)&&A.classList&&A.classList.contains&&A.classList.contains(aw.replacementClass)&&i(e.target);var A})}}),Jm&&Dy.observe(A,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Py(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Yw(cw(e));return i.prefix||(i.prefix=Vw()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Dw[e]||{})[t]}(i.prefix,e.innerText)||Kw(i.prefix,Sw(e.innerText))),!i.iconName&&aw.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Oy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Py(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){return lw(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{})}(e),s=iy("parseNodeAttributes",{},e),A=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n}(e):[];return Um({iconName:r,prefix:i,transform:Aw,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:A,attributes:o}},s)}var My=yw.styles;function jy(e){var t="nest"===aw.autoReplaceSvg?Oy(e,{styleParser:!1}):Oy(e);return~t.extra.classes.indexOf(Jv)?oy("generateLayersText",e,t):oy("generateSvgReplacementMutation",e,t)}function Hy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Jm)return Promise.resolve();var n=qm.documentElement.classList,r=function(e){return n.add("".concat(Pv,"-").concat(e))},i=function(e){return n.remove("".concat(Pv,"-").concat(e))},a=aw.autoFetchSvg?[].concat(Qm(vv),Qm(kv)):ev.concat(Object.keys(My));a.includes("fa")||a.push("fa");var o=[".".concat(Jv,":not([").concat(Qv,"])")].concat(a.map(function(e){return".".concat(e,":not([").concat(Qv,"])")})).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=lw(e.querySelectorAll(o))}catch(l){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var A=Cy("onTree"),u=s.reduce(function(e,t){try{var n=jy(t);n&&e.push(n)}catch(l){jv||"MissingIcon"===l.name&&console.error(l)}return e},[]);return new Promise(function(e,n){Promise.all(u).then(function(n){Uy(n,function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),A(),e()})}).catch(function(e){A(),n(e)})})}function Ky(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jy(e).then(function(e){e&&Uy([e],t)})}var zy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Aw:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,A=t.maskId,u=void 0===A?null:A,l=t.classes,c=void 0===l?[]:l,h=t.attributes,f=void 0===h?{}:h,d=t.styles,p=void 0===d?{}:d;if(e){var g=e.prefix,m=e.iconName,v=e.icon;return fy(Um({type:"icon"},e),function(){return ay("beforeDOMElementCreation",{iconDefinition:e,params:t}),dy({icons:{main:my(v),mask:s?my(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:m,transform:Um(Um({},Aw),r),symbol:a,maskId:u,extra:{attributes:f,styles:p,classes:c}})})}},Wy={mixout:function(){return{icon:(e=zy,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:sy(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:sy(i||{})),e(r,Um(Um({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Hy,e.nodeCallback=Ky,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?qm:t,r=e.callback;return Hy(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.prefix,i=t.transform,a=t.symbol,o=t.mask,s=t.maskId,A=t.extra;return new Promise(function(t,u){Promise.all([wy(n,r),o.iconName?wy(o.iconName,o.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(o){var u=Lm(o,2),l=u[0],c=u[1];t([e,dy({icons:{main:l,mask:c},prefix:r,iconName:n,transform:i,symbol:a,maskId:s,extra:A,watchable:!0})])}).catch(u)})},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=fw(e.styles);return o.length>0&&(r.style=o),dw(a)&&(t=oy("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Vy={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return fy({type:"layer"},function(){ay("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e(function(e){Array.isArray(e)?e.map(function(e){n=n.concat(e.abstract)}):n=n.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(aw.cssPrefix,"-layers")].concat(Qm(r)).join(" ")},children:n}]})}}}},Gy={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,A=t.styles,u=void 0===A?{}:A;return fy({type:"counter",content:e},function(){return ay("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.extra,r=Um(Um({},n.attributes),{},{class:n.classes.join(" ")}),i=fw(n.styles);i.length>0&&(r.style=i);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),a}({content:e.toString(),title:r,extra:{attributes:s,styles:u,classes:["".concat(aw.cssPrefix,"-layers-counter")].concat(Qm(a))}})})}}}},qy={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Aw:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,A=t.styles,u=void 0===A?{}:A;return fy({type:"text",content:e},function(){return ay("beforeDOMElementCreation",{content:e,params:t}),py({content:e,transform:Um(Um({},Aw),r),extra:{attributes:s,styles:u,classes:["".concat(aw.cssPrefix,"-layers-text")].concat(Qm(a))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.transform,r=t.extra,i=null,a=null;if($m){var o=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();i=s.width/o,a=s.height/o}return Promise.resolve([e,py({content:e.innerHTML,width:i,height:a,transform:n,extra:r,watchable:!0})])}}},Xy=new RegExp('"',"ug"),Yy=[1105920,1112319],Jy=Um(Um(Um(Um({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),$y=Object.keys(Jy).reduce(function(e,t){return e[t.toLowerCase()]=Jy[t],e},{}),Zy=Object.keys($y).reduce(function(e,t){var n=$y[t];return e[t]=n[900]||Qm(Object.entries(n))[0][1],e},{});function eb(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==e.getAttribute(n))return r();var a=lw(e.children).filter(function(e){return e.getAttribute(Rv)===t})[0],o=Gm.getComputedStyle(e,t),s=o.getPropertyValue("font-family"),A=s.match($v),u=o.getPropertyValue("font-weight"),l=o.getPropertyValue("content");if(a&&!A)return e.removeChild(a),r();if(A&&"none"!==l&&""!==l){var c=o.getPropertyValue("content"),h=function(e,t){var n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return($y[n]||{})[i]||Zy[n]}(s,u),f=function(e){return Sw(Qm(e.replace(Xy,""))[0]||"")}(c),d=A[0].startsWith("FontAwesome"),p=function(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),n=e.getPropertyValue("content").replace(Xy,""),r=n.codePointAt(0),i=r>=Yy[0]&&r<=Yy[1],a=2===n.length&&n[0]===n[1];return i||a||t}(o),g=Kw(h,f),m=g;if(d){var v=function(e){var t=Pw[e],n=Kw("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(f);v.iconName&&v.prefix&&(g=v.iconName,h=v.prefix)}if(!g||p||a&&a.getAttribute(Dv)===h&&a.getAttribute(Tv)===m)r();else{e.setAttribute(n,m),a&&e.removeChild(a);var w={iconName:null,prefix:null,transform:Aw,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},y=w.extra;y.attributes[Rv]=t,wy(g,h).then(function(i){var a=dy(Um(Um({},w),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:m,extra:y,watchable:!0})),o=qm.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map(function(e){return Cw(e)}).join("\n"),e.removeAttribute(n),r()}).catch(i)}}else r()})}function tb(e){return Promise.all([eb(e,"::before"),eb(e,"::after")])}function nb(e){return e.parentNode!==document.head&&!~Ov.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Rv)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}var rb=function(e){return!!e&&Mv.some(function(t){return e.includes(t)})},ib=function(e){if(!e)return[];for(var t=new Set,n=[e],r=function(){var e=a[i];n=n.flatMap(function(t){return t.split(e).map(function(e){return e.replace(/,\s*$/,"").trim()})})},i=0,a=[/(?=\s:)/,/(?<=\)\)?[^,]*,)/];i<a.length;i++)r();n=n.flatMap(function(e){return e.includes("(")?e:e.split(",").map(function(e){return e.trim()})});var o,s=_m(n);try{for(s.s();!(o=s.n()).done;){var A=o.value;if(rb(A)){var u=Mv.reduce(function(e,t){return e.replace(t,"")},A);""!==u&&"*"!==u&&t.add(u)}}}catch(l){s.e(l)}finally{s.f()}return t};function ab(e){if(Jm){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])t=e;else if(aw.searchPseudoElementsFullScan)t=e.querySelectorAll("*");else{var n,r=new Set,i=_m(document.styleSheets);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{var o,s=_m(a.cssRules);try{for(s.s();!(o=s.n()).done;){var A,u=o.value,l=_m(ib(u.selectorText));try{for(l.s();!(A=l.n()).done;){var c=A.value;r.add(c)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){s.e(f)}finally{s.f()}}catch(d){aw.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(d.message,')\nIf it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.'))}}}catch(f){i.e(f)}finally{i.f()}if(!r.size)return;var h=Array.from(r).join(", ");try{t=e.querySelectorAll(h)}catch(p){}}return new Promise(function(e,n){var r=lw(t).filter(nb).map(tb),i=Cy("searchPseudoElements");Qy(),Promise.all(r).then(function(){i(),Ry(),e()}).catch(function(){i(),Ry(),n()})})}}var ob={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ab,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?qm:t;aw.searchPseudoElements&&ab(n)}}},sb=!1,Ab=function(e){return e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ub={mixout:function(){return{parse:{transform:function(e){return Ab(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Ab(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),A="rotate(".concat(n.rotate," 0 0)"),u={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(A)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Um({},u.outer),children:[{tag:"g",attributes:Um({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Um(Um({},t.icon.attributes),u.path)}]}]}}}},lb={x:0,y:0,width:"100%",height:"100%"};function cb(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var hb={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Yw(n.split(" ").map(function(e){return e.trim()})):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Vw()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,A=i.width,u=i.icon,l=a.width,c=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:A}),f={tag:"rect",attributes:Um(Um({},lb),{},{fill:"white"})},d=u.children?{children:u.children.map(cb)}:{},p={tag:"g",attributes:Um({},h.inner),children:[cb(Um({tag:u.tag,attributes:Um(Um({},u.attributes),h.path)},d))]},g={tag:"g",attributes:Um({},h.outer),children:[p]},m="mask-".concat(o||uw()),v="clip-".concat(o||uw()),w={tag:"mask",attributes:Um(Um({},lb),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(t=c,"g"===t.tag?t.children:[t])},w]};return n.push(y,{tag:"rect",attributes:Um({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(m,")")},lb)}),{children:n,attributes:r}}}},fb={provides:function(e){var t=!1;Gm.matchMedia&&(t=Gm.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Um(Um({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Um(Um({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Um(Um({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Um(Um({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Um(Um({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Um(Um({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Um(Um({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Um(Um({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Um(Um({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;ey=e,ty={},Object.keys(ny).forEach(function(e){-1===ry.indexOf(e)&&delete ny[e]}),ey.forEach(function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Dm(t[e])&&Object.keys(t[e]).forEach(function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){var r=e.hooks();Object.keys(r).forEach(function(e){ty[e]||(ty[e]=[]),ty[e].push(r[e])})}e.provides&&e.provides(ny)})}([vw,Wy,Vy,Gy,qy,ob,{mixout:function(){return{dom:{unwatch:function(){Qy(),sb=!0}}}},hooks:function(){return{bootstrap:function(){Ty(iy("mutationObserverCallbacks",{}))},noAuto:function(){Dy&&Dy.disconnect()},watch:function(e){var t=e.observeMutationsRoot;sb?Ry():Ty(iy("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ub,hb,fb,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:cy});var db=cy.parse,pb=cy.icon;var gb=n(500);function mb(e){return t=e,(t-=0)===t?e:(e=e.replaceAll(/[_-]+(.)?/g,(e,t)=>t?t.toUpperCase():"")).charAt(0).toLowerCase()+e.slice(1);var t}function vb(e){return e.charAt(0).toUpperCase()+e.slice(1)}var wb=new Map;function yb(e){if(wb.has(e))return wb.get(e);const t={};let n=0;const r=e.length;for(;n<r;){const i=e.indexOf(";",n),a=-1===i?r:i,o=e.slice(n,a).trim();if(o){const e=o.indexOf(":");if(e>0){const n=o.slice(0,e).trim(),r=o.slice(e+1).trim();if(n&&r){const e=mb(n);t[e.startsWith("webkit")?vb(e):e]=r}}}n=a+1}if(1e3===wb.size){const e=wb.keys().next().value;e&&wb.delete(e)}return wb.set(e,t),t}var bb=(e,t)=>{const n=(0,r.useId)();return e||(t?n:void 0)},xb=gb.gte("7.0.0","7.0.0"),Bb="fa-beat",Cb="fa-fade",Eb="fa-beat-fade",Fb="fa-bounce",Sb="fa-shake",kb="fa-spin",_b="fa-spin-pulse",Ib="fa-spin-reverse",Nb="fa-pulse",Ub={left:"fa-pull-left",right:"fa-pull-right"},Lb={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},Qb={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Rb="fa-border",Db="fa-fw",Tb="fa-flip",Pb="fa-flip-horizontal",Ob="fa-flip-vertical",Mb="fa-inverse",jb="fa-rotate-by",Hb="fa-swap-opacity",Kb="fa-width-auto";function zb(e){if(e)return(e=>"object"===typeof e&&"icon"in e&&!!e.icon)(e)?e:db.icon(e)}var Wb=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"react-fontawesome";this.enabled=!1;let t=!1;try{t="undefined"!==typeof process&&!1}catch{}this.scope=e,this.enabled=t}log(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(`[${this.scope}]`,...t)}}warn(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn(`[${this.scope}]`,...t)}}error(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(`[${this.scope}]`,...t)}}}("FontAwesomeIcon"),Vb={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},Gb=new Set(Object.keys(Vb)),qb=r.forwardRef((e,t)=>{const n={...Vb,...e},{icon:r,mask:i,symbol:a,title:o,titleId:s,maskId:A,transform:u}=n,l=bb(A,Boolean(i)),c=bb(s,Boolean(o)),h=zb(r);if(!h)return Wb.error("Icon lookup is undefined",r),null;const f=function(e){const{beat:t,fade:n,beatFade:r,bounce:i,shake:a,spin:o,spinPulse:s,spinReverse:A,pulse:u,fixedWidth:l,inverse:c,border:h,flip:f,size:d,rotation:p,pull:g,swapOpacity:m,rotateBy:v,widthAuto:w,className:y}=e,b=[];return y&&b.push(...y.split(" ")),t&&b.push(Bb),n&&b.push(Cb),r&&b.push(Eb),i&&b.push(Fb),a&&b.push(Sb),o&&b.push(kb),A&&b.push(Ib),s&&b.push(_b),u&&b.push(Nb),l&&b.push(Db),c&&b.push(Mb),h&&b.push(Rb),!0===f&&b.push(Tb),"horizontal"!==f&&"both"!==f||b.push(Pb),"vertical"!==f&&"both"!==f||b.push(Ob),void 0!==d&&null!==d&&b.push(Qb[d]),void 0!==p&&null!==p&&0!==p&&b.push(Lb[p]),void 0!==g&&null!==g&&b.push(Ub[g]),m&&b.push(Hb),xb?(v&&b.push(jb),w&&b.push(Kb),b):b}(n),d="string"===typeof u?db.transform(u):u,p=zb(i),g=pb(h,{...f.length>0&&{classes:f},...d&&{transform:d},...p&&{mask:p},symbol:a,title:o,titleId:c,maskId:l});if(!g)return Wb.error("Could not find icon",h),null;const{abstract:m}=g,v={ref:t};for(const y of(w=n,Object.keys(w)))Gb.has(y)||(v[y]=n[y]);var w;return Xb(m[0],v)});qb.displayName="FontAwesomeIcon";var Xb=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;const i=(n.children||[]).map(n=>e(t,n)),a=n.attributes||{},o={};for(const[u,l]of Object.entries(a))switch(!0){case"class"===u:o.className=l,delete a.class;break;case"style"===u:o.style=yb(String(l));break;case"aria-label"===u:o["aria-label"]=l,o["aria-hidden"]="false";break;case"aria-hidden"===u:o["aria-hidden"]=o["aria-label"]?"false":l;break;case u.startsWith("aria-"):case u.startsWith("data-"):o[u.toLowerCase()]=l;break;default:o[mb(u)]=l}const{style:s,...A}=r;return s&&(o.style=o.style?{...o.style,...s}:s),t(n.tag,{...A,...o},...i)}.bind(null,r.createElement),Yb={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},Jb={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},$b=Jb,Zb={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},ex=n(5239),tx=n.n(ex),nx=n(2284),rx=Uint8Array,ix=Uint16Array,ax=Int32Array,ox=new rx([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sx=new rx([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ax=new rx([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ux=function(e,t){for(var n=new ix(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new ax(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},lx=ux(ox,2),cx=lx.b,hx=lx.r;cx[28]=258,hx[258]=28;for(var fx=ux(sx,0),dx=(fx.b,fx.r),px=new ix(32768),gx=0;gx<32768;++gx){var mx=(43690&gx)>>1|(21845&gx)<<1;mx=(61680&(mx=(52428&mx)>>2|(13107&mx)<<2))>>4|(3855&mx)<<4,px[gx]=((65280&mx)>>8|(255&mx)<<8)>>1}var vx=function(e,t,n){for(var r=e.length,i=0,a=new ix(t);i<r;++i)e[i]&&++a[e[i]-1];var o,s=new ix(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new ix(1<<t);var A=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],c=s[e[i]-1]++<<l,h=c|(1<<l)-1;c<=h;++c)o[px[c]>>A]=u}else for(o=new ix(r),i=0;i<r;++i)e[i]&&(o[i]=px[s[e[i]-1]++]>>15-e[i]);return o},wx=new rx(288);for(gx=0;gx<144;++gx)wx[gx]=8;for(gx=144;gx<256;++gx)wx[gx]=9;for(gx=256;gx<280;++gx)wx[gx]=7;for(gx=280;gx<288;++gx)wx[gx]=8;var yx=new rx(32);for(gx=0;gx<32;++gx)yx[gx]=5;var bx=vx(wx,9,0),xx=vx(yx,5,0),Bx=function(e){return(e+7)/8|0},Cx=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new rx(e.subarray(t,n))},Ex=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Fx=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Sx=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:Qx,l:0};if(1==i){var o=new rx(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],A=n[1],u=0,l=1,c=2;for(n[0]={s:-1,f:s.f+A.f,l:s,r:A};l!=i-1;)s=n[n[u].f<n[c].f?u++:c++],A=n[u!=l&&n[u].f<n[c].f?u++:c++],n[l++]={s:-1,f:s.f+A.f,l:s,r:A};var h=a[0].s;for(r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var f=new ix(h+1),d=kx(n[l-1],f,0);if(d>t){r=0;var p=0,g=d-t,m=1<<g;for(a.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});r<i;++r){var v=a[r].s;if(!(f[v]>t))break;p+=m-(1<<d-f[v]),f[v]=t}for(p>>=g;p>0;){var w=a[r].s;f[w]<t?p-=1<<t-f[w]++-1:++r}for(;r>=0&&p;--r){var y=a[r].s;f[y]==t&&(--f[y],++p)}d=t}return{t:new rx(f),l:d}},kx=function(e,t,n){return-1==e.s?Math.max(kx(e.l,t,n+1),kx(e.r,t,n+1)):t[e.s]=n},_x=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ix(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Ix=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Nx=function(e,t,n){var r=n.length,i=Bx(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},Ux=function(e,t,n,r,i,a,o,s,A,u,l){Ex(t,l++,n),++i[256];for(var c=Sx(i,15),h=c.t,f=c.l,d=Sx(a,15),p=d.t,g=d.l,m=_x(h),v=m.c,w=m.n,y=_x(p),b=y.c,x=y.n,B=new ix(19),C=0;C<v.length;++C)++B[31&v[C]];for(C=0;C<b.length;++C)++B[31&b[C]];for(var E=Sx(B,7),F=E.t,S=E.l,k=19;k>4&&!F[Ax[k-1]];--k);var _,I,N,U,L=u+5<<3,Q=Ix(i,wx)+Ix(a,yx)+o,R=Ix(i,h)+Ix(a,p)+o+14+3*k+Ix(B,F)+2*B[16]+3*B[17]+7*B[18];if(A>=0&&L<=Q&&L<=R)return Nx(t,l,e.subarray(A,A+u));if(Ex(t,l,1+(R<Q)),l+=2,R<Q){_=vx(h,f,0),I=h,N=vx(p,g,0),U=p;var D=vx(F,S,0);Ex(t,l,w-257),Ex(t,l+5,x-1),Ex(t,l+10,k-4),l+=14;for(C=0;C<k;++C)Ex(t,l+3*C,F[Ax[C]]);l+=3*k;for(var T=[v,b],P=0;P<2;++P){var O=T[P];for(C=0;C<O.length;++C){var M=31&O[C];Ex(t,l,D[M]),l+=F[M],M>15&&(Ex(t,l,O[C]>>5&127),l+=O[C]>>12)}}}else _=bx,I=wx,N=xx,U=yx;for(C=0;C<s;++C){var j=r[C];if(j>255){Fx(t,l,_[(M=j>>18&31)+257]),l+=I[M+257],M>7&&(Ex(t,l,j>>23&31),l+=ox[M]);var H=31&j;Fx(t,l,N[H]),l+=U[H],H>3&&(Fx(t,l,j>>5&8191),l+=sx[H])}else Fx(t,l,_[j]),l+=I[j]}return Fx(t,l,_[256]),l+I[256]},Lx=new ax([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qx=new rx(0),Rx=function(e,t,n,r,i,a){var o=a.z||e.length,s=new rx(r+o+5*(1+Math.ceil(o/7e3))+i),A=s.subarray(r,s.length-i),u=a.l,l=7&(a.r||0);if(t){l&&(A[0]=a.r>>3);for(var c=Lx[t-1],h=c>>13,f=8191&c,d=(1<<n)-1,p=a.p||new ix(32768),g=a.h||new ix(d+1),m=Math.ceil(n/3),v=2*m,w=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<v)&d},y=new ax(25e3),b=new ix(288),x=new ix(32),B=0,C=0,E=a.i||0,F=0,S=a.w||0,k=0;E+2<o;++E){var _=w(E),I=32767&E,N=g[_];if(p[I]=N,g[_]=I,S<=E){var U=o-E;if((B>7e3||F>24576)&&(U>423||!u)){l=Ux(e,A,0,y,b,x,C,F,k,E-k,l),F=B=C=0,k=E;for(var L=0;L<286;++L)b[L]=0;for(L=0;L<30;++L)x[L]=0}var Q=2,R=0,D=f,T=I-N&32767;if(U>2&&_==w(E-T))for(var P=Math.min(h,U)-1,O=Math.min(32767,E),M=Math.min(258,U);T<=O&&--D&&I!=N;){if(e[E+Q]==e[E+Q-T]){for(var j=0;j<M&&e[E+j]==e[E+j-T];++j);if(j>Q){if(Q=j,R=T,j>P)break;var H=Math.min(T,j-2),K=0;for(L=0;L<H;++L){var z=E-T+L&32767,W=z-p[z]&32767;W>K&&(K=W,N=z)}}}T+=(I=N)-(N=p[I])&32767}if(R){y[F++]=268435456|hx[Q]<<18|dx[R];var V=31&hx[Q],G=31&dx[R];C+=ox[V]+sx[G],++b[257+V],++x[G],S=E+Q,++B}else y[F++]=e[E],++b[e[E]]}}for(E=Math.max(E,S);E<o;++E)y[F++]=e[E],++b[e[E]];l=Ux(e,A,u,y,b,x,C,F,k,E-k,l),u||(a.r=7&l|A[l/8|0]<<3,l-=7,a.h=g,a.p=p,a.i=E,a.w=S)}else{for(E=a.w||0;E<o+u;E+=65535){var q=E+65535;q>=o&&(A[l/8|0]=u,q=o),l=Nx(A,l+1,e.subarray(E,q))}a.i=o}return Cx(s,0,r+Bx(l)+i)},Dx=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=0|n.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Tx=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new rx(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Rx(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},Px=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Ox=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Dx();i.p(t.dictionary),Px(e,2,i.d())}};function Mx(e,t){t||(t={});var n=Dx();n.p(e);var r=Tx(e,t,t.dictionary?6:2,4);return Ox(r,t),Px(r,r.length-4,n.d()),r}var jx="undefined"!=typeof TextDecoder&&new TextDecoder;try{jx.decode(Qx,{stream:!0})}catch(Ye){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],A=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;A=!1}else for(;!(A=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);A=!0);}catch(e){u=!0,i=e}finally{try{if(!A&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zx(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Wx=new TextEncoder;const Vx=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),Gx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class qx{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,i=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof qx)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?i:0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=Gx[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===Vx&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const i=new Gx[t](e.buffer);return this.offset+=n,i.reverse(),i}const a=new Gx[t](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return zx(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return zx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Wx.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xx(e){let t=e.length;for(;--t>=0;)e[t]=0}const Yx=256,Jx=286,$x=30,Zx=15,eB=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tB=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),rB=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iB=new Array(576);Xx(iB);const aB=new Array(60);Xx(aB);const oB=new Array(512);Xx(oB);const sB=new Array(256);Xx(sB);const AB=new Array(29);Xx(AB);const uB=new Array($x);function lB(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let cB,hB,fB;function dB(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Xx(uB);const pB=e=>e<256?oB[e]:oB[256+(e>>>7)],gB=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},mB=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,gB(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},vB=(e,t,n)=>{mB(e,n[2*t],n[2*t+1])},wB=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},yB=(e,t,n)=>{const r=new Array(16);let i,a,o=0;for(i=1;i<=Zx;i++)o=o+n[i-1]<<1,r[i]=o;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=wB(r[t]++,t))}},bB=e=>{let t;for(t=0;t<Jx;t++)e.dyn_ltree[2*t]=0;for(t=0;t<$x;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},xB=e=>{e.bi_valid>8?gB(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},BB=(e,t,n,r)=>{const i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},CB=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&BB(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!BB(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},EB=(e,t,n)=>{let r,i,a,o,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?vB(e,i,t):(a=sB[i],vB(e,a+Yx+1,t),o=eB[a],0!==o&&(i-=AB[a],mB(e,i,o)),r--,a=pB(r),vB(e,a,n),o=tB[a],0!==o&&(r-=uB[a],mB(e,r,o)))}while(s<e.sym_next);vB(e,256,t)},FB=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,A,u=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==n[2*o]?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)A=e.heap[++e.heap_len]=u<2?++u:0,n[2*A]=1,e.depth[A]=0,e.opt_len--,i&&(e.static_len-=r[2*A+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)CB(e,n,o);A=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],CB(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*A]=n[2*o]+n[2*s],e.depth[A]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=A,e.heap[1]=A++,CB(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,A=t.stat_desc.max_length;let u,l,c,h,f,d,p=0;for(h=0;h<=Zx;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],h=n[2*n[2*l+1]+1]+1,h>A&&(h=A,p++),n[2*l+1]=h,l>r||(e.bl_count[h]++,f=0,l>=s&&(f=o[l-s]),d=n[2*l],e.opt_len+=d*(h+f),a&&(e.static_len+=d*(i[2*l+1]+f)));if(0!==p){do{for(h=A-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[A]--,p-=2}while(p>0);for(h=A;0!==h;h--)for(l=e.bl_count[h];0!==l;)c=e.heap[--u],c>r||(n[2*c+1]!==h&&(e.opt_len+=(h-n[2*c+1])*n[2*c],n[2*c+1]=h),l--)}})(e,t),yB(n,u,e.bl_count)},SB=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,A=7,u=4;for(0===o&&(A=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<A&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4))},kB=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,A=7,u=4;for(0===o&&(A=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<A&&i===o)){if(s<u)do{vB(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==a&&(vB(e,i,e.bl_tree),s--),vB(e,16,e.bl_tree),mB(e,s-3,2)):s<=10?(vB(e,17,e.bl_tree),mB(e,s-3,3)):(vB(e,18,e.bl_tree),mB(e,s-11,7));s=0,a=i,0===o?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4)}};let _B=!1;const IB=(e,t,n,r)=>{mB(e,0+(r?1:0),3),xB(e),gB(e,n),gB(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var NB=e=>{_B||((()=>{let e,t,n,r,i;const a=new Array(16);for(n=0,r=0;r<28;r++)for(AB[r]=n,e=0;e<1<<eB[r];e++)sB[n++]=r;for(sB[n-1]=r,i=0,r=0;r<16;r++)for(uB[r]=i,e=0;e<1<<tB[r];e++)oB[i++]=r;for(i>>=7;r<$x;r++)for(uB[r]=i<<7,e=0;e<1<<tB[r]-7;e++)oB[256+i++]=r;for(t=0;t<=Zx;t++)a[t]=0;for(e=0;e<=143;)iB[2*e+1]=8,e++,a[8]++;for(;e<=255;)iB[2*e+1]=9,e++,a[9]++;for(;e<=279;)iB[2*e+1]=7,e++,a[7]++;for(;e<=287;)iB[2*e+1]=8,e++,a[8]++;for(yB(iB,287,a),e=0;e<$x;e++)aB[2*e+1]=5,aB[2*e]=wB(e,5);cB=new lB(iB,eB,257,Jx,Zx),hB=new lB(aB,tB,0,$x,Zx),fB=new lB(new Array(0),nB,0,19,7)})(),_B=!0),e.l_desc=new dB(e.dyn_ltree,cB),e.d_desc=new dB(e.dyn_dtree,hB),e.bl_desc=new dB(e.bl_tree,fB),e.bi_buf=0,e.bi_valid=0,bB(e)},UB=(e,t,n,r)=>{let i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Yx;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),FB(e,e.l_desc),FB(e,e.d_desc),o=(e=>{let t;for(SB(e,e.dyn_ltree,e.l_desc.max_code),SB(e,e.dyn_dtree,e.d_desc.max_code),FB(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*rB[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?IB(e,t,n,r):4===e.strategy||a===i?(mB(e,2+(r?1:0),3),EB(e,iB,aB)):(mB(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(mB(e,t-257,5),mB(e,n-1,5),mB(e,r-4,4),i=0;i<r;i++)mB(e,e.bl_tree[2*rB[i]+1],3);kB(e,e.dyn_ltree,t-1),kB(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),EB(e,e.dyn_ltree,e.dyn_dtree)),bB(e),r&&xB(e)},LB=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(sB[n]+Yx+1)]++,e.dyn_dtree[2*pB(t)]++),e.sym_next===e.sym_end),QB=e=>{mB(e,2,3),vB(e,256,iB),(e=>{16===e.bi_valid?(gB(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},RB={_tr_init:NB,_tr_stored_block:IB,_tr_flush_block:UB,_tr_tally:LB,_tr_align:QB};var DB=(e,t,n,r)=>{let i=65535&e,a=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{i=i+t[r++]|0,a=a+i|0}while(--o);i%=65521,a%=65521}return i|a<<16};const TB=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var PB=(e,t,n,r)=>{const i=TB,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},OB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MB={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:jB,_tr_stored_block:HB,_tr_flush_block:KB,_tr_tally:zB,_tr_align:WB}=RB,{Z_NO_FLUSH:VB,Z_PARTIAL_FLUSH:GB,Z_FULL_FLUSH:qB,Z_FINISH:XB,Z_BLOCK:YB,Z_OK:JB,Z_STREAM_END:$B,Z_STREAM_ERROR:ZB,Z_DATA_ERROR:eC,Z_BUF_ERROR:tC,Z_DEFAULT_COMPRESSION:nC,Z_FILTERED:rC,Z_HUFFMAN_ONLY:iC,Z_RLE:aC,Z_FIXED:oC,Z_DEFAULT_STRATEGY:sC,Z_UNKNOWN:AC,Z_DEFLATED:uC}=MB,lC=258,cC=262,hC=42,fC=113,dC=666,pC=(e,t)=>(e.msg=OB[t],t),gC=e=>2*e-(e>4?9:0),mC=e=>{let t=e.length;for(;--t>=0;)e[t]=0},vC=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let wC=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const yC=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},bC=(e,t)=>{KB(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,yC(e.strm)},xC=(e,t)=>{e.pending_buf[e.pending++]=t},BC=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},CC=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=DB(e.adler,t,i,n):2===e.state.wrap&&(e.adler=PB(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},EC=(e,t)=>{let n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const A=e.strstart>e.w_size-cC?e.strstart-(e.w_size-cC):0,u=e.window,l=e.w_mask,c=e.prev,h=e.strstart+lC;let f=u[a+o-1],d=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,u[n+o]===d&&u[n+o-1]===f&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<h);if(r=lC-(h-a),a=h-lC,r>o){if(e.match_start=t,o=r,r>=s)break;f=u[a+o-1],d=u[a+o]}}}while((t=c[t&l])>A&&0!==--i);return o<=e.lookahead?o:e.lookahead},FC=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cC)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),vC(e),r+=t),0===e.strm.avail_in)break;if(n=CC(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=wC(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=wC(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<cC&&0!==e.strm.avail_in)},SC=(e,t)=>{let n,r,i,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<a&&(0===n&&t!==XB||t===VB||n!==r+e.strm.avail_in))break;o=t===XB&&n===r+e.strm.avail_in?1:0,HB(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,yC(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(CC(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==VB&&t!==XB&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(CC(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,a=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=a||(r||t===XB)&&t!==VB&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,o=t===XB&&0===e.strm.avail_in&&n===r?1:0,HB(e,e.block_start,n,o),e.block_start+=n,yC(e.strm)),o?3:1)},kC=(e,t)=>{let n,r;for(;;){if(e.lookahead<cC){if(FC(e),e.lookahead<cC&&t===VB)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wC(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-cC&&(e.match_length=EC(e,n)),e.match_length>=3)if(r=zB(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=wC(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wC(e,e.ins_h,e.window[e.strstart+1]);else r=zB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(bC(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===XB?(bC(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(bC(e,!1),0===e.strm.avail_out)?1:2},_C=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<cC){if(FC(e),e.lookahead<cC&&t===VB)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wC(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-cC&&(e.match_length=EC(e,n),e.match_length<=5&&(e.strategy===rC||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=zB(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=wC(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(bC(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=zB(e,0,e.window[e.strstart-1]),r&&bC(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=zB(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===XB?(bC(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(bC(e,!1),0===e.strm.avail_out)?1:2};function IC(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const NC=[new IC(0,0,0,0,SC),new IC(4,4,8,4,kC),new IC(4,5,16,8,kC),new IC(4,6,32,32,kC),new IC(4,4,16,16,_C),new IC(8,16,32,32,_C),new IC(8,16,128,128,_C),new IC(8,32,128,256,_C),new IC(32,128,258,1024,_C),new IC(32,258,258,4096,_C)];function UC(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=uC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mC(this.dyn_ltree),mC(this.dyn_dtree),mC(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mC(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mC(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const LC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==hC&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==fC&&t.status!==dC?1:0},QC=e=>{if(LC(e))return pC(e,ZB);e.total_in=e.total_out=0,e.data_type=AC;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?hC:fC,e.adler=2===t.wrap?0:1,t.last_flush=-2,jB(t),JB},RC=e=>{const t=QC(e);return t===JB&&(e=>{e.window_size=2*e.w_size,mC(e.head),e.max_lazy_match=NC[e.level].max_lazy,e.good_match=NC[e.level].good_length,e.nice_match=NC[e.level].nice_length,e.max_chain_length=NC[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},DC=(e,t,n,r,i,a)=>{if(!e)return ZB;let o=1;if(t===nC&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==uC||r<8||r>15||t<0||t>9||a<0||a>oC||8===r&&1!==o)return pC(e,ZB);8===r&&(r=9);const s=new UC;return e.state=s,s.strm=e,s.status=hC,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=a,s.method=n,RC(e)};var TC=(e,t)=>{if(LC(e)||t>YB||t<0)return e?pC(e,ZB):ZB;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===dC&&t!==XB)return pC(e,0===e.avail_out?tC:ZB);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(yC(e),0===e.avail_out)return n.last_flush=-1,JB}else if(0===e.avail_in&&gC(t)<=gC(r)&&t!==XB)return pC(e,tC);if(n.status===dC&&0!==e.avail_in)return pC(e,tC);if(n.status===hC&&0===n.wrap&&(n.status=fC),n.status===hC){let t=uC+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=iC||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,BC(n,t),0!==n.strstart&&(BC(n,e.adler>>>16),BC(n,65535&e.adler)),e.adler=1,n.status=fC,yC(e),0!==n.pending)return n.last_flush=-1,JB}if(57===n.status)if(e.adler=0,xC(n,31),xC(n,139),xC(n,8),n.gzhead)xC(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),xC(n,255&n.gzhead.time),xC(n,n.gzhead.time>>8&255),xC(n,n.gzhead.time>>16&255),xC(n,n.gzhead.time>>24&255),xC(n,9===n.level?2:n.strategy>=iC||n.level<2?4:0),xC(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(xC(n,255&n.gzhead.extra.length),xC(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=PB(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(xC(n,0),xC(n,0),xC(n,0),xC(n,0),xC(n,0),xC(n,9===n.level?2:n.strategy>=iC||n.level<2?4:0),xC(n,3),n.status=fC,yC(e),0!==n.pending)return n.last_flush=-1,JB;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=PB(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,yC(e),0!==n.pending)return n.last_flush=-1,JB;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=PB(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=PB(e.adler,n.pending_buf,n.pending-r,r)),yC(e),0!==n.pending)return n.last_flush=-1,JB;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,xC(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=PB(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=PB(e.adler,n.pending_buf,n.pending-r,r)),yC(e),0!==n.pending)return n.last_flush=-1,JB;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,xC(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=PB(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(yC(e),0!==n.pending))return n.last_flush=-1,JB;xC(n,255&e.adler),xC(n,e.adler>>8&255),e.adler=0}if(n.status=fC,yC(e),0!==n.pending)return n.last_flush=-1,JB}if(0!==e.avail_in||0!==n.lookahead||t!==VB&&n.status!==dC){let r=0===n.level?SC(n,t):n.strategy===iC?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(FC(e),0===e.lookahead)){if(t===VB)return 1;break}if(e.match_length=0,n=zB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(bC(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===XB?(bC(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(bC(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===aC?((e,t)=>{let n,r,i,a;const o=e.window;for(;;){if(e.lookahead<=lC){if(FC(e),e.lookahead<=lC&&t===VB)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+lC;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=lC-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=zB(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=zB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(bC(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===XB?(bC(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(bC(e,!1),0===e.strm.avail_out)?1:2})(n,t):NC[n.level].func(n,t);if(3!==r&&4!==r||(n.status=dC),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),JB;if(2===r&&(t===GB?WB(n):t!==YB&&(HB(n,0,0,!1),t===qB&&(mC(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),yC(e),0===e.avail_out))return n.last_flush=-1,JB}return t!==XB?JB:n.wrap<=0?$B:(2===n.wrap?(xC(n,255&e.adler),xC(n,e.adler>>8&255),xC(n,e.adler>>16&255),xC(n,e.adler>>24&255),xC(n,255&e.total_in),xC(n,e.total_in>>8&255),xC(n,e.total_in>>16&255),xC(n,e.total_in>>24&255)):(BC(n,e.adler>>>16),BC(n,65535&e.adler)),yC(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?JB:$B)},PC=(e,t)=>{let n=t.length;if(LC(e))return ZB;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==hC||r.lookahead)return ZB;if(1===i&&(e.adler=DB(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(mC(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,FC(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=wC(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,FC(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,JB},OC={deflateInit:(e,t)=>DC(e,t,uC,15,8,sC),deflateInit2:DC,deflateReset:RC,deflateResetKeep:QC,deflateSetHeader:(e,t)=>LC(e)||2!==e.state.wrap?ZB:(e.state.gzhead=t,JB),deflate:TC,deflateEnd:e=>{if(LC(e))return ZB;const t=e.state.status;return e.state=null,t===fC?pC(e,eC):JB},deflateSetDictionary:PC,deflateInfo:"pako deflate (from Nodeca project)"};const MC=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jC=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)MC(n,t)&&(e[t]=n[t])}}return e},HC=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let KC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(xU){KC=!1}const zC=new Uint8Array(256);for(let n=0;n<256;n++)zC[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;zC[254]=zC[254]=1;var WC=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},VC=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const a=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){a[i++]=t;continue}let o=zC[t];if(o>4)a[i++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?a[i++]=65533:t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&KC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,i)},GC=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+zC[e[n]]>t?n:t};var qC=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const XC=Object.prototype.toString,{Z_NO_FLUSH:YC,Z_SYNC_FLUSH:JC,Z_FULL_FLUSH:$C,Z_FINISH:ZC,Z_OK:eE,Z_STREAM_END:tE,Z_DEFAULT_COMPRESSION:nE,Z_DEFAULT_STRATEGY:rE,Z_DEFLATED:iE}=MB;function aE(e){this.options=jC({level:nE,method:iE,chunkSize:16384,windowBits:15,memLevel:8,strategy:rE},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qC,this.strm.avail_out=0;let n=OC.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==eE)throw new Error(OB[n]);if(t.header&&OC.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?WC(t.dictionary):"[object ArrayBuffer]"===XC.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=OC.deflateSetDictionary(this.strm,e),n!==eE)throw new Error(OB[n]);this._dict_set=!0}}function oE(e,t){const n=new aE(t);if(n.push(e,!0),n.err)throw n.msg||OB[n.err];return n.result}aE.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ZC:YC,"string"===typeof e?n.input=WC(e):"[object ArrayBuffer]"===XC.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===JC||a===$C)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=OC.deflate(n,a),i===tE)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=OC.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===eE;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},aE.prototype.onData=function(e){this.chunks.push(e)},aE.prototype.onEnd=function(e){e===eE&&(this.result=HC(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sE={Deflate:aE,deflate:oE,deflateRaw:function(e,t){return(t=t||{}).raw=!0,oE(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,oE(e,t)},constants:MB};const AE=16209;var uE=function(e,t){let n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C,E;const F=e.state;n=e.next_in,C=e.input,r=n+(e.avail_in-5),i=e.next_out,E=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),s=F.dmax,A=F.wsize,u=F.whave,l=F.wnext,c=F.window,h=F.hold,f=F.bits,d=F.lencode,p=F.distcode,g=(1<<F.lenbits)-1,m=(1<<F.distbits)-1;e:do{f<15&&(h+=C[n++]<<f,f+=8,h+=C[n++]<<f,f+=8),v=d[h&g];t:for(;;){if(w=v>>>24,h>>>=w,f-=w,w=v>>>16&255,0===w)E[i++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=d[(65535&v)+(h&(1<<w)-1)];continue t}if(32&w){F.mode=16191;break e}e.msg="invalid literal/length code",F.mode=AE;break e}y=65535&v,w&=15,w&&(f<w&&(h+=C[n++]<<f,f+=8),y+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=C[n++]<<f,f+=8,h+=C[n++]<<f,f+=8),v=p[h&m];n:for(;;){if(w=v>>>24,h>>>=w,f-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=p[(65535&v)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",F.mode=AE;break e}if(b=65535&v,w&=15,f<w&&(h+=C[n++]<<f,f+=8,f<w&&(h+=C[n++]<<f,f+=8)),b+=h&(1<<w)-1,b>s){e.msg="invalid distance too far back",F.mode=AE;break e}if(h>>>=w,f-=w,w=i-a,b>w){if(w=b-w,w>u&&F.sane){e.msg="invalid distance too far back",F.mode=AE;break e}if(x=0,B=c,0===l){if(x+=A-w,w<y){y-=w;do{E[i++]=c[x++]}while(--w);x=i-b,B=E}}else if(l<w){if(x+=A+l-w,w-=l,w<y){y-=w;do{E[i++]=c[x++]}while(--w);if(x=0,l<y){w=l,y-=w;do{E[i++]=c[x++]}while(--w);x=i-b,B=E}}}else if(x+=l-w,w<y){y-=w;do{E[i++]=c[x++]}while(--w);x=i-b,B=E}for(;y>2;)E[i++]=B[x++],E[i++]=B[x++],E[i++]=B[x++],y-=3;y&&(E[i++]=B[x++],y>1&&(E[i++]=B[x++]))}else{x=i-b;do{E[i++]=E[x++],E[i++]=E[x++],E[i++]=E[x++],y-=3}while(y>2);y&&(E[i++]=E[x++],y>1&&(E[i++]=E[x++]))}break}}break}}while(n<r&&i<o);y=f>>3,n-=y,f-=y<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<o?o-i+257:257-(i-o),F.hold=h,F.bits=f};const lE=15,cE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pE=(e,t,n,r,i,a,o,s)=>{const A=s.bits;let u,l,c,h,f,d,p=0,g=0,m=0,v=0,w=0,y=0,b=0,x=0,B=0,C=0,E=null;const F=new Uint16Array(16),S=new Uint16Array(16);let k,_,I,N=null;for(p=0;p<=lE;p++)F[p]=0;for(g=0;g<r;g++)F[t[n+g]]++;for(w=A,v=lE;v>=1&&0===F[v];v--);if(w>v&&(w=v),0===v)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(m=1;m<v&&0===F[m];m++);for(w<m&&(w=m),x=1,p=1;p<=lE;p++)if(x<<=1,x-=F[p],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(S[1]=0,p=1;p<lE;p++)S[p+1]=S[p]+F[p];for(g=0;g<r;g++)0!==t[n+g]&&(o[S[t[n+g]]++]=g);if(0===e?(E=N=o,d=20):1===e?(E=cE,N=hE,d=257):(E=fE,N=dE,d=0),C=0,g=0,p=m,f=a,y=w,b=0,c=-1,B=1<<w,h=B-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){k=p-b,o[g]+1<d?(_=0,I=o[g]):o[g]>=d?(_=N[o[g]-d],I=E[o[g]-d]):(_=96,I=0),u=1<<p-b,l=1<<y,m=l;do{l-=u,i[f+(C>>b)+l]=k<<24|_<<16|I}while(0!==l);for(u=1<<p-1;C&u;)u>>=1;if(0!==u?(C&=u-1,C+=u):C=0,g++,0===--F[p]){if(p===v)break;p=t[n+o[g]]}if(p>w&&(C&h)!==c){for(0===b&&(b=w),f+=m,y=p-b,x=1<<y;y+b<v&&(x-=F[y+b],!(x<=0));)y++,x<<=1;if(B+=1<<y,1===e&&B>852||2===e&&B>592)return 1;c=C&h,i[c]=w<<24|y<<16|f-a}}return 0!==C&&(i[f+C]=p-b<<24|64<<16),s.bits=w,0};const{Z_FINISH:gE,Z_BLOCK:mE,Z_TREES:vE,Z_OK:wE,Z_STREAM_END:yE,Z_NEED_DICT:bE,Z_STREAM_ERROR:xE,Z_DATA_ERROR:BE,Z_MEM_ERROR:CE,Z_BUF_ERROR:EE,Z_DEFLATED:FE}=MB,SE=16180,kE=16190,_E=16191,IE=16192,NE=16194,UE=16199,LE=16200,QE=16206,RE=16209,DE=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function TE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const PE=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<SE||t.mode>16211?1:0},OE=e=>{if(PE(e))return xE;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=SE,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,wE},ME=e=>{if(PE(e))return xE;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,OE(e)},jE=(e,t)=>{let n;if(PE(e))return xE;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?xE:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ME(e))},HE=(e,t)=>{if(!e)return xE;const n=new TE;e.state=n,n.strm=e,n.window=null,n.mode=SE;const r=jE(e,t);return r!==wE&&(e.state=null),r};let KE,zE,WE=!0;const VE=e=>{if(WE){KE=new Int32Array(512),zE=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pE(1,e.lens,0,288,KE,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pE(2,e.lens,0,32,zE,0,e.work,{bits:5}),WE=!1}e.lencode=KE,e.lenbits=9,e.distcode=zE,e.distbits=5},GE=(e,t,n,r)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),(r-=i)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var qE=(e,t)=>{let n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C=0;const E=new Uint8Array(4);let F,S;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(PE(e)||!e.output||!e.input&&0!==e.avail_in)return xE;n=e.state,n.mode===_E&&(n.mode=IE),o=e.next_out,i=e.output,A=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,c=s,h=A,B=wE;e:for(;;)switch(n.mode){case SE:if(0===n.wrap){n.mode=IE;break}for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,E[0]=255&u,E[1]=u>>>8&255,n.check=PB(n.check,E,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=RE;break}if((15&u)!==FE){e.msg="unknown compression method",n.mode=RE;break}if(u>>>=4,l-=4,x=8+(15&u),0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){e.msg="invalid window size",n.mode=RE;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:_E,u=0,l=0;break;case 16181:for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==FE){e.msg="unknown compression method",n.mode=RE;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=RE;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=PB(n.check,E,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=PB(n.check,E,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=PB(n.check,E,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=PB(n.check,E,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>s&&(f=s),f&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+f),x)),512&n.flags&&4&n.wrap&&(n.check=PB(n.check,r,f,a)),s-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;f=0;do{x=r[a+f++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&f<s);if(512&n.flags&&4&n.wrap&&(n.check=PB(n.check,r,f,a)),s-=f,a+=f,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;f=0;do{x=r[a+f++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&f<s);if(512&n.flags&&4&n.wrap&&(n.check=PB(n.check,r,f,a)),s-=f,a+=f,x)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=RE;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=_E;break;case 16189:for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}e.adler=n.check=DE(u),u=0,l=0,n.mode=kE;case kE:if(0===n.havedict)return e.next_out=o,e.avail_out=A,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,bE;e.adler=n.check=1,n.mode=_E;case _E:if(t===mE||t===vE)break e;case IE:if(n.last){u>>>=7&l,l-=7&l,n.mode=QE;break}for(;l<3;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(VE(n),n.mode=UE,t===vE){u>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=RE}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=RE;break}if(n.length=65535&u,u=0,l=0,n.mode=NE,t===vE)break e;case NE:n.mode=16195;case 16195:if(f=n.length,f){if(f>s&&(f=s),f>A&&(f=A),0===f)break e;i.set(r.subarray(a,a+f),o),s-=f,a+=f,A-=f,o+=f,n.length-=f;break}n.mode=_E;break;case 16196:for(;l<14;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=RE;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.lens[k[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},B=pE(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,B){e.msg="invalid code lengths set",n.mode=RE;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[u&(1<<n.lenbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(v<16)u>>>=g,l-=g,n.lens[n.have++]=v;else{if(16===v){for(S=g+2;l<S;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=RE;break}x=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===v){for(S=g+3;l<S;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=g,l-=g,x=0,f=3+(7&u),u>>>=3,l-=3}else{for(S=g+7;l<S;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=g,l-=g,x=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=RE;break}for(;f--;)n.lens[n.have++]=x}}if(n.mode===RE)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=RE;break}if(n.lenbits=9,F={bits:n.lenbits},B=pE(1,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,B){e.msg="invalid literal/lengths set",n.mode=RE;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},B=pE(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,B){e.msg="invalid distances set",n.mode=RE;break}if(n.mode=UE,t===vE)break e;case UE:n.mode=LE;case LE:if(s>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,uE(e,h),o=e.next_out,i=e.output,A=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,n.mode===_E&&(n.back=-1);break}for(n.back=0;C=n.lencode[u&(1<<n.lenbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(m&&0===(240&m)){for(w=g,y=m,b=v;C=n.lencode[b+((u&(1<<w+y)-1)>>w)],g=C>>>24,m=C>>>16&255,v=65535&C,!(w+g<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,n.length=v,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=_E;break}if(64&m){e.msg="invalid literal/length code",n.mode=RE;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;l<S;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;C=n.distcode[u&(1<<n.distbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(0===(240&m)){for(w=g,y=m,b=v;C=n.distcode[b+((u&(1<<w+y)-1)>>w)],g=C>>>24,m=C>>>16&255,v=65535&C,!(w+g<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=RE;break}n.offset=v,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;l<S;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=RE;break}n.mode=16204;case 16204:if(0===A)break e;if(f=h-A,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=RE;break}f>n.wnext?(f-=n.wnext,d=n.wsize-f):d=n.wnext-f,f>n.length&&(f=n.length),p=n.window}else p=i,d=o-n.offset,f=n.length;f>A&&(f=A),A-=f,n.length-=f;do{i[o++]=p[d++]}while(--f);0===n.length&&(n.mode=LE);break;case 16205:if(0===A)break e;i[o++]=n.length,A--,n.mode=LE;break;case QE:if(n.wrap){for(;l<32;){if(0===s)break e;s--,u|=r[a++]<<l,l+=8}if(h-=A,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?PB(n.check,i,h,o-h):DB(n.check,i,h,o-h)),h=A,4&n.wrap&&(n.flags?u:DE(u))!==n.check){e.msg="incorrect data check",n.mode=RE;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=RE;break}u=0,l=0}n.mode=16208;case 16208:B=yE;break e;case RE:B=BE;break e;case 16210:return CE;default:return xE}return e.next_out=o,e.avail_out=A,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<RE&&(n.mode<QE||t!==gE))&&GE(e,e.output,e.next_out,h-e.avail_out),c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?PB(n.check,i,h,e.next_out-h):DB(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===_E?128:0)+(n.mode===UE||n.mode===NE?256:0),(0===c&&0===h||t===gE)&&B===wE&&(B=EE),B},XE={inflateReset:ME,inflateReset2:jE,inflateResetKeep:OE,inflateInit:e=>HE(e,15),inflateInit2:HE,inflate:qE,inflateEnd:e=>{if(PE(e))return xE;let t=e.state;return t.window&&(t.window=null),e.state=null,wE},inflateGetHeader:(e,t)=>{if(PE(e))return xE;const n=e.state;return 0===(2&n.wrap)?xE:(n.head=t,t.done=!1,wE)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,a;return PE(e)?xE:(r=e.state,0!==r.wrap&&r.mode!==kE?xE:r.mode===kE&&(i=1,i=DB(i,t,n,0),i!==r.check)?BE:(a=GE(e,t,n,n),a?(r.mode=16210,CE):(r.havedict=1,wE)))},inflateInfo:"pako inflate (from Nodeca project)"};var YE=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const JE=Object.prototype.toString,{Z_NO_FLUSH:$E,Z_FINISH:ZE,Z_OK:eF,Z_STREAM_END:tF,Z_NEED_DICT:nF,Z_STREAM_ERROR:rF,Z_DATA_ERROR:iF,Z_MEM_ERROR:aF}=MB;function oF(e){this.options=jC({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qC,this.strm.avail_out=0;let n=XE.inflateInit2(this.strm,t.windowBits);if(n!==eF)throw new Error(OB[n]);if(this.header=new YE,XE.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=WC(t.dictionary):"[object ArrayBuffer]"===JE.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=XE.inflateSetDictionary(this.strm,t.dictionary),n!==eF)))throw new Error(OB[n])}function sF(e,t){const n=new oF(t);if(n.push(e),n.err)throw n.msg||OB[n.err];return n.result}oF.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ZE:$E,"[object ArrayBuffer]"===JE.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=XE.inflate(n,o),a===nF&&i&&(a=XE.inflateSetDictionary(n,i),a===eF?a=XE.inflate(n,o):a===iF&&(a=nF));n.avail_in>0&&a===tF&&n.state.wrap>0&&0!==e[n.next_in];)XE.inflateReset(n),a=XE.inflate(n,o);switch(a){case rF:case iF:case nF:case aF:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||a===tF))if("string"===this.options.to){let e=GC(n.output,n.next_out),t=n.next_out-e,i=VC(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==eF||0!==s){if(a===tF)return a=XE.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},oF.prototype.onData=function(e){this.chunks.push(e)},oF.prototype.onEnd=function(e){e===eF&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=HC(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var AF={Inflate:oF,inflate:sF,inflateRaw:function(e,t){return(t=t||{}).raw=!0,sF(e,t)},ungzip:sF,constants:MB};const{Deflate:uF,deflate:lF,deflateRaw:cF,gzip:hF}=sE,{Inflate:fF,inflate:dF,inflateRaw:pF,ungzip:gF}=AF;var mF=fF,vF=dF;const wF=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;wF[n]=e}const yF=4294967295;function bF(e,t){return(function(e,t,n){let r=e;for(let i=0;i<n;i++)r=wF[255&(r^t[i])]^r>>>8;return r}(yF,e,t)^yF)>>>0}function xF(e,t,n){const r=e.readUint32(),i=bF(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function BF(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function CF(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function EF(e,t,n,r){let i=0;if(0===n.length)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function FF(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function SF(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+kF(t[a-i],n[a],n[a-i])&255}}function kF(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function _F(e,t,n,r,i,a){switch(e){case 0:BF(t,n,i);break;case 1:CF(t,n,i,a);break;case 2:EF(t,n,r,i);break;case 3:FF(t,n,r,i,a);break;case 4:SF(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const IF=new Uint16Array([255]),NF=255===new Uint8Array(IF.buffer)[0];function UF(e){return(255&e)<<8|e>>8&255}const LF=new Uint16Array([255]),QF=255===new Uint8Array(LF.buffer)[0],RF=new Uint8Array(0);function DF(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),A=new Uint8Array(r*s);let u,l,c=RF,h=0;for(let f=0;f<r;f++){switch(u=t.subarray(h+1,h+1+s),l=A.subarray(f*s,(f+1)*s),t[h]){case 0:BF(u,l,s);break;case 1:CF(u,l,s,o);break;case 2:EF(u,l,c,s);break;case 3:FF(u,l,c,s,o);break;case 4:SF(u,l,c,s,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=l,h+=s+1}if(16===a){const e=new Uint16Array(A.buffer);if(QF)for(let t=0;t<e.length;t++)e[t]=TF(e[t]);return e}return A}function TF(e){return(255&e)<<8|e>>8&255}const PF=Uint8Array.of(137,80,78,71,13,10,26,10);function OF(e){if(!function(e){if(e.length<PF.length)return!1;for(let t=0;t<PF.length;t++)if(e[t]!==PF[t])return!1;return!0}(e.readBytes(PF.length)))throw new Error("wrong PNG signature")}const MF="tEXt",jF=new TextDecoder("latin1");function HF(e){if(zF(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const KF=/^[\u0000-\u00FF]*$/;function zF(e){if(!KF.test(e))throw new Error("invalid latin1 text")}function WF(e,t,n){const r=VF(t);e[r]=function(e,t){return jF.decode(e.readBytes(t))}(t,n-r.length-1)}function VF(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=jF.decode(e.readBytes(t-e.offset-1));return e.skip(1),HF(n),n}const GF=-1,qF=0,XF=2,YF=3,JF=4,$F=6,ZF=-1,eS=0,tS=-1,nS=0,rS=-1,iS=0,aS=1,oS=0,sS=1,AS=2,uS=0,lS=1;class cS extends qx{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new mF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ZF,this._filterMethod=tS,this._interlaceMethod=rS,this._colorType=GF,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(OF(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(OF(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case MF:WF(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?xF(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?xF(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case qF:n=1;break;case XF:n=3;break;case YF:n=1;break;case JF:n=2;break;case $F:n=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==eS)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case qF:case XF:if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case YF:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=VF(this),n=this.readUint8();if(n!==eS)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:vF(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=DF({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case oS:break;case sS:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case AS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case uS:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){const{index:a,frameIndex:o}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[o+n]}break;case lS:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:s}=r(i,a);for(let r=0;r<this._png.channels;r++){const i=t.data[s+this._png.channels-1]/n,a=r%(this._png.channels-1)===0?1:t.data[s+r],A=Math.floor(i*a+(1-i)*e.data[o+r]);e.data[o+r]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==nS)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===iS)this._png.data=DF({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==aS)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,A=new Uint8Array(r*n*s);let u=0;for(let l=0;l<7;l++){const e=o[l],i=Math.ceil((n-e.x)/e.xStep),a=Math.ceil((r-e.y)/e.yStep);if(i<=0||a<=0)continue;const c=i*s,h=new Uint8Array(c);for(let o=0;o<a;o++){const a=t[u++],l=t.subarray(u,u+c);u+=c;const f=new Uint8Array(c);_F(a,l,f,h,c,s),h.set(f);for(let t=0;t<i;t++){const i=e.x+t*e.xStep,a=e.y+o*e.yStep;if(!(i>=n||a>=r))for(let e=0;e<s;e++)A[(a*n+i)*s+e]=f[t*s+e]}}}if(16===a){const e=new Uint16Array(A.buffer);if(NF)for(let t=0;t<e.length;t++)e[t]=UF(e[t]);return e}return A}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:oS,blendOp:uS,data:e}),this._inflator=new mF,this._writingDataChunks=!1}}var hS;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(hS||(hS={}));var fS=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function dS(){fS.console&&"function"==typeof fS.console.log&&fS.console.log.apply(fS.console,arguments)}var pS={log:dS,warn:function(e){fS.console&&("function"==typeof fS.console.warn?fS.console.warn.apply(fS.console,arguments):dS.call(null,arguments))},error:function(e){fS.console&&("function"==typeof fS.console.error?fS.console.error.apply(fS.console,arguments):dS(e))}};function gS(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){wS(r.response,t,n)},r.onerror=function(){pS.error("could not download file")},r.send()}function mS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(Je){}return t.status>=200&&t.status<=299}function vS(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(Je){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var wS=fS.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,nx.A)(window))||window!==fS?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=fS.URL||fS.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?mS(i.href)?gS(e,t,n):vS(i,i.target="_blank"):vS(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){vS(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(mS(e))gS(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){vS(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,nx.A)(t)&&(pS.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return gS(e,t,n);var i="application/octet-stream"===e.type,a=/constructor/i.test(fS.HTMLElement)||fS.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,nx.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var A=fS.URL||fS.webkitURL,u=A.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){A.revokeObjectURL(u)},4e4)}});function yS(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var bS=fS.atob.bind(fS),xS=fS.btoa.bind(fS);function BS(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=ES(n,r,i,a,t[0],7,-680876936),a=ES(a,n,r,i,t[1],12,-389564586),i=ES(i,a,n,r,t[2],17,606105819),r=ES(r,i,a,n,t[3],22,-1044525330),n=ES(n,r,i,a,t[4],7,-176418897),a=ES(a,n,r,i,t[5],12,1200080426),i=ES(i,a,n,r,t[6],17,-1473231341),r=ES(r,i,a,n,t[7],22,-45705983),n=ES(n,r,i,a,t[8],7,1770035416),a=ES(a,n,r,i,t[9],12,-1958414417),i=ES(i,a,n,r,t[10],17,-42063),r=ES(r,i,a,n,t[11],22,-1990404162),n=ES(n,r,i,a,t[12],7,1804603682),a=ES(a,n,r,i,t[13],12,-40341101),i=ES(i,a,n,r,t[14],17,-1502002290),n=FS(n,r=ES(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=FS(a,n,r,i,t[6],9,-1069501632),i=FS(i,a,n,r,t[11],14,643717713),r=FS(r,i,a,n,t[0],20,-373897302),n=FS(n,r,i,a,t[5],5,-701558691),a=FS(a,n,r,i,t[10],9,38016083),i=FS(i,a,n,r,t[15],14,-660478335),r=FS(r,i,a,n,t[4],20,-405537848),n=FS(n,r,i,a,t[9],5,568446438),a=FS(a,n,r,i,t[14],9,-1019803690),i=FS(i,a,n,r,t[3],14,-187363961),r=FS(r,i,a,n,t[8],20,1163531501),n=FS(n,r,i,a,t[13],5,-1444681467),a=FS(a,n,r,i,t[2],9,-51403784),i=FS(i,a,n,r,t[7],14,1735328473),n=SS(n,r=FS(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=SS(a,n,r,i,t[8],11,-2022574463),i=SS(i,a,n,r,t[11],16,1839030562),r=SS(r,i,a,n,t[14],23,-35309556),n=SS(n,r,i,a,t[1],4,-1530992060),a=SS(a,n,r,i,t[4],11,1272893353),i=SS(i,a,n,r,t[7],16,-155497632),r=SS(r,i,a,n,t[10],23,-1094730640),n=SS(n,r,i,a,t[13],4,681279174),a=SS(a,n,r,i,t[0],11,-358537222),i=SS(i,a,n,r,t[3],16,-722521979),r=SS(r,i,a,n,t[6],23,76029189),n=SS(n,r,i,a,t[9],4,-640364487),a=SS(a,n,r,i,t[12],11,-421815835),i=SS(i,a,n,r,t[15],16,530742520),n=kS(n,r=SS(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=kS(a,n,r,i,t[7],10,1126891415),i=kS(i,a,n,r,t[14],15,-1416354905),r=kS(r,i,a,n,t[5],21,-57434055),n=kS(n,r,i,a,t[12],6,1700485571),a=kS(a,n,r,i,t[3],10,-1894986606),i=kS(i,a,n,r,t[10],15,-1051523),r=kS(r,i,a,n,t[1],21,-2054922799),n=kS(n,r,i,a,t[8],6,1873313359),a=kS(a,n,r,i,t[15],10,-30611744),i=kS(i,a,n,r,t[6],15,-1560198380),r=kS(r,i,a,n,t[13],21,1309151649),n=kS(n,r,i,a,t[4],6,-145523070),a=kS(a,n,r,i,t[11],10,-1120210379),i=kS(i,a,n,r,t[2],15,718787259),r=kS(r,i,a,n,t[9],21,-343485551),e[0]=DS(n,e[0]),e[1]=DS(r,e[1]),e[2]=DS(i,e[2]),e[3]=DS(a,e[3])}function CS(e,t,n,r,i,a){return t=DS(DS(t,e),DS(r,a)),DS(t<<i|t>>>32-i,n)}function ES(e,t,n,r,i,a,o){return CS(t&n|~t&r,e,t,i,a,o)}function FS(e,t,n,r,i,a,o){return CS(t&r|n&~r,e,t,i,a,o)}function SS(e,t,n,r,i,a,o){return CS(t^n^r,e,t,i,a,o)}function kS(e,t,n,r,i,a,o){return CS(n^(t|~r),e,t,i,a,o)}function _S(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)BS(r,IS(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(BS(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,BS(r,i),r}function IS(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var NS="0123456789abcdef".split("");function US(e){for(var t="",n=0;n<4;n++)t+=NS[e>>8*n+4&15]+NS[e>>8*n&15];return t}function LS(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function QS(e){return _S(e).map(LS).join("")}var RS="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=US(e[t]);return e.join("")}(_S("hello"));function DS(e,t){if(RS){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function TS(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),s=[],A=0;A<256;A++)s[A]=A;var u=0;for(A=0;A<256;A++){var l=s[A];u=(u+l+o.charCodeAt(A))%256,s[A]=s[u],s[u]=l}n=e,r=s}else s=r;var c=t.length,h=0,f=0,d="";for(A=0;A<c;A++)f=(f+(l=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=l,o=s[(s[h]+s[f])%256],d+=String.fromCharCode(t.charCodeAt(A)^o);return d}var PS={print:4,modify:8,copy:16,"annot-forms":32};function OS(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==PS.perm)throw new Error("Invalid permission: "+e);i+=PS[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=QS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=TS(this.encryptionKey,this.padding)}function MS(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function jS(e){if("object"!==(0,nx.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(rt){fS.console&&pS.error("jsPDF PubSub Error",rt.message,rt)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function HS(e){if(!(this instanceof HS))return new HS(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function KS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zS(e,t,n,r,i){if(!(this instanceof zS))return new zS(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,KS.call(this,r,i)}function WS(e,t,n,r,i){if(!(this instanceof WS))return new WS(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,KS.call(this,r,i)}function VS(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,A=16,u="S",l=null;"object"===(0,nx.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,null!==(l=e.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(A=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(!0===a?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var c=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=jS;var d="1.3",p=f.__private__.getPdfVersion=function(){return d};f.__private__.setPdfVersion=function(e){d=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var m=f.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var v="compat",w="advanced",y=v;function b(){this.saveGraphicsState(),J(new Ne(he,0,0,-he,0,un()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),u="n",y=w}function x(){this.restoreGraphicsState(),u="S",y=v}var B=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=y===v;return t&&b.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},f.compatAPI=function(e){var t=y===w;return t&&x.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},f.isAdvancedAPI=function(){return y===w};var C,E=function(e){if(y!==w)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf="number"==typeof A?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return F(e,A)}:"smart"===A?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return F(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return F(e,16)};var S=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return F(e,2)},k=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return F(e,3)},_=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return y===v?e*he:y===w?e:void 0},I=function(e){return _(function(e){return y===v?un()-e:y===w?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var N,U="00000000000000000000000000000000",L=f.__private__.getFileId=function(){return U},Q=f.__private__.setFileId=function(e){return U=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==l&&(vt=new OS(l.userPermissions,l.userPassword,l.ownerPassword,U)),U};f.setFileId=function(e){return Q(e),this},f.getFileId=function(){return L()};var R=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[n,M(r),"'",M(i),"'"].join("");return["D:",e.getFullYear(),M(e.getMonth()+1),M(e.getDate()),M(e.getHours()),M(e.getMinutes()),M(e.getSeconds()),a].join("")},D=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,a,o,0)},T=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return N=t},P=f.__private__.getCreationDate=function(e){var t=N;return"jsDate"===e&&(t=D(N)),t};f.setCreationDate=function(e){return T(e),this},f.getCreationDate=function(e){return P(e)};var O,M=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},j=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,K=[],z=[],W=0,V=[],G=[],q=!1,X=z;f.__private__.setCustomOutputDestination=function(e){q=!0,X=e};var Y=function(e){q||(X=e)};f.__private__.resetCustomOutputDestination=function(){q=!1,X=z};var J=f.__private__.out=function(e){return e=e.toString(),W+=e.length+1,X.push(e),X},$=f.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=y===w?e/he:e,this};var ne,re=f.__private__.getFontSize=f.getFontSize=function(){return y===v?te:te*he},ie=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ie=e,this},f.__private__.getR2L=f.getR2L=function(){return ie};var ae,oe=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var se,Ae=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};f.__private__.getPageMode=function(){return ae};var ue=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};f.__private__.getLayoutMode=function(){return se},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return oe(e),ue(t),Ae(n),this};var le={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(le).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return le[e]},f.__private__.getDocumentProperties=function(){return le},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in le)le.hasOwnProperty(t)&&e[t]&&(le[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(le).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return le[e]=t};var ce,he,fe,de,pe,ge={},me={},ve=[],we={},ye={},be={},xe={},Be=null,Ce=0,Ee=[],Fe=new jS(f),Se=e.hotfixes||[],ke={},_e={},Ie=[],Ne=function e(t,n,r,i,a,o){if(!(this instanceof e))return new e(t,n,r,i,a,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,i,a,o]};Object.defineProperty(Ne.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ne.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ne.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ne.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ne.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ne.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ne.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ne.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ne.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ne.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ne.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ne.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ne.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ne.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ne.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ne.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ne.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},Ne.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ne(t,n,r,i,a,o)},Ne.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*n+(t/=o)*r;n-=e*s,r-=t*s;var A=Math.sqrt(n*n+r*r);return s/=A,e*(r/=A)<t*(n/=A)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Ne(o,0,0,A,0,0),translate:new Ne(1,0,0,1,i,a),rotate:new Ne(e,t,-t,e,0,0),skew:new Ne(1,0,s,1,0,0)}},Ne.prototype.toString=function(e){return this.join(" ")},Ne.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=1/(e*r-t*n),s=r*o,A=-t*o,u=-n*o,l=e*o;return new Ne(s,A,u,l,-s*i-u*a,-A*i-l*a)},Ne.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ne.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ne.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty;return new Ne(e,t,n,r,i,a)},f.Matrix=Ne;var Ue=f.matrixMult=function(e,t){return t.multiply(e)},Le=new Ne(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Le;var Qe=function(e,t){if(!ye[e]){var n=(t instanceof zS?"Sh":"P")+(Object.keys(we).length+1).toString(10);t.id=n,ye[e]=n,we[n]=t,Fe.publish("addPattern",t)}};f.ShadingPattern=zS,f.TilingPattern=WS,f.addShadingPattern=function(e,t){return E("addShadingPattern()"),Qe(e,t),this},f.beginTilingPattern=function(e){E("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){E("endTilingPattern()"),t.stream=G[O].join("\n"),Qe(e,t),Fe.publish("endTilingPattern",t),Ie.pop().restore()};var Re,De=f.__private__.newObject=function(){var e=Te();return Pe(e,!0),e},Te=f.__private__.newObjectDeferred=function(){return H++,K[H]=function(){return W},H},Pe=function(e,t){return t="boolean"==typeof t&&t,K[e]=W,t&&J(e+" 0 obj"),e},Oe=f.__private__.newAdditionalObject=function(){var e={objId:Te(),content:""};return V.push(e),e},Me=Te(),je=Te(),He=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ke=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,a=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new yS(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var A=parseInt(n.substr(1),16);n=A>>16&255,r=A>>8&255,i=255&A}if(void 0===r||void 0===a&&n===r&&r===i)t="string"==typeof n?n+" "+o[0]:2===e.precision?S(n/255)+" "+o[0]:k(n/255)+" "+o[0];else if(void 0===a||"object"===(0,nx.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,r,i,o[1]].join(" "):2===e.precision?[S(n/255),S(r/255),S(i/255),o[1]].join(" "):[k(n/255),k(r/255),k(i/255),o[1]].join(" ")}else t="string"==typeof n?[n,r,i,a,o[2]].join(" "):2===e.precision?[S(n),S(r),S(i),S(a),o[2]].join(" "):[k(n),k(r),k(i),k(a),o[2]].join(" ");return t},ze=f.__private__.getFilters=function(){return o},We=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||ze(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,o=e.objectId,s=function(e){return e};if(null!==l&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(s=vt.encryptor(o,0));var A={};!0===n&&(n=["FlateEncode"]);var u=e.additionalKeyValues||[],c=(A=void 0!==VS.API.processDataByFilters?VS.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==A.data.length&&(u.push({key:"Length",value:A.data.length}),!0===i&&u.push({key:"Length1",value:a})),0!=c.length)if(c.split("/").length-1==1)u.push({key:"Filter",value:c});else{u.push({key:"Filter",value:"["+c+"]"});for(var h=0;h<u.length;h+=1)if("DecodeParms"===u[h].key){for(var f=[],d=0;d<A.reverseChain.split("/").length-1;d+=1)f.push("null");f.push(u[h].value),u[h].value="["+f.join(" ")+"]"}}J("<<");for(var p=0;p<u.length;p++)J("/"+u[p].key+" "+u[p].value);J(">>"),0!==A.data.length&&(J("stream"),J(s(A.data)),J("endstream"))},Ve=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Pe(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),Fe.publish("putPage",{objId:r,pageContext:Ee[t],pageNumber:t,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var a=n.join("\n");return y===w&&(a+="\nQ"),Pe(i,!0),We({data:a,filters:ze(),objectId:i}),J("endobj"),r},Ge=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ce;e++)Ee[e].objId=Te(),Ee[e].contentsObjId=Te();for(e=1;e<=Ce;e++)n.push(Ve({number:e,data:G[e],objId:Ee[e].objId,contentsObjId:Ee[e].contentsObjId,mediaBox:Ee[e].mediaBox,cropBox:Ee[e].cropBox,bleedBox:Ee[e].bleedBox,trimBox:Ee[e].trimBox,artBox:Ee[e].artBox,userUnit:Ee[e].userUnit,rootDictionaryObjId:Me,resourceDictionaryObjId:je}));Pe(Me,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<Ce;t++)r+=n[t]+" 0 R ";J(r+"]"),J("/Count "+Ce),J(">>"),J("endobj"),Fe.publish("postPutPages")},qe=function(e){Fe.publish("putFont",{font:e,out:J,newObject:De,putStream:We}),!0!==e.isAlreadyPutted&&(e.objectNumber=De(),J("<<"),J("/Type /Font"),J("/BaseFont /"+MS(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Xe=function(e){e.objectNumber=De();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");We({data:n,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Ye=function(e,t){t||(t=21);var n=De(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s="",A=0,u=0;u<r.length;u++){for(n=r[u];n>e[A+1].offset;)A++;var l=e[A].offset,c=(n-l)/(e[A+1].offset-l),h=e[A].color,f=e[A+1].color;s+=j(Math.round((1-c)*h[0]+c*f[0]).toString(16))+j(Math.round((1-c)*h[1]+c*f[1]).toString(16))+j(Math.round((1-c)*h[2]+c*f[2]).toString(16))}return s.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),e.objectNumber=De(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var a="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?a+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):a+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),J(a+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Je=function(e,t){var n=Te(),r=De();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(e.xStep)}),i.push({key:"YStep",value:C(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),We({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),J("endobj")},$e=function(e){for(var t in e.objectNumber=De(),J("<<"),e)switch(t){case"opacity":J("/ca "+S(e[t]));break;case"stroke-opacity":J("/CA "+S(e[t]))}J(">>"),J("endobj")},Ze=function(e){Pe(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in J("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===c||!0===c&&h.hasOwnProperty(e))&&J("/"+e+" "+ge[e].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(we).length>0){for(var e in J("/Shading <<"),we)we.hasOwnProperty(e)&&we[e]instanceof zS&&we[e].objectNumber>=0&&J("/"+e+" "+we[e].objectNumber+" 0 R");Fe.publish("putShadingPatternDict"),J(">>")}}(),function(e){if(Object.keys(we).length>0){for(var t in J("/Pattern <<"),we)we.hasOwnProperty(t)&&we[t]instanceof f.TilingPattern&&we[t].objectNumber>=0&&we[t].objectNumber<e&&J("/"+t+" "+we[t].objectNumber+" 0 R");Fe.publish("putTilingPatternDict"),J(">>")}}(e.objectOid),function(){if(Object.keys(be).length>0){var e;for(e in J("/ExtGState <<"),be)be.hasOwnProperty(e)&&be[e].objectNumber>=0&&J("/"+e+" "+be[e].objectNumber+" 0 R");Fe.publish("putGStateDict"),J(">>")}}(),function(){for(var e in J("/XObject <<"),ke)ke.hasOwnProperty(e)&&ke[e].objectNumber>=0&&J("/"+e+" "+ke[e].objectNumber+" 0 R");Fe.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},et=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,i){var a={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Fe.publish("addFont",{font:a,instance:this}),ge[a.id]=a,et(a),a.id},nt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,i,a,o,s,A,u,l;if(i=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[ce].metadata&&ge[ce].metadata[i]&&ge[ce].metadata[i].encoding&&(a=ge[ce].metadata[i].encoding,!o&&ge[ce].encoding&&(o=ge[ce].encoding),!o&&a.codePages&&(o=a.codePages[0]),"string"==typeof o&&(o=a[o]),o)){for(A=!1,s=[],n=0,r=e.length;n<r;n++)(u=o[e.charCodeAt(n)])?s.push(String.fromCharCode(u)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(A=!0);e=s.join("")}for(n=e.length;void 0===A&&0!==n;)e.charCodeAt(n-1)>>8&&(A=!0),n--;if(!A)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((l=(u=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(u-(l<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=f.__private__.beginPage=function(e){G[++Ce]=[],Ee[Ce]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(Ce),Y(G[O])},it=function(e,t){var r,a,o;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(a=r[0],o=r[1])),Array.isArray(e)&&(a=e[0]*he,o=e[1]*he),isNaN(a)&&(a=i[0],o=i[1]),(a>14400||o>14400)&&(pS.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),o=Math.min(14400,o)),i=[a,o],n.substr(0,1)){case"l":o>a&&(i=[o,a]);break;case"p":a>o&&(i=[o,a])}rt(i),Pt(Dt),J(Vt),0!==$t&&J($t+" J"),0!==Zt&&J(Zt+" j"),Fe.publish("addPage",{pageNumber:Ce})},at=function(e){e>0&&e<=Ce&&(G.splice(e,1),Ee.splice(e,1),Ce--,O>Ce&&(O=Ce),this.setPage(O))},ot=function(e){e>0&&e<=Ce&&(O=e)},st=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},At=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[ce].fontName,t=void 0!==t?t:ge[ce].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?i=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?i=me[e][t]:!1===n.disableWarning&&pS.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=me.times[t])&&(i=me.times.normal),i},ut=f.__private__.putInfo=function(){var e=De(),t=function(e){return e};for(var n in null!==l&&(t=vt.encryptor(e,0)),J("<<"),J("/Producer ("+nt(t("jsPDF "+VS.version))+")"),le)le.hasOwnProperty(n)&&le[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(le[n]))+")");J("/CreationDate ("+nt(t(N))+")"),J(">>"),J("endobj")},lt=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Me;switch(De(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&J("/OpenAction [3 0 R /XYZ null null "+S(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ae&&J("/PageMode /"+ae),Fe.publish("putCatalog"),J(">>"),J("endobj")},ct=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(H+1)),J("/Root "+H+" 0 R"),J("/Info "+(H-1)+" 0 R"),null!==l&&J("/Encrypt "+vt.oid+" 0 R"),J("/ID [ <"+U+"> <"+U+"> ]"),J(">>")},ht=f.__private__.putHeader=function(){J("%PDF-"+d),J("%\xba\xdf\xac\xe0")},ft=f.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(H+1)),J("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof K[t]?J((e+K[t]()).slice(-10)+" 00000 n "):void 0!==K[t]?J((e+K[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},dt=f.__private__.buildDocument=function(){var e;H=0,W=0,z=[],K=[],V=[],Me=Te(),je=Te(),Y(z),Fe.publish("buildDocument"),ht(),Ge(),function(){Fe.publish("putAdditionalObjects");for(var e=0;e<V.length;e++){var t=V[e];Pe(t.objId,!0),J(t.content),J("endobj")}Fe.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===c||!0===c&&h.hasOwnProperty(e))&&qe(ge[e])}(),function(){var e;for(e in be)be.hasOwnProperty(e)&&$e(be[e])}(),function(){for(var e in ke)ke.hasOwnProperty(e)&&Xe(ke[e])}(),function(e){var t;for(t in we)we.hasOwnProperty(t)&&(we[t]instanceof zS?Ye(we[t]):we[t]instanceof WS&&Je(we[t],e))}(e),Fe.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:je,objectOid:Number.MAX_SAFE_INTEGER}),Fe.publish("postPutResources"),null!==l&&(vt.oid=De(),J("<<"),J("/Filter /Standard"),J("/V "+vt.v),J("/R "+vt.r),J("/U <"+vt.toHexString(vt.U)+">"),J("/O <"+vt.toHexString(vt.O)+">"),J("/P "+vt.P),J(">>"),J("endobj")),ut(),lt();var t=W;return ft(),ct(),J("startxref"),J(""+t),J("%%EOF"),Y(G[O]),z.join("\n")},pt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=f.output=f.__private__.output=(Re=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return dt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(dt());case"blob":return pt(dt());case"bloburi":case"bloburl":if(void 0!==fS.URL&&"function"==typeof fS.URL.createObjectURL)return fS.URL&&fS.URL.createObjectURL(pt(dt()))||void 0;pS.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=dt();try{n=xS(r)}catch(l){n=xS(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(fS)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,a="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=fS.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(fS)){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',u=fS.open();if(null!==u){u.document.write(A);var c=this;u.document.documentElement.querySelector("#pdfViewer").onload=function(){u.document.title=t.filename,u.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return u}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(fS))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=fS.open();if(null!==d&&(d.document.write(h),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return fS.document.location.href=this.output("datauristring",t);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!fS.console)throw new Error(n);fS.console.error(n,t),fS.alert&&alert(n)}},Re.foo.bar=Re,Re.foo),mt=function(e){return!0===Array.isArray(Se)&&Se.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==mt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var vt=null;T(),Q();var wt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[e].objId,pageNumber:e,pageContext:Ee[e]}},yt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ee)if(Ee[t].objId===e)break;return wt(t)},bt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ee[O].objId,pageNumber:O,pageContext:Ee[O]}};f.addPage=function(){return it.apply(this,arguments),this},f.setPage=function(){return ot.apply(this,arguments),Y.call(this,G[O]),this},f.insertPage=function(e){return this.addPage(),this.movePage(O,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Ee[e];for(var i=e;i>t;i--)G[i]=G[i-1],Ee[i]=Ee[i-1];G[t]=n,Ee[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Ee[e];for(var a=e;a<t;a++)G[a]=G[a+1],Ee[a]=Ee[a+1];G[t]=n,Ee[t]=r,this.setPage(t)}return this},f.deletePage=function(){return at.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,i){var a,o,s,A,u,l,c,f,d,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ne==0?(s=arguments[4],A=arguments[5],"object"===(0,nx.A)(c=arguments[3])&&null!==c||("string"==typeof s&&(A=s,s=null),"string"==typeof c&&(A=c,c=null),"number"==typeof c&&(s=c,c=null),r={flags:c,angle:s,align:A})):(E("The transform parameter of text() with a Matrix value"),d=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var m,v="",b="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Rt,x=p.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,c)}function F(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function S(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,a=e.concat(),o=[],s=a.length;s--;)"string"==typeof(r=a.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var k=!1,I=!0;if("string"==typeof e)k=!0;else if(Array.isArray(e)){var N=e.concat();o=[];for(var U,L=N.length;L--;)("string"!=typeof(U=N.shift())||Array.isArray(U)&&"string"!=typeof U[0])&&(I=!1);k=I}if(!1===k)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var Q=te/p.internal.scaleFactor,R=Q*(b-1);switch(r.baseline){case"bottom":n-=R;break;case"top":n+=Q-R;break;case"hanging":n+=Q-2*R;break;case"middle":n+=Q/2-R}if((l=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,l))},[]))),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ce,fonts:ge,activeFontSize:te}},Fe.publish("preProcessText",a),e=a.text,s=(r=a.options).angle,d instanceof Ne==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),y===w&&(s=-s);var D=Math.cos(s),T=Math.sin(s);d=new Ne(D,T,-T,D,0,0)}else s&&s instanceof Ne&&(d=s);y!==w||d||(d=Le),void 0!==(u=r.charSpace||Yt)&&(v+=C(_(u))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(v+=C(100*f)+" Tz\n"),r.lang;var P=-1,O=void 0!==r.renderingMode?r.renderingMode:r.stroke,M=p.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":P=0;break;case 1:case!0:case"stroke":P=1;break;case 2:case"fillThenStroke":P=2;break;case 3:case"invisible":P=3;break;case 4:case"fillAndAddForClipping":P=4;break;case 5:case"strokeAndAddPathForClipping":P=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":P=6;break;case 7:case"addToPathForClipping":P=7}var j=void 0!==M.usedRenderingMode?M.usedRenderingMode:-1;-1!==P?v+=P+" Tr\n":-1!==j&&(v+="0 Tr\n"),-1!==P&&(M.usedRenderingMode=P),A=r.align||"left";var H,K=te*b,z=p.internal.pageSize.getWidth(),W=ge[ce];u=r.charSpace||Yt,l=r.maxWidth||0,c=Object.assign({autoencode:!0,noBOM:!0},r.flags);var V=[],G=function(e){return p.getStringUnitWidth(e,{font:W,charSpace:u,fontSize:te,doKerning:!1})*te/x};if("[object Array]"===Object.prototype.toString.call(e)){var q;o=F(e),"left"!==A&&(H=o.map(G));var X,Y=0;if("right"===A){t-=H[0],e=[],L=o.length;for(var $=0;$<L;$++)0===$?(X=Ht(t),q=Kt(n)):(X=_(Y-H[$]),q=-K),e.push([o[$],X,q]),Y=H[$]}else if("center"===A){t-=H[0]/2,e=[],L=o.length;for(var Z=0;Z<L;Z++)0===Z?(X=Ht(t),q=Kt(n)):(X=_((Y-H[Z])/2),q=-K),e.push([o[Z],X,q]),Y=H[Z]}else if("left"===A){e=[],L=o.length;for(var ee=0;ee<L;ee++)e.push(o[ee])}else if("justify"===A&&"Identity-H"===W.encoding){e=[],L=o.length,l=0!==l?l:z;for(var ne=0,re=0;re<L;re++)if(q=0===re?Kt(n):-K,X=0===re?Ht(t):ne,re<L-1){var ae=_((l-H[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",X,q]),ne=0;for(var se=1;se<oe.length;se++){var Ae=(G(oe[se-1]+" "+oe[se])-G(oe[se]))*x+ae;se==oe.length-1?e.push([oe[se],Ae,0]):e.push([oe[se]+" ",Ae,0]),ne-=Ae}}else e.push([o[re],X,q]);e.push(["",ne,0])}else{if("justify"!==A)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],L=o.length,l=0!==l?l:z,re=0;re<L;re++)q=0===re?Kt(n):-K,X=0===re?Ht(t):0,re<L-1?V.push(C(_((l-H[re])/(o[re].split(" ").length-1)))):V.push(0),e.push([o[re],X,q])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=S(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ce,fonts:ge,activeFontSize:te}},Fe.publish("postProcessText",a),e=a.text,m=a.mutex.isHex||!1;var ue=ge[ce].encoding;"WinAnsiEncoding"!==ue&&"StandardEncoding"!==ue||(e=S(e,function(e,t,n){return[B(e),t,n]})),o=F(e),e=[];for(var le,he,fe,de=Array.isArray(o[0])?1:0,pe="",me=function(e,t,n){var i="";return n instanceof Ne?(n="number"==typeof r.angle?Ue(n,new Ne(1,0,0,1,e,t)):Ue(new Ne(1,0,0,1,e,t),n),y===w&&(n=Ue(new Ne(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=C(e)+" "+C(t)+" Td\n",i},ve=0;ve<o.length;ve++){switch(pe="",de){case 1:fe=(m?"<":"(")+o[ve][0]+(m?">":")"),le=parseFloat(o[ve][1]),he=parseFloat(o[ve][2]);break;case 0:fe=(m?"<":"(")+o[ve]+(m?">":")"),le=Ht(t),he=Kt(n)}void 0!==V&&void 0!==V[ve]&&(pe=V[ve]+" Tw\n"),0===ve?e.push(pe+me(le,he,d)+fe):0===de?e.push(pe+fe):1===de&&e.push(pe+me(le,he,d)+fe)}e=0===de?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ce+" "+te+" Tf\n",we+=C(te*b)+" TL\n",we+=qt+"\n",we+=v,we+=e,J(we+="ET"),h[ce]=!0,p};var xt=f.__private__.clip=f.clip=function(e){return J("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return xt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Bt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return Bt(e)&&(u=e),this};var Ct=f.__private__.getStyle=f.getStyle=function(e){var t=u;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Et=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(e){return Ft("f",e),this},f.fillEvenOdd=function(e){return Ft("f*",e),this},f.fillStroke=function(e){return Ft("B",e),this},f.fillStrokeEvenOdd=function(e){return Ft("B*",e),this};var Ft=function(e,t){"object"===(0,nx.A)(t)?_t(t,e):J(e)},St=function(e){null===e||y===w&&void 0===e||(e=Ct(e),J(e))};function kt(e,t,n,r,i){var a=new WS(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Qe(o,a),a}var _t=function(e,t){var n=ye[e.key],r=we[n];if(r instanceof zS)J("q"),J(It(t)),r.gState&&f.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof WS){var i=new Ne(1,0,0,-1,0,un());e.matrix&&(i=i.multiply(e.matrix||Le),n=kt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&f.setGState(r.gState),J(t),J("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nt=f.moveTo=function(e,t){return J(C(_(e))+" "+C(I(t))+" m"),this},Ut=f.lineTo=function(e,t){return J(C(_(e))+" "+C(I(t))+" l"),this},Lt=f.curveTo=function(e,t,n,r,i,a){return J([C(_(e)),C(I(t)),C(_(n)),C(I(r)),C(_(i)),C(I(a)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.line");return y===v?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,a){var o,s,A,u,l,c,h,f,d,p,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Bt(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Nt(t,n),o=r[0],s=r[1],u=e.length,p=t,g=n,A=0;A<u;A++)2===(l=e[A]).length?(p=l[0]*o+p,g=l[1]*s+g,Ut(p,g)):(c=l[0]*o+p,h=l[1]*s+g,f=l[2]*o+p,d=l[3]*s+g,p=l[4]*o+p,g=l[5]*s+g,Lt(c,h,f,d,p,g));return a&&Et(),St(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Nt(r[0],r[1]);break;case"l":Ut(r[0],r[1]);break;case"c":Lt.apply(this,r);break;case"h":Et()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v&&(r=-r),J([C(_(e)),C(I(t)),C(_(n)),C(_(r)),"re"].join(" ")),St(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,a-r],[e-i,t-a]],e,t,[1,1],o,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*i,0],[i*s,0,i,a-a*s,i,a],[0,r-2*a],[0,a*s,-i*s,a,-i,a],[2*i-n,0],[-i*s,0,-i,-a*s,-i,-a],[0,2*a-r],[0,-a*s,i*s,-a,i,-a]],e+i,t,[1,1],o,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Nt(e+n,t),Lt(e+n,t-o,e+a,t-r,e,t-r),Lt(e-a,t-r,e-n,t-o,e-n,t),Lt(e-n,t+o,e-a,t+r,e,t+r),Lt(e+a,t+r,e+n,t+o,e+n,t),St(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Bt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=B(t,n)),ce=At(e,t,{disableWarning:!1}),this};var Qt=f.__private__.getFont=f.getFont=function(){return ge[At.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=B(n,r)),tt.call(this,e,t,n,i=i||"Identity-H")};var Rt,Dt=e.lineWidth||.200025,Tt=f.__private__.getLineWidth=f.getLineWidth=function(){return Dt},Pt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Dt=e,J(C(_(e))+" w"),this};f.__private__.setLineDash=VS.API.setLineDash=VS.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return C(_(e))}).join(" "),t=C(_(t)),J("["+e+"] "+t+" d"),this};var Ot=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Rt};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Rt};var Mt=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Rt=e),this},jt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Rt};Mt(e.lineHeight);var Ht=f.__private__.getHorizontalCoordinate=function(e){return _(e)},Kt=f.__private__.getVerticalCoordinate=function(e){return y===w?e:Ee[O].mediaBox.topRightY-Ee[O].mediaBox.bottomLeftY-_(e)},zt=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return C(Ht(e))},Wt=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return C(Kt(e))},Vt=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return He(Vt)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return Vt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(Vt),this};var Gt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return He(Gt)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return Gt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(Gt),this};var qt=e.textColor||"0 g",Xt=f.__private__.getTextColor=f.getTextColor=function(){return He(qt)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return qt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Jt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Yt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var $t=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,J(t+" J"),this};var Zt=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,J(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(_(e))+" M"),this},f.GState=HS,f.setGState=function(e){(e="string"==typeof e?be[xe[e]]:en(null,e)).equals(Be)||(J("/"+e.id+" gs"),Be=e)};var en=function(e,t){if(!e||!xe[e]){var n=!1;for(var r in be)if(be.hasOwnProperty(r)&&be[r].equals(t)){n=!0;break}if(n)t=be[r];else{var i="GS"+(Object.keys(be).length+1).toString(10);be[i]=t,t.id=i}return e&&(xe[e]=t.id),Fe.publish("addGState",t),t}};f.addGState=function(e,t){return en(e,t),this},f.saveGraphicsState=function(){return J("q"),ve.push({key:ce,size:te,color:qt}),this},f.restoreGraphicsState=function(){J("Q");var e=ve.pop();return ce=e.key,te=e.size,qt=e.color,Be=null,this},f.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},f.comment=function(e){return J("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},rn=function(){this.page=Ce,this.currentPage=O,this.pages=G.slice(0),this.pagesContext=Ee.slice(0),this.x=fe,this.y=de,this.matrix=pe,this.width=sn(O),this.height=un(O),this.outputDestination=X,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){Ce=this.page,O=this.currentPage,Ee=this.pagesContext,G=this.pages,fe=this.x,de=this.y,pe=this.matrix,An(O,this.width),ln(O,this.height),X=this.outputDestination};var an=function(e,t,n,r,i){Ie.push(new rn),Ce=O=0,G=[],fe=e,de=t,pe=i,rt([n,r])};for(var on in f.beginFormObject=function(e,t,n,r,i){return an(e,t,n,r,i),this},f.endFormObject=function(e){return function(e){if(_e[e])Ie.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(ke).length+1).toString(10);t.id=n,_e[e]=n,ke[n]=t,Fe.publish("addFormObject",t),Ie.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=ke[_e[e]];return J("q"),J(t.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},f.getFormObject=function(e){var t=ke[_e[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(wS(pt(dt()),e),"function"==typeof wS.unload&&fS.setTimeout&&setTimeout(wS.unload,911),this):new Promise(function(t,n){try{var i=wS(pt(dt()),e);"function"==typeof wS.unload&&fS.setTimeout&&setTimeout(wS.unload,911),t(i)}catch(r){n(r.message)}})},VS.API)VS.API.hasOwnProperty(on)&&("events"===on&&VS.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Fe,VS.API.events):f[on]=VS.API[on]);var sn=f.getPageWidth=function(e){return(Ee[e=e||O].mediaBox.topRightX-Ee[e].mediaBox.bottomLeftX)/he},An=f.setPageWidth=function(e,t){Ee[e].mediaBox.topRightX=t*he+Ee[e].mediaBox.bottomLeftX},un=f.getPageHeight=function(e){return(Ee[e=e||O].mediaBox.topRightY-Ee[e].mediaBox.bottomLeftY)/he},ln=f.setPageHeight=function(e,t){Ee[e].mediaBox.topRightY=t*he+Ee[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:nt,getStyle:Ct,getFont:Qt,getFontSize:re,getCharSpace:Jt,getTextColor:Xt,getLineHeight:Ot,getLineHeightFactor:jt,getLineWidth:Tt,write:$,getHorizontalCoordinate:Ht,getVerticalCoordinate:Kt,getCoordinateString:zt,getVerticalCoordinateString:Wt,collections:{},newObject:De,newAdditionalObject:Oe,newObjectDeferred:Te,newObjectDeferredBegin:Pe,getFilters:ze,putStream:We,events:Fe,scaleFactor:he,pageSize:{getWidth:function(){return sn(O)},setWidth:function(e){An(O,e)},getHeight:function(){return un(O)},setHeight:function(e){ln(O,e)}},encryptionOptions:l,encryption:vt,getEncryptor:function(e){return null!==l?vt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:st,pages:G,out:J,f2:S,f3:k,getPageInfo:wt,getPageInfoByObjId:yt,getCurrentPageInfo:bt,getPDFVersion:p,Point:tn,Rectangle:nn,Matrix:Ne,hasHotfix:mt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return sn(O)},set:function(e){An(O,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return un(O)},set:function(e){ln(O,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===c&&(h[r]=!0);var i=e[t][0].split("-");et({id:r,fontName:i[0],fontStyle:i[1]||""})}Fe.publish("addFonts",{fonts:ge,dictionary:me})}.call(f,ee),ce="F1",it(i,n),Fe.publish("initialized"),f}OS.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},OS.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},OS.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},OS.prototype.processOwnerPassword=function(e,t){return TS(QS(t).substr(0,5),e)},OS.prototype.encryptor=function(e,t){var n=QS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return TS(n,e)}},HS.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,nx.A)(e)!==(0,nx.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},VS.API={events:[]},VS.version="3.0.2";var GS=VS.API,qS=1,XS=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},YS=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},JS=function(e){return e.toFixed(2)},$S=function(e){return e.toFixed(5)};GS.__acroform__={};var ZS=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ek=function(e){return e*qS},tk=function(e){var t=new mk,n=Nk.internal.getHeight(e)||0,r=Nk.internal.getWidth(e)||0;return t.BBox=[0,0,Number(JS(r)),Number(JS(n))],t},nk=GS.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rk=GS.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ik=GS.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ak=GS.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ik(e,t-1)},ok=GS.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nk(e,t-1)},sk=GS.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rk(e,t-1)},Ak=GS.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],A={};return A.lowerLeft_X=n(i)||0,A.lowerLeft_Y=r(a+s)||0,A.upperRight_X=n(i+o)||0,A.upperRight_Y=r(a)||0,[Number(JS(A.lowerLeft_X)),Number(JS(A.lowerLeft_Y)),Number(JS(A.upperRight_X)),Number(JS(A.upperRight_Y))]},uk=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=lk(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+JS(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=tk(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},lk=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var a=n,o=Nk.internal.getHeight(e)||0;o=o<0?-o:o;var s=Nk.internal.getWidth(e)||0;s=s<0?-s:s;var A=function(t,n,r){if(t+1<i.length){var a=n+" "+i[t+1][0];return ck(a,e,r).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,l,c=ck("3",e,a).height,h=e.multiline?o-a:(o-c)/2,f=h+=2,d=0,p=0,g=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+ck(t,e,a=12).width+", FieldWidth:"+s+"\n";break}for(var m="",v=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var y=!1;if(1!==i[w].length&&g!==i[w].length-1){if((c+2)*(v+2)+2>o)continue e;m+=i[w][g],y=!0,p=w,w--}else{m=" "==(m+=i[w][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var b=parseInt(w),x=A(b,m,a),B=w>=i.length-1;if(x&&!B){m+=" ",g=0;continue}if(x||B){if(B)p=b;else if(e.multiline&&(c+2)*(v+2)+2>o)continue e}else{if(!e.multiline)continue e;if((c+2)*(v+2)+2>o)continue e;p=b}}for(var C="",E=d;E<=p;E++){var F=i[E];if(e.multiline){if(E===p){C+=F[g]+" ",g=(g+1)%F.length;continue}if(E===d){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,l=ck(C,e,a).width,e.textAlign){case"right":u=s-l-2;break;case"center":u=(s-l)/2;break;default:u=2}t+=JS(u)+" "+JS(f)+" Td\n",t+="("+XS(C)+") Tj\n",t+=-JS(u)+" 0 Td\n",f=-(a+2),l=0,d=y?p:p+1,v++,m=""}break}return r.text=t,r.fontSize=a,r},ck=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},hk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fk=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},dk=GS.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(0!==a&&(i+=" "),(0,nx.A)(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+XS(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pk=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+XS(r(e))+")"},gk=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gk.prototype.toString=function(){return this.objId+" 0 R"},gk.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},gk.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:dk(i,this.objId,this.scope)}):i instanceof gk?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var mk=function(){gk.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};ZS(mk,gk);var vk=function(){gk.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+XS(t(e))+")"}},set:function(t){e=t}})};ZS(vk,gk);var wk=function e(){gk.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(t,3))},set:function(e){!0===Boolean(e)?this.F=ok(t,3):this.F=sk(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Sk)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+XS(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(e){A=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/qS:u},set:function(e){u=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof Sk||this instanceof _k))return pk(c,this.objId,this.scope)},set:function(e){e=e.toString(),c=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ck==0?pk(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Ck==0?"("===e.substr(0,1)?YS(e.substr(1,e.length-2)):YS(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ck==1?YS(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Ck==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ck==0?pk(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof Ck==0?"("===e.substr(0,1)?YS(e.substr(1,e.length-2)):YS(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ck==1?YS(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof Ck==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(e){d=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,1):this.Ff=sk(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,2):this.Ff=sk(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,3):this.Ff=sk(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ZS(wk,gk);var yk=function(){wk.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dk(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,18):this.Ff=sk(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=ok(this.Ff,19):this.Ff=sk(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=ok(this.Ff,20),t.sort()):this.Ff=sk(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,22):this.Ff=sk(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,23):this.Ff=sk(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,27):this.Ff=sk(this.Ff,27)}}),this.hasAppearanceStream=!1};ZS(yk,wk);var bk=function(){yk.call(this),this.fontName="helvetica",this.combo=!1};ZS(bk,yk);var xk=function(){bk.call(this),this.combo=!0};ZS(xk,bk);var Bk=function(){xk.call(this),this.edit=!0};ZS(Bk,xk);var Ck=function(){wk.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,15):this.Ff=sk(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,16):this.Ff=sk(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,17):this.Ff=sk(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,26):this.Ff=sk(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+XS(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,nx.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};ZS(Ck,wk);var Ek=function(){Ck.call(this),this.pushButton=!0};ZS(Ek,Ck);var Fk=function(){Ck.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};ZS(Fk,Ck);var Sk=function(){var e,t;wk.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+XS(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,nx.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nk.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ZS(Sk,wk),Fk.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Fk.prototype.createOption=function(e){var t=new Sk;return t.Parent=this,t.optionName=e,this.Kids.push(t),Uk.call(this.scope,t),t};var kk=function(){Ck.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nk.CheckBox.createAppearanceStream()};ZS(kk,Ck);var _k=function(){wk.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,13):this.Ff=sk(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,21):this.Ff=sk(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,23):this.Ff=sk(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,24):this.Ff=sk(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,25):this.Ff=sk(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,26):this.Ff=sk(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ZS(_k,wk);var Ik=function(){_k.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ak(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=ok(this.Ff,14):this.Ff=sk(this.Ff,14)}}),this.password=!0};ZS(Ik,_k);var Nk={CheckBox:{createAppearanceStream:function(){return{N:{On:Nk.CheckBox.YesNormal},D:{On:Nk.CheckBox.YesPushDown,Off:Nk.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=lk(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+JS(Nk.internal.getWidth(e))+" "+JS(Nk.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+JS(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=tk(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Nk.internal.getHeight(e),o=Nk.internal.getWidth(e),s=lk(e,e.caption);return i.push("1 g"),i.push("0 0 "+JS(o)+" "+JS(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+JS(o-1)+" "+JS(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+JS(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+JS(Nk.internal.getWidth(e))+" "+JS(Nk.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Nk.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Nk.RadioButton.Circle.YesNormal,t.D[e]=Nk.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tk(e);t.scope=e.scope;var n=[],r=Nk.internal.getWidth(e)<=Nk.internal.getHeight(e)?Nk.internal.getWidth(e)/4:Nk.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Nk.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$S(Nk.internal.getWidth(e)/2)+" "+$S(Nk.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=[],r=Nk.internal.getWidth(e)<=Nk.internal.getHeight(e)?Nk.internal.getWidth(e)/4:Nk.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Nk.internal.Bezier_C).toFixed(5)),o=Number((r*Nk.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$S(Nk.internal.getWidth(e)/2)+" "+$S(Nk.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$S(Nk.internal.getWidth(e)/2)+" "+$S(Nk.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=[],r=Nk.internal.getWidth(e)<=Nk.internal.getHeight(e)?Nk.internal.getWidth(e)/4:Nk.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Nk.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$S(Nk.internal.getWidth(e)/2)+" "+$S(Nk.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Nk.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Nk.RadioButton.Cross.YesNormal,t.D[e]=Nk.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tk(e);t.scope=e.scope;var n=[],r=Nk.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+JS(Nk.internal.getWidth(e)-2)+" "+JS(Nk.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(JS(r.x1.x)+" "+JS(r.x1.y)+" m"),n.push(JS(r.x2.x)+" "+JS(r.x2.y)+" l"),n.push(JS(r.x4.x)+" "+JS(r.x4.y)+" m"),n.push(JS(r.x3.x)+" "+JS(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=Nk.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+JS(Nk.internal.getWidth(e))+" "+JS(Nk.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+JS(Nk.internal.getWidth(e)-2)+" "+JS(Nk.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(JS(n.x1.x)+" "+JS(n.x1.y)+" m"),r.push(JS(n.x2.x)+" "+JS(n.x2.y)+" l"),r.push(JS(n.x4.x)+" "+JS(n.x4.y)+" m"),r.push(JS(n.x3.x)+" "+JS(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=tk(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+JS(Nk.internal.getWidth(e))+" "+JS(Nk.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Nk.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Nk.internal.getWidth(e),n=Nk.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Nk.internal.getWidth=function(e){var t=0;return"object"===(0,nx.A)(e)&&(t=ek(e.Rect[2])),t},Nk.internal.getHeight=function(e){var t=0;return"object"===(0,nx.A)(e)&&(t=ek(e.Rect[3])),t};var Uk=GS.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(wk.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(hk)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new vk,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&fk(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],a=[],o=i.Rect;if(i.Rect&&(i.Rect=Ak(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Nk.createDefaultAppearanceStream(i),"object"===(0,nx.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(a=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=uk(i);a.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var A="";for(var u in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(u)){var l=i.appearanceStreamContent[u];if(A+="/"+u+" ",A+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var r in l)if(l.hasOwnProperty(r)){var c=l[r];"function"==typeof c&&(c=c.call(t,i)),A+="/"+r+" "+c+" ",t.internal.acroformPlugin.xForms.indexOf(c)>=0||t.internal.acroformPlugin.xForms.push(c)}}else"function"==typeof(c=l)&&(c=c.call(t,i)),A+="/"+r+" "+c,t.internal.acroformPlugin.xForms.indexOf(c)>=0||t.internal.acroformPlugin.xForms.push(c);A+=">>"}a.push({key:"AP",value:"<<\n"+A+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,nx.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof wk))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};GS.AcroFormChoiceField=yk,GS.AcroFormListBox=bk,GS.AcroFormComboBox=xk,GS.AcroFormEditBox=Bk,GS.AcroFormButton=Ck,GS.AcroFormPushButton=Ek,GS.AcroFormRadioButton=Fk,GS.AcroFormCheckBox=kk,GS.AcroFormTextField=_k,GS.AcroFormPasswordField=Ik,GS.AcroFormAppearance=Nk,GS.AcroForm={ChoiceField:yk,ListBox:bk,ComboBox:xk,EditBox:Bk,Button:Ck,PushButton:Ek,RadioButton:Fk,CheckBox:kk,TextField:_k,PasswordField:Ik,Appearance:Nk},VS.AcroForm={ChoiceField:yk,ListBox:bk,ComboBox:xk,EditBox:Bk,Button:Ck,PushButton:Ek,RadioButton:Fk,CheckBox:kk,TextField:_k,PasswordField:Ik,Appearance:Nk};VS.AcroForm;function Lk(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,a,o,s,A,u=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(A in r)for(o=r[A],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e[a]){s=!1;break}if(!0===s){u=A;break}}else for(A in r)for(o=r[A],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e.charCodeAt(a)){s=!1;break}if(!0===s){u=A;break}}return u===n&&t!==n&&(u=t),u},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===m.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===m.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",s=0,A=t.transparency.length;s<A;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";a.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:u,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var l=(null!=t.predictor?"/Predictor "+t.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+t.width,c={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(c.filter=t.filter),e.call(this,c)}if(t.colorSpace===m.INDEXED){var h=this.internal.newObject();r({data:C(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)a.call(this,e[n])},s=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var i in n)r("/I"+(e=n[i]).index,e.objectId,"0","R")},A=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var e=this.internal.collections[t+"images"];return A.call(this),e},l=function(){return Object.keys(this.internal.collections[t+"images"]).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,nx.A)(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return bS(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return bS(t.toDataURL(a,1).split("base64,").pop())}},d=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,a){var o=p.call(this,n,r,i),s=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=u.call(this);if(n=o[0],r=o[1],l[i.index]=i,a){a*=Math.PI/180;var c=Math.cos(a),h=Math.sin(a),f=function(e){return e.toFixed(4)},d=[f(c),f(h),f(-1*h),f(c),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,s(e),A(t+r),"cm"].join(" ")),this.internal.write(d.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),A(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},C=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,a,o,s,u,l;if("number"==typeof arguments[1]?(t=n,r=arguments[1],i=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5],u=arguments[6],l=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4],o=arguments[5],s=arguments[6],u=arguments[7],l=arguments[8]),"object"===(0,nx.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var c=e;e=c.imageData,t=c.format||t||n,r=c.x||r||0,i=c.y||i||0,a=c.w||c.width||a,o=c.h||c.height||o,s=c.alias||s,u=c.compression||u,l=c.rotation||c.angle||l}var f=this.internal.getFilters();if(void 0===u&&-1!==f.indexOf("FlateEncode")&&(u="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var d=E.call(this,e,t,s,u);return g.call(this,r,i,a,o,d,l),this};var E=function(t,r,a,o){var s,A,u;if("string"==typeof t&&i(t)===n){t=unescape(t);var p=F(t,!1);(""!==p||void 0!==(p=e.loadFile(t,!0)))&&(t=p)}if(h(t)&&(t=f(t,r)),r=i(t,r),!c(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(u=a)||0===u.length)&&(a=function(e){return"string"==typeof e||x(e)?w(e):x(e.data)?w(e.data):null}(t)),(s=d.call(this,a))||(t instanceof Uint8Array||"RGBA"===r||(A=t,t=B(t)),s=this["process"+r.toUpperCase()](t,l.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(o),A)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},F=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var a;n=null!==(a=b(e))&&void 0!==a?a:e;try{r=bS(n)}catch(i){if(t)throw y(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+i.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,a,o="";if(h(t)&&(t=f(t)),"string"==typeof t&&i(t)===n&&(""===(o=F(t,!1))&&(o=e.loadFile(t)||""),t=o),a=i(t),!c(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=B(t)),!(r=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}(VS.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};VS.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),A=e.pageContext.annotations,u=!1,l=0;l<A.length&&!u;l++)switch((n=A[l]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var c=0;c<A.length;c++){n=A[c];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(d.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+h(g(m))+") >>",d.content=i;var v=d.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var b=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+b+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,a,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var A=this.splitTextToSize(e,a).length;i=Math.ceil(s*A)}else a=o,i=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-s,a,i,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(VS.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&a(e)&&4==t[e.charCodeAt(0)].length},c=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",a=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(a++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,i+=e.charAt(t-(a-1)),t-=a-1,a=0)):(r=n,i+=e.charAt(t-a),t-=a,a=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===a(e)?-1:!u(e)||!o(t)&&!o(n)||!o(n)&&s(t)||s(e)&&!o(t)||s(e)&&A(t)||s(e)&&s(t)?0:l(e)&&o(t)&&!s(t)&&o(n)&&u(n)?3:s(e)||!o(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,a="",s="",A="",u=(e=e||"").split("\\s+"),l=[];for(n=0;n<u.length;n+=1){for(l.push(""),r=0;r<u[n].length;r+=1)a=u[n][r],s=u[n][r-1],A=u[n][r+1],o(a)?(i=h(a,s,A),l[n]+=-1!==i?String.fromCharCode(t[a.charCodeAt(0)][i]):a):l[n]+=a;l[n]=c(l[n])}return l.join(" ")},d=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",d])}(VS.API),VS.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(VS.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,A=0,u=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(u.splitTextToSize(t,l))},[])):e=Array.isArray(e)?e:[e];for(var c=0;c<e.length;c++)o<(A=this.getStringUnitWidth(e[c],{font:i})*n)&&(o=A);return 0!==o&&(s=e.length),{w:o/=a,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,u&&A&&(this.printHeaderRow(e.lineNumber,!0),e.y+=A[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,A,u,l){if(r.call(this),!A)throw new Error("No data for PDF table.");var c,h,f,d,p=[],g=[],m=[],v={},w={},y=[],b=[],x=(l=l||{}).autoSize||!1,B=!1!==l.printHeaders,C=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,E=l.margins||Object.assign({width:this.getPageWidth()},t),F="number"==typeof l.padding?l.padding:3,S=l.headerBackgroundColor||"#c8c8c8",k=l.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=k,this.setFontSize(C),null==u)g=p=Object.keys(A[0]),m=p.map(function(){return"left"});else if(Array.isArray(u)&&"object"===(0,nx.A)(u[0]))for(p=u.map(function(e){return e.name}),g=u.map(function(e){return e.prompt||e.name||""}),m=u.map(function(e){return e.align||"left"}),c=0;c<u.length;c+=1)w[u[c].name]=.7499990551181103*u[c].width;else Array.isArray(u)&&"string"==typeof u[0]&&(g=p=u,m=p.map(function(){return"left"}));if(x||Array.isArray(u)&&"string"==typeof u[0])for(c=0;c<p.length;c+=1){for(v[d=p[c]]=A.map(function(e){return e[d]}),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(g[c],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=v[d],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)y.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[d]=Math.max.apply(null,y)+F+F,y=[]}if(B){var _={};for(c=0;c<p.length;c+=1)_[p[c]]={},_[p[c]].text=g[c],_[p[c]].align=m[c];var I=s.call(this,_,w);b=p.map(function(t){return new a(e,n,w[t],I,_[t].text,void 0,_[t].align)}),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var N=u.reduce(function(e,t){return e[t.name]=t.align,e},{});for(c=0;c<A.length;c+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:c,data:A[c]},this);var U=s.call(this,A[c],w);for(f=0;f<p.length;f+=1){var L=A[c][p[f]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:c,col:f,data:L},this),o.call(this,new a(e,n,w[p[f]],U,L,c+2,N[p[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){i=this.internal.__cell__.tableHeaderRow[u].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,A.push(i)),i.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(l)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}}(VS.API);var Qk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Dk=Lk(Rk),Tk=[100,200,300,400,500,600,700,800,900],Pk=Lk(Tk);function Ok(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Qk[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof Dk[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Mk(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var jk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Kk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zk(e){return e.trimLeft()}function Wk(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Vk(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Gk,qk,Xk,Yk,Jk,$k,Zk,e_,t_=["times"];function n_(e,t,n,r){var i=4,a=a_;switch(r){case VS.API.image_compression.FAST:i=1,a=i_;break;case VS.API.image_compression.MEDIUM:i=6,a=o_;break;case VS.API.image_compression.SLOW:i=9,a=s_}e=function(e,t,n,r){for(var i,a=e.length/t,o=new Uint8Array(e.length+a),s=[r_,i_,a_,o_,s_],A=0;A<a;A+=1){var u=A*t,l=e.subarray(u,u+t);if(r)o.set(r(l,n,i),u+A);else{for(var c=s.length,h=[],f=0;f<c;f+=1)h[f]=s[f](l,n,i);var d=u_(h.concat());o.set(h[d],u+A)}i=l}return o}(e,t,n,a);var o=Mx(e,{level:i});return VS.API.__addimage__.arrayBufferToBinaryString(o)}function r_(e){var t=Array.apply([],e);return t.unshift(0),t}function i_(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function a_(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function o_(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,s=n&&n[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function s_(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=A_(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function A_(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function u_(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function l_(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return h_(e,i)>>a&o}function c_(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,A=(t&s)<<o;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,a,h_(e,a)&~(s<<o)&65535|A)}function h_(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function f_(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,A=null;a&&(s=t,A=o,t+=3*o);var u=!0,l=[],c=0,h=null,f=0,d=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,d=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];c=e[t++]|e[t++]<<8,h=e[t++],1&p||(h=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,y=e[t++],b=y>>6&1,x=1<<1+(7&y),B=s,C=A,E=!1;y>>7&&(E=!0,B=t,C=x,t+=3*x);var F=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}l.push({x:g,y:m,width:v,height:w,has_local_palette:E,palette_offset:B,palette_size:C,data_offset:F,data_length:t-F,transparent_index:h,interlaced:!!b,delay:c,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return d},this.frameInfo=function(e){if(e<0||e>=l.length)throw new Error("Frame index out of range.");return l[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);d_(e,i.data_offset,o,a);var s=i.palette_offset,A=i.transparent_index;null===A&&(A=256);var u=i.width,l=n-u,c=u,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,v=o.length;m<v;++m){var w=o[m];if(0===c&&(c=u,(d+=p)>=f&&(p=4*l+4*n*(g-1),d=h+(u+l)*(g<<1),g>>=1)),w===A)d+=4;else{var y=e[s+3*w],b=e[s+3*w+1],x=e[s+3*w+2];r[d++]=x,r[d++]=b,r[d++]=y,r[d++]=255}--c}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);d_(e,i.data_offset,o,a);var s=i.palette_offset,A=i.transparent_index;null===A&&(A=256);var u=i.width,l=n-u,c=u,h=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,v=o.length;m<v;++m){var w=o[m];if(0===c&&(c=u,(d+=p)>=f&&(p=4*l+4*n*(g-1),d=h+(u+l)*(g<<1),g>>=1)),w===A)d+=4;else{var y=e[s+3*w],b=e[s+3*w+1],x=e[s+3*w+2];r[d++]=y,r[d++]=b,r[d++]=x,r[d++]=255}--c}}}function d_(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,A=i+1,u=(1<<A)-1,l=0,c=0,h=0,f=e[t++],d=new Int32Array(4096),p=null;;){for(;l<16&&0!==f;)c|=e[t++]<<l,l+=8,1===f?f=e[t++]:--f;if(l<A)break;var g=c&u;if(c>>=A,l-=A,g!==a){if(g===o)break;for(var m=g<s?g:p,v=0,w=m;w>a;)w=d[w]>>8,++v;var y=w;if(h+v+(m!==g?1:0)>r)return void pS.log("Warning, gif stream longer than expected.");n[h++]=y;var b=h+=v;for(m!==g&&(n[h++]=y),w=m;v--;)w=d[w],n[--b]=255&w,w>>=8;null!==p&&s<4096&&(d[s++]=p<<8|y,s>=u+1&&A<12&&(++A,u=u<<1|1)),p=g}else s=o+1,u=(1<<(A=i+1))-1,p=null}return h!==r&&pS.log("Warning, gif stream shorter than expected."),n}function p_(e){var t,n,r,i,a,o=Math.floor,s=new Array(64),A=new Array(64),u=new Array(64),l=new Array(64),c=new Array(65535),h=new Array(65535),f=new Array(64),d=new Array(64),p=[],g=0,m=7,v=new Array(64),w=new Array(64),y=new Array(64),b=new Array(256),x=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(e,t){for(var n=0,r=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=a,r++,n++;n*=2}return i}function L(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(Q(255),Q(0)):Q(g),m=7,g=0)}function Q(e){p.push(e)}function R(e){Q(e>>8&255),Q(255&e)}function D(e,t,n,r,i){for(var a,o=i[0],s=i[240],A=function(e,t){var n,r,i,a,o,s,A,u,l,c,h=0;for(l=0;l<8;++l){n=e[h],r=e[h+1],i=e[h+2],a=e[h+3],o=e[h+4],s=e[h+5],A=e[h+6];var d=n+(u=e[h+7]),p=n-u,g=r+A,m=r-A,v=i+s,w=i-s,y=a+o,b=a-o,x=d+y,B=d-y,C=g+v,E=g-v;e[h]=x+C,e[h+4]=x-C;var F=.707106781*(E+B);e[h+2]=B+F,e[h+6]=B-F;var S=.382683433*((x=b+w)-(E=m+p)),k=.5411961*x+S,_=1.306562965*E+S,I=.707106781*(C=w+m),N=p+I,U=p-I;e[h+5]=U+k,e[h+3]=U-k,e[h+1]=N+_,e[h+7]=N-_,h+=8}for(h=0,l=0;l<8;++l){n=e[h],r=e[h+8],i=e[h+16],a=e[h+24],o=e[h+32],s=e[h+40],A=e[h+48];var L=n+(u=e[h+56]),Q=n-u,R=r+A,D=r-A,T=i+s,P=i-s,O=a+o,M=a-o,j=L+O,H=L-O,K=R+T,z=R-T;e[h]=j+K,e[h+32]=j-K;var W=.707106781*(z+H);e[h+16]=H+W,e[h+48]=H-W;var V=.382683433*((j=M+P)-(z=D+Q)),G=.5411961*j+V,q=1.306562965*z+V,X=.707106781*(K=P+D),Y=Q+X,J=Q-X;e[h+40]=J+G,e[h+24]=J-G,e[h+8]=Y+q,e[h+56]=Y-q,h++}for(l=0;l<64;++l)c=e[l]*t[l],f[l]=c>0?c+.5|0:c-.5|0;return f}(e,t),u=0;u<64;++u)d[B[u]]=A[u];var l=d[0]-n;n=d[0],0==l?L(r[0]):(L(r[h[a=32767+l]]),L(c[a]));for(var p=63;p>0&&0==d[p];)p--;if(0==p)return L(o),n;for(var g,m=1;m<=p;){for(var v=m;0==d[m]&&m<=p;)++m;var w=m-v;if(w>=16){g=w>>4;for(var y=1;y<=g;++y)L(s);w&=15}a=32767+d[m],L(i[(w<<4)+h[a]]),L(c[a]),m++}return 63!=p&&L(o),n}function T(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[B[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var c=o((i[a]*e+50)/100);c=Math.min(Math.max(c,1),255),A[B[a]]=c}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,d=0;d<8;d++)for(var p=0;p<8;p++)u[f]=1/(s[B[f]]*h[d]*h[p]*8),l[f]=1/(A[B[f]]*h[d]*h[p]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&T(a),p=new Array,g=0,m=7,R(65496),R(65504),R(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),R(1),R(1),Q(0),Q(0),function(){R(65499),R(132),Q(0);for(var e=0;e<64;e++)Q(s[e]);Q(1);for(var t=0;t<64;t++)Q(A[t])}(),function(e,t){R(65472),R(17),Q(8),R(t),R(e),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(e.width,e.height),function(){R(65476),R(418),Q(0);for(var e=0;e<16;e++)Q(C[e+1]);for(var t=0;t<=11;t++)Q(E[t]);Q(16);for(var n=0;n<16;n++)Q(F[n+1]);for(var r=0;r<=161;r++)Q(S[r]);Q(1);for(var i=0;i<16;i++)Q(k[i+1]);for(var a=0;a<=11;a++)Q(_[a]);Q(17);for(var o=0;o<16;o++)Q(I[o+1]);for(var s=0;s<=161;s++)Q(N[s])}(),R(65498),R(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var o=0,c=0,h=0;g=0,m=7,this.encode.displayName="_encode_";for(var f,d,b,B,U,P,O,M,j,H=e.data,K=e.width,z=e.height,W=4*K,V=0;V<z;){for(f=0;f<W;){for(U=W*V+f,O=-1,M=0,j=0;j<64;j++)P=U+(M=j>>3)*W+(O=4*(7&j)),V+M>=z&&(P-=W*(V+1+M-z)),f+O>=W&&(P-=f+O-W+4),d=H[P++],b=H[P++],B=H[P++],v[j]=(x[d]+x[b+256|0]+x[B+512|0]>>16)-128,w[j]=(x[d+768|0]+x[b+1024|0]+x[B+1280|0]>>16)-128,y[j]=(x[d+1280|0]+x[b+1536|0]+x[B+1792|0]>>16)-128;o=D(v,u,o,t,r),c=D(w,l,c,n,i),h=D(y,l,h,n,i),f+=32}V+=8}if(m>=0){var G=[];G[1]=m+1,G[0]=(1<<m+1)-1,L(G)}return R(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)b[t]=e(t)}(),t=U(C,E),n=U(k,_),r=U(F,S),i=U(I,N),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,c[32767+r]=[],c[32767+r][1]=n,c[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,c[32767+i]=[],c[32767+i][1]=n,c[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),T(e)}function g_(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m_(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var a=0;a<i;a++)e[t+a]=n[r+a]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function a(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var a=i[r],o=0;o<a&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));o++)e(n[o],r+1,i)}(n,0,e),n}var A=function(){var e=this;function A(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function u(e,n,r,i,a){t(!(i%r));do{e[n+(i-=r)]=a}while(0<i)}function l(e,n,r,i,o){if(t(2328>=o),512>=o)var s=a(512);else if(null==(s=a(o)))return 0;return function(e,n,r,i,o,s){var l,h,f=n,d=1<<r,p=a(16),g=a(16);for(t(0!=o),t(null!=i),t(null!=e),t(0<r),h=0;h<o;++h){if(15<i[h])return 0;++p[i[h]]}if(p[0]==o)return 0;for(g[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;g[l+1]=g[l]+p[l]}for(h=0;h<o;++h)l=i[h],0<i[h]&&(s[g[l]++]=h);if(1==g[15])return(i=new c).g=0,i.value=s[0],u(e,f,1,d,i),d;var m,v=-1,w=d-1,y=0,b=1,x=1,B=1<<r;for(h=0,l=1,o=2;l<=r;++l,o<<=1){if(b+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l])(i=new c).g=l,i.value=s[h++],u(e,f+y,o,B,i),y=A(y,l)}for(l=r+1,o=2;15>=l;++l,o<<=1){if(b+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l]){if(i=new c,(y&w)!=v){for(f+=B,m=1<<(v=l)-r;15>v&&!(0>=(m-=p[v]));)++v,m<<=1;d+=B=1<<(m=v-r),e[n+(v=y&w)].g=m+r,e[n+v].value=f-n-v}i.g=l-r,i.value=s[h++],u(e,f+(y>>r),o,B,i),y=A(y,l)}}return b!=2*g[15]-1?0:d}(e,n,r,i,o,s)}function c(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=o(5,c),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pn,h)}function d(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,F(e)}function p(e,t){for(var n=0;0<t--;)n|=k(e,128)<<t;return n}function g(e,t){var n=p(e,t);return S(e)?-n:n}function m(e,n,r,i){var a,o=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)o+=n[r+a]<<8*a;e.Ra=o,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<jn-8>>>0,++e.bb,e.u-=8;B(e)&&(e.h=1,e.u=0)}function w(e,n){if(t(0<=n),!e.h&&n<=Mn){var r=x(e)&On[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&jn-1)>>>0}function B(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>jn}function C(e,t){e.u=t,e.h=B(e)}function E(e){e.u>=Hn&&(t(e.u>=Hn),v(e))}function F(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function S(e){return p(e,1)}function k(e,t){var n=e.Ca;0>e.b&&F(e);var r=e.b,i=n*t>>>8,a=(e.I>>>r>i)+0;for(a?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Kn[r],e.b-=r,e.Ca=(n<<r)-1,a}function _(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function I(e,t){return e[t+0]|e[t+1]<<8}function N(e,t){return I(e,t)|e[t+2]<<16}function U(e,t){return I(e,t)|I(e,t+2)<<16}function L(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=a(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function Q(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var a=r[0],o=i[0];return 0==a&&(a=(e*o+n/2)/n),0==o&&(o=(n*a+e/2)/e),0>=a||0>=o?0:(r[0]=a,i[0]=o,1)}function T(e,t){return e+(1<<t)-1>>>t}function P(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function O(t,n){e[n]=function(n,r,i,a,o,s,A){var u;for(u=0;u<o;++u){var l=e[t](s[A+u-1],i,a+u);s[A+u]=P(n[r+u],l)}}}function M(){this.ud=this.hd=this.jd=0}function j(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function K(e,t){return H(e+(e-t+.5>>1))}function z(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,i,a,o){for(r=a[o-1],n=0;n<i;++n)a[o+n]=r=P(e[t+n],r)}function V(e,t,n,r,i){var a;for(a=0;a<n;++a){var o=e[t+a],s=o>>8&255,A=16711935&(A=(A=16711935&o)+((s<<16)+s));r[i+a]=(4278255360&o)+A>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function q(e,t,n,r,i,a){var o;for(o=0;o<r;++o){var s=t[n+o],A=s>>>8,u=s,l=255&(l=(l=s>>>16)+((e.jd<<24>>24)*(A<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(A<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[a+o]=(4278255360&s)+(l<<16)+u}}function X(t,n,r,i,a){e[n]=function(e,t,n,r,o,s,A,u,l){for(r=A;r<u;++r)for(A=0;A<l;++A)o[s++]=a(n[i(e[t++])])},e[t]=function(t,n,o,s,A,u,l){var c=8>>t.b,h=t.Ea,f=t.K[0],d=t.w;if(8>c)for(t=(1<<t.b)-1,d=(1<<c)-1;n<o;++n){var p,g=0;for(p=0;p<h;++p)p&t||(g=i(s[A++])),u[l++]=a(f[g&d]),g>>=c}else e["VP8LMapColor"+r](s,A,f,d,u,l,n,o,h)}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a}}function J(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a,r[i++]=a>>24&255}}function $(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[i++]=a,r[i++]=o}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=a,r[i++]=o}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=255&a,r[i++]=a>>8&255,r[i++]=a>>16&255}}function te(e,t,n,i,a,o){if(0==o)for(n=t+n;t<n;)_(i,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else r(i,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Hr||e==Kr||e==zr||e==Wr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new ae,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ae(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var n=e.T,i=t.ba.f.RGBA,a=i.eb,o=i.fb+e.ka*i.A,s=gi[t.ba.S],A=e.y,u=e.O,l=e.f,c=e.N,h=e.ea,f=e.W,d=t.cc,p=t.dc,g=t.Mc,m=t.Nc,v=e.ka,w=e.ka+e.T,y=e.U,b=y+1>>1;for(0==v?s(A,u,null,null,l,c,h,f,l,c,h,f,a,o,null,null,y):(s(t.ec,t.fc,A,u,d,p,g,m,l,c,h,f,a,o-i.A,a,o,y),++n);v+2<w;v+=2)d=l,p=c,g=h,m=f,c+=e.Rc,f+=e.Rc,o+=2*i.A,s(A,(u+=2*e.fa)-e.fa,A,u,d,p,g,m,l,c,h,f,a,o-i.A,a,o,y);return u+=e.fa,e.j+w<e.o?(r(t.ec,t.fc,A,u,y),r(t.cc,t.dc,l,c,b),r(t.Mc,t.Nc,h,f,b),n--):1&w||s(A,u,null,null,l,c,h,f,l,c,h,f,a,o+i.A,null,null,y),n}function ce(e,n,r){var i=e.F,a=[e.J];if(null!=i){var o=e.U,s=n.ba.S,A=s==Or||s==zr;n=n.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var c=n.eb;l=n.fb+l*n.A,e=Cr(i,a[0],e.width,o,u,c,l+(A?0:3),n.A),t(r==u),e&&re(s)&&xr(c,l,A,o,u,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Dr||n==Pr||n==Or||n==Mr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Rn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ue,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=le,vn()}}else alert("todo:EmitYUV");i&&(t.Jb=ce,r&&gn())}if(r&&!Ii){for(e=0;256>e;++e)Ni[e]=89858*(e-128)+Ei>>Ci,Qi[e]=-22014*(e-128)+Ei,Li[e]=-45773*(e-128),Ui[e]=113618*(e-128)+Ei>>Ci;for(e=Fi;e<Si;++e)t=76283*(e-16)+Ei>>Ci,Ri[e-Fi]=We(t,255),Di[e-Fi]=We(t+8>>4,15);Ii=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function de(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=w(e,8)?0:(t[0]=w(e,14)+1,n[0]=w(e,14)+1,r[0]=w(e,1),0!=w(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+w(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(C(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),C(n,n.u+e[t].g),e[t].value}function we(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function be(e,n,i,a){var o=e.ab,s=e.c*n,A=e.C;n=A+n;var u=i,l=a;for(a=e.Ta,i=e.Ua;0<o--;){var c=e.gc[o],h=A,f=n,d=u,p=l,g=(l=a,u=i,c.Ea);switch(t(h<f),t(f<=c.nc),c.hc){case 2:Vn(d,p,(f-h)*g,l,u);break;case 0:var m=h,v=f,w=l,y=u,b=(F=c).Ea;0==m&&(zn(d,p,null,null,1,w,y),W(d,p+1,0,0,b-1,w,y+1),p+=b,y+=b,++m);for(var x=1<<F.b,B=x-1,C=T(b,F.b),E=F.K,F=F.w+(m>>F.b)*C;m<v;){var S=E,k=F,_=1;for(Wn(d,p,w,y-b,1,w,y);_<b;){var I=(_&~B)+x;I>b&&(I=b),(0,Jn[S[k++]>>8&15])(d,p+ +_,w,y+_-b,I-_,w,y+_),_=I}p+=b,y+=b,++m&B||(F+=C)}f!=c.nc&&r(l,u-g,l,u+(f-h-1)*g,g);break;case 1:for(g=d,v=p,b=(d=c.Ea)-(y=d&~(w=(p=1<<c.b)-1)),m=T(d,c.b),x=c.K,c=c.w+(h>>c.b)*m;h<f;){for(B=x,C=c,E=new M,F=v+y,S=v+d;v<F;)G(B[C++],E),$n(E,g,v,p,l,u),v+=p,u+=p;v<S&&(G(B[C++],E),$n(E,g,v,b,l,u),v+=b,u+=b),++h&w||(c+=m)}break;case 3:if(d==l&&p==u&&0<c.b){for(v=l,d=g=u+(f-h)*g-(y=(f-h)*T(c.Ea,c.b)),p=l,w=u,m=[],y=(b=y)-1;0<=y;--y)m[y]=p[w+y];for(y=b-1;0<=y;--y)v[d+y]=m[y];Gn(c,h,f,l,g,l,u)}else Gn(c,h,f,d,p,l,u)}u=a,l=i}l!=i&&r(a,i,u,l,s)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var o=e.l,s=e.Ta,A=e.Ua,u=o.width;if(be(e,a,r,i),a=A=[A],t((r=e.C)<(i=n)),t(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var l=o.j-r;r=o.j,a[0]+=l*u}if(r>=i?r=0:(a[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(A=A[0],11>(r=e.ca).S){var c=r.f.RGBA,h=(i=r.S,a=o.U,o=o.T,l=c.eb,c.A),f=o;for(c=c.fb+e.Ma*c.A;0<f--;){var d=s,p=A,g=a,m=l,v=c;switch(i){case Rr:Zn(d,p,g,m,v);break;case Dr:er(d,p,g,m,v);break;case Hr:er(d,p,g,m,v),xr(m,v,0,g,1,0);break;case Tr:rr(d,p,g,m,v);break;case Pr:te(d,p,g,m,v,1);break;case Kr:te(d,p,g,m,v,1),xr(m,v,0,g,1,0);break;case Or:te(d,p,g,m,v,0);break;case zr:te(d,p,g,m,v,0),xr(m,v,1,g,1,0);break;case Mr:tr(d,p,g,m,v);break;case Wr:tr(d,p,g,m,v),Br(m,v,g,1,0);break;case jr:nr(d,p,g,m,v);break;default:t(0)}A+=u,c+=h}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Be(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ce(e,n,r,i,a,o){if(0!=e.Z){var s=e.qd,A=e.rd;for(t(null!=pi[e.Z]);n<r;++n)pi[e.Z](s,A,i,a,i,a,o),s=i,A=a,a+=o;e.qd=s,e.rd=A}}function Ee(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var a=e.l.width,o=r.ca,s=r.tb+a*i,A=e.V,u=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),Xn(l[0],i,n,A,u,o,s),Ce(r,i,n,o,s,a)}e.C=e.Ma=n}function Fe(e,n,r,i,a,o,s){var A=e.$/i,u=e.$%i,l=e.m,c=e.s,h=r+e.$,f=h;a=r+i*a;var d=r+i*o,p=280+c.ua,g=e.Pb?A:16777216,m=0<c.ua?c.Wa:null,v=c.wc,w=h<d?ye(c,u,A):null;t(e.C<o),t(d<=a);var y=!1;e:for(;;){for(;y||h<d;){var b=0;if(A>=g){var F=h-r;t((g=e).Pb),g.wd=g.m,g.xd=F,0<g.s.ua&&Q(g.s.Wa,g.s.vb),g=A+Zr}if(u&v||(w=ye(c,u,A)),t(null!=w),w.Qb&&(n[h]=w.qb,y=!0),!y)if(E(l),w.jc){b=l,F=n;var S=h,k=w.pd[x(b)&Pn-1];t(w.jc),256>k.g?(C(b,b.u+k.g),F[S]=k.value,b=0):(C(b,b.u+k.g-256),t(256<=k.value),b=k.value),0==b&&(y=!0)}else b=ve(w.G[0],w.H[0],l);if(l.h)break;if(y||256>b){if(!y)if(w.nd)n[h]=(w.qb|b<<8)>>>0;else{if(E(l),y=ve(w.G[1],w.H[1],l),E(l),F=ve(w.G[2],w.H[2],l),S=ve(w.G[3],w.H[3],l),l.h)break;n[h]=(S<<24|y<<16|b<<8|F)>>>0}if(y=!1,++h,++u>=i&&(u=0,++A,null!=s&&A<=o&&!(A%16)&&s(e,A),null!=m))for(;f<h;)b=n[f++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else if(280>b){if(b=ge(b-256,l),F=ve(w.G[4],w.H[4],l),E(l),F=me(i,F=ge(F,l)),l.h)break;if(h-r<F||a-h<b)break e;for(S=0;S<b;++S)n[h+S]=n[h+S-F];for(h+=b,u+=b;u>=i;)u-=i,++A,null!=s&&A<=o&&!(A%16)&&s(e,A);if(t(h<=a),u&v&&(w=ye(c,u,A)),null!=m)for(;f<h;)b=n[f++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else{if(!(b<p))break e;for(y=b-280,t(null!=m);f<h;)b=n[f++],m.X[(506832829*b&4294967295)>>>m.Mb]=b;b=h,t(!(y>>>(F=m).Xa)),n[b]=F.X[y],y=!0}y||t(l.h==B(l))}if(e.Pb&&l.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&Q(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=s&&s(e,A>o?o:A),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Se(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function ke(){var t=new on;return null==t?null:(t.a=0,t.xb=di,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Vn=V,$n=q,Zn=Y,er=J,tr=$,nr=Z,rr=ee,e.VP8LMapColor32b=qn,e.VP8LMapColor8b=Yn,t)}function _e(e,n,r,s,A){var u=1,h=[e],d=[n],p=s.m,g=s.s,m=null,v=0;e:for(;;){if(r)for(;u&&w(p,1);){var y=h,b=d,B=s,F=1,S=B.m,k=B.gc[B.ab],_=w(S,2);if(B.Oc&1<<_)u=0;else{switch(B.Oc|=1<<_,k.hc=_,k.Ea=y[0],k.nc=b[0],k.K=[null],++B.ab,t(4>=B.ab),_){case 0:case 1:k.b=w(S,3)+2,F=_e(T(k.Ea,k.b),T(k.nc,k.b),0,B,k.K),k.K=k.K[0];break;case 3:var I,N=w(S,8)+1,U=16<N?0:4<N?1:2<N?2:3;if(y[0]=T(k.Ea,U),k.b=U,I=F=_e(N,1,0,B,k.K)){var Q,R=N,D=k,O=1<<(8>>D.b),M=a(O);if(null==M)I=0;else{var j=D.K[0],H=D.w;for(M[0]=D.K[0][0],Q=1;Q<1*R;++Q)M[Q]=P(j[H+Q],M[Q-1]);for(;Q<4*O;++Q)M[Q]=0;D.K[0]=null,D.K[0]=M,I=1}}F=I;break;case 2:break;default:t(0)}u=F}}if(h=h[0],d=d[0],u&&w(p,1)&&!(u=1<=(v=w(p,4))&&11>=v)){s.a=3;break e}var K;if(K=u)t:{var z,W,V,G=s,q=h,X=d,Y=v,J=r,$=G.m,Z=G.s,ee=[null],te=1,ne=0,re=$r[Y];n:for(;;){if(J&&w($,1)){var ie=w($,3)+2,ae=T(q,ie),oe=T(X,ie),se=ae*oe;if(!_e(ae,oe,0,G,ee))break n;for(ee=ee[0],Z.xc=ie,z=0;z<se;++z){var Ae=ee[z]>>8&65535;ee[z]=Ae,Ae>=te&&(te=Ae+1)}}if($.h)break n;for(W=0;5>W;++W){var ue=qr[W];!W&&0<Y&&(ue+=1<<Y),ne<ue&&(ne=ue)}var le=o(te*re,c),ce=te,he=o(ce,f);if(null==he)var fe=null;else t(65536>=ce),fe=he;var de=a(ne);if(null==fe||null==de||null==le){G.a=1;break n}var pe=le;for(z=V=0;z<te;++z){var ge=fe[z],me=ge.G,ve=ge.H,ye=0,be=1,xe=0;for(W=0;5>W;++W){ue=qr[W],me[W]=pe,ve[W]=V,!W&&0<Y&&(ue+=1<<Y);r:{var Be,Ce=ue,Ee=G,ke=de,Ie=pe,Ne=V,Ue=0,Le=Ee.m,Qe=w(Le,1);if(i(ke,0,0,Ce),Qe){var Re=w(Le,1)+1,De=w(Le,1),Te=w(Le,0==De?1:8);ke[Te]=1,2==Re&&(ke[Te=w(Le,8)]=1);var Pe=1}else{var Oe=a(19),Me=w(Le,4)+4;if(19<Me){Ee.a=3;var je=0;break r}for(Be=0;Be<Me;++Be)Oe[Yr[Be]]=w(Le,3);var He=void 0,Ke=void 0,ze=Ee,We=Oe,Ve=Ce,Ge=ke,qe=0,Xe=ze.m,Ye=8,Je=o(128,c);i:for(;l(Je,0,7,We,19);){if(w(Xe,1)){var $e=2+2*w(Xe,3);if((He=2+w(Xe,$e))>Ve)break i}else He=Ve;for(Ke=0;Ke<Ve&&He--;){E(Xe);var Ze=Je[0+(127&x(Xe))];C(Xe,Xe.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ke++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],it=w(Xe,Vr[nt])+rt;if(Ke+it>Ve)break i;for(var at=tt?Ye:0;0<it--;)Ge[Ke++]=at}}qe=1;break i}qe||(ze.a=3),Pe=qe}(Pe=Pe&&!Le.h)&&(Ue=l(Ie,Ne,8,ke,Ce)),Pe&&0!=Ue?je=Ue:(Ee.a=3,je=0)}if(0==je)break n;if(be&&1==Xr[W]&&(be=0==pe[V].g),ye+=pe[V].g,V+=je,3>=W){var ot,st=de[0];for(ot=1;ot<ue;++ot)de[ot]>st&&(st=de[ot]);xe+=st}}if(ge.nd=be,ge.Qb=0,be&&(ge.qb=(me[3][ve[3]+0].value<<24|me[1][ve[1]+0].value<<16|me[2][ve[2]+0].value)>>>0,0==ye&&256>me[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var At,ut=ge;for(At=0;At<Pn;++At){var lt=At,ct=ut.pd[lt],ht=ut.G[0][ut.H[0]+lt];256<=ht.value?(ct.g=ht.g+256,ct.value=ht.value):(ct.g=0,ct.value=0,lt>>=we(ht,8,ct),lt>>=we(ut.G[1][ut.H[1]+lt],16,ct),lt>>=we(ut.G[2][ut.H[2]+lt],0,ct),we(ut.G[3][ut.H[3]+lt],24,ct))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=le,K=1;break t}K=0}if(!(u=K)){s.a=3;break e}if(0<v){if(g.ua=1<<v,!L(g.Wa,v)){s.a=1,u=0;break e}}else g.ua=0;var ft=s,dt=h,pt=d,gt=ft.s,mt=gt.xc;if(ft.c=dt,ft.i=pt,gt.md=T(dt,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){s.xb=fi;break e}if(null==(m=a(h*d))){s.a=1,u=0;break e}u=(u=Fe(s,m,0,h,d,d,null))&&!p.h;break e}return u?(null!=A?A[0]=m:(t(null==m),t(r)),s.$=0,r||Se(g)):Se(g),u}function Ie(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ne(e,n){var r=e.C,i=n-r,a=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,A=e.l.ma,u=e.l.width,l=u*s,c=A.ca,h=A.tb+u*r,f=e.Ta,d=e.Ua;be(e,s,a,o),Er(f,d,c,h,l),Ce(A,r,r+s,c,h,u),i-=s,a+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Ue(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Re(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],a=0;a<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e,0,[3,11]),e}()}function De(){this.jb=a(3),this.Wc=s([4,8],Re),this.Xc=s([4,17],Re)}function Te(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pe(){this.ld=this.La=this.dd=this.tc=0}function Oe(){this.Na=this.la=0}function Me(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function je(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pe),this.Y=0,this.ya=Array(new je),this.aa=0,this.l=new Ve}function Ke(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ze(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Ue,this.Kc=new Le,this.ed=new Te,this.Qa=new Qe,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,y),this.ia=0,this.pb=o(4,Me),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ke),this.Hd=0,this.rb=Array(new Oe),this.sb=0,this.wa=Array(new Pe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new je),this.L=this.aa=0,this.gd=s([4,2],Pe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new ze;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Je)),e}function qe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Xe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return qe(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,o=n.ha;if(4>o)return qe(e,7,"Truncated header.");var s=r[a+0]|r[a+1]<<8|r[a+2]<<16,A=e.Od;if(A.Rb=!(1&s),A.td=s>>1&7,A.yd=s>>4&1,A.ub=s>>5,3<A.td)return qe(e,3,"Incorrect keyframe parameters.");if(!A.yd)return qe(e,4,"Frame not displayable.");a+=3,o-=3;var u=e.Kc;if(A.Rb){if(7>o)return qe(e,7,"cannot parse picture header");if(!Xe(r,a,o))return qe(e,3,"Bad code word");u.c=16383&(r[a+4]<<8|r[a+3]),u.Td=r[a+4]>>6,u.i=16383&(r[a+6]<<8|r[a+5]),u.Ud=r[a+6]>>6,a+=7,o-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,n.width=u.c,n.height=u.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(A.ub>o)return qe(e,7,"bad partition length");d(s=e.m,r,a,A.ub),a+=A.ub,o-=A.ub,A.Rb&&(u.Ld=S(s),u.Kd=S(s)),u=e.Qa;var l,c=e.Pa;if(t(null!=s),t(null!=u),u.Cb=S(s),u.Cb){if(u.Bb=S(s),S(s)){for(u.Fb=S(s),l=0;4>l;++l)u.Zb[l]=S(s)?g(s,7):0;for(l=0;4>l;++l)u.Lb[l]=S(s)?g(s,6):0}if(u.Bb)for(l=0;3>l;++l)c.jb[l]=S(s)?p(s,8):255}else u.Bb=0;if(s.Ka)return qe(e,3,"cannot parse segment header");if((u=e.ed).zd=S(s),u.Tb=p(s,6),u.wb=p(s,3),u.Pc=S(s),u.Pc&&S(s)){for(c=0;4>c;++c)S(s)&&(u.vd[c]=g(s,6));for(c=0;4>c;++c)S(s)&&(u.od[c]=g(s,6))}if(e.L=0==u.Tb?0:u.zd?1:2,s.Ka)return qe(e,3,"cannot parse filter header");var h=o;if(o=l=a,a=l+h,u=h,e.Xb=(1<<p(e.m,2))-1,h<3*(c=e.Xb))r=7;else{for(l+=3*c,u-=3*c,h=0;h<c;++h){var f=r[o+0]|r[o+1]<<8|r[o+2]<<16;f>u&&(f=u),d(e.Jc[+h],r,l,f),l+=f,u-=f,o+=3}d(e.Jc[+c],r,l,u),r=l<a?0:5}if(0!=r)return qe(e,r,"cannot parse partitions");for(r=p(l=e.m,7),o=S(l)?g(l,4):0,a=S(l)?g(l,4):0,u=S(l)?g(l,4):0,c=S(l)?g(l,4):0,l=S(l)?g(l,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var m=h.Zb[f];h.Fb||(m+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}m=r}var v=e.pb[f];v.Sc[0]=ei[We(m+o,127)],v.Sc[1]=ti[We(m+0,127)],v.Eb[0]=2*ei[We(m+a,127)],v.Eb[1]=101581*ti[We(m+u,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ei[We(m+c,117)],v.Qc[1]=ti[We(m+l,127)],v.lc=m+l}if(!A.Rb)return qe(e,4,"Not a key frame.");for(S(s),A=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(a=0;3>a;++a)for(u=0;11>u;++u)c=k(s,Ai[r][o][a][u])?p(s,8):oi[r][o][a][u],A.Wc[r][o].Yb[a][u]=c;for(o=0;17>o;++o)A.Xc[r][o]=A.Wc[r][ui[o]]}return e.kc=S(s),e.kc&&(e.Bd=p(s,8)),e.cb=1}function Je(e,t,n,r,i,a,o){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!k(e,s[n+0]))return i;for(;!k(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var A=t[i+1].Yb;if(k(e,s[n+2])){var u=e,l=0;if(k(u,(h=s)[(c=n)+3]))if(k(u,h[c+6])){for(s=0,c=2*(l=k(u,h[c+8]))+(h=k(u,h[c+9+l])),l=0,h=ri[c];h[s];++s)l+=l+k(u,h[s]);l+=3+(8<<c)}else k(u,h[c+7])?(l=7+2*k(u,165),l+=k(u,145)):l=5+k(u,159);else l=k(u,h[c+4])?3+k(u,h[c+5]):2;s=A[2]}else l=1,s=A[1];A=o+ii[i],0>(u=e).b&&F(u);var c,h=u.b,f=(c=u.Ca>>1)-(u.I>>h)>>31;--u.b,u.Ca+=f,u.Ca|=1,u.I-=(c+1&f)<<h,a[A]=((l^f)-f)*r[(0<i)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function et(e,t,n,r,i,a){Ze(e,t,0,n,r+i),Ze(e,t,1,n,r+a),Ze(e,t,2,n,r-a),Ze(e,t,3,n,r-i)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var i,o=0,s=a(16);for(i=0;4>i;++i){var A=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-tt(e[t+12]),c=tt(e[t+4])+(35468*e[t+12]>>16);s[o+0]=A+c,s[o+1]=u+l,s[o+2]=u-l,s[o+3]=A-c,o+=4,t++}for(i=o=0;4>i;++i)A=(e=s[o+0]+4)+s[o+8],u=e-s[o+8],l=(35468*s[o+4]>>16)-tt(s[o+12]),Ze(n,r,0,0,A+(c=tt(s[o+4])+(35468*s[o+12]>>16))),Ze(n,r,1,0,u+l),Ze(n,r,2,0,u-l),Ze(n,r,3,0,A-c),o++,r+=32}function rt(e,t,n,r){var i=e[t+0]+4,a=35468*e[t+4]>>16,o=tt(e[t+4]),s=35468*e[t+1]>>16;et(n,r,0,i+o,e=tt(e[t+1]),s),et(n,r,1,i+a,e,s),et(n,r,2,i-a,e,s),et(n,r,3,i-o,e,s)}function it(e,t,n,r,i){nt(e,t,n,r),i&&nt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function ot(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)Ze(n,r,t,i,e)}function st(e,t,n,r){e[t+0]&&Ar(e,t+0,n,r),e[t+16]&&Ar(e,t+16,n,r+4),e[t+32]&&Ar(e,t+32,n,r+128),e[t+48]&&Ar(e,t+48,n,r+128+4)}function At(e,t,n,r){var i,o=a(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],A=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];o[0+i]=s+A,o[8+i]=s-A,o[4+i]=l+u,o[12+i]=l-u}for(i=0;4>i;++i)s=(e=o[0+4*i]+3)+o[3+4*i],A=o[1+4*i]+o[2+4*i],u=o[1+4*i]-o[2+4*i],l=e-o[3+4*i],n[r+0]=s+A>>3,n[r+16]=l+u>>3,n[r+32]=s-A>>3,n[r+48]=l-u>>3,r+=64}function ut(e,t,n){var r,i=t-32,a=Lr,o=255-e[i-1];for(r=0;r<n;++r){var s,A=a,u=o+e[t-1];for(s=0;s<n;++s)e[t+s]=A[u+e[i+s]];t+=32}}function lt(e,t){ut(e,t,4)}function ct(e,t){ut(e,t,8)}function ht(e,t){ut(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function dt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function pt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];pt(r>>5,e,t)}function mt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];pt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];pt(r>>4,e,t)}function wt(e,t){pt(128,e,t)}function yt(e,t,n){return e+2*t+n+2>>2}function bt(e,t){var n,i=t-32;for(i=new Uint8Array([yt(e[i-1],e[i+0],e[i+1]),yt(e[i+0],e[i+1],e[i+2]),yt(e[i+1],e[i+2],e[i+3]),yt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function xt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];_(e,t+0,16843009*yt(e[t-1-32],n,r)),_(e,t+32,16843009*yt(n,r,i)),_(e,t+64,16843009*yt(r,i,a)),_(e,t+96,16843009*yt(i,a,a))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],A=e[t+2-32],u=e[t+3-32];e[t+0+96]=yt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=yt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=yt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=yt(o,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=yt(s,o,a),e[t+3+32]=e[t+2+0]=yt(A,s,o),e[t+3+0]=yt(u,A,s)}function Et(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],a=e[t+4-32],o=e[t+5-32],s=e[t+6-32],A=e[t+7-32];e[t+0+0]=yt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=yt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=yt(r,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=yt(i,a,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=yt(a,o,s),e[t+3+64]=e[t+2+96]=yt(o,s,A),e[t+3+96]=yt(s,A,A)}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],A=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=a+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+A+1>>1,e[t+3+0]=A+u+1>>1,e[t+0+96]=yt(i,r,n),e[t+0+64]=yt(r,n,a),e[t+0+32]=e[t+1+96]=yt(n,a,o),e[t+1+32]=e[t+2+96]=yt(a,o,s),e[t+2+32]=e[t+3+96]=yt(o,s,A),e[t+3+32]=yt(s,A,u)}function St(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],a=e[t+3-32],o=e[t+4-32],s=e[t+5-32],A=e[t+6-32],u=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+o+1>>1,e[t+0+32]=yt(n,r,i),e[t+1+32]=e[t+0+96]=yt(r,i,a),e[t+2+32]=e[t+1+96]=yt(i,a,o),e[t+3+32]=e[t+2+96]=yt(a,o,s),e[t+3+64]=yt(o,s,A),e[t+3+96]=yt(s,A,u)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=yt(n,r,i),e[t+3+0]=e[t+1+32]=yt(r,i,a),e[t+3+32]=e[t+1+64]=yt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96],o=e[t-1-32],s=e[t+0-32],A=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=yt(s,A,u),e[t+2+0]=yt(o,s,A),e[t+1+0]=e[t+3+32]=yt(n,o,s),e[t+1+32]=e[t+3+64]=yt(r,n,o),e[t+1+64]=e[t+3+96]=yt(i,r,n),e[t+1+96]=yt(a,i,r)}function It(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Nt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Ut(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ut(r>>4,e,t)}function Qt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ut(r>>3,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ut(r>>3,e,t)}function Dt(e,t){Ut(128,e,t)}function Tt(e,t,n){var r=e[t-n],i=e[t+0],a=3*(i-r)+Nr[1020+e[t-2*n]-e[t+n]],o=Ur[112+(a+4>>3)];e[t-n]=Lr[255+r+Ur[112+(a+3>>3)]],e[t+0]=Lr[255+i-o]}function Pt(e,t,n,r){var i=e[t+0],a=e[t+n];return Qr[255+e[t-2*n]-e[t-n]]>r||Qr[255+a-i]>r}function Ot(e,t,n,r){return 4*Qr[255+e[t-n]-e[t+0]]+Qr[255+e[t-2*n]-e[t+n]]<=r}function Mt(e,t,n,r,i){var a=e[t-3*n],o=e[t-2*n],s=e[t-n],A=e[t+0],u=e[t+n],l=e[t+2*n],c=e[t+3*n];return 4*Qr[255+s-A]+Qr[255+o-u]>r?0:Qr[255+e[t-4*n]-a]<=i&&Qr[255+a-o]<=i&&Qr[255+o-s]<=i&&Qr[255+c-l]<=i&&Qr[255+l-u]<=i&&Qr[255+u-A]<=i}function jt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ot(e,t+r,n,i)&&Tt(e,t+r,n)}function Ht(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Ot(e,t+r*n,1,i)&&Tt(e,t+r*n,1)}function Kt(e,t,n,r){var i;for(i=3;0<i;--i)jt(e,t+=4*n,n,r)}function zt(e,t,n,r){var i;for(i=3;0<i;--i)Ht(e,t+=4,n,r)}function Wt(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Mt(e,t,n,a,o))if(Pt(e,t,n,s))Tt(e,t,n);else{var A=e,u=t,l=n,c=A[u-2*l],h=A[u-l],f=A[u+0],d=A[u+l],p=A[u+2*l],g=27*(v=Nr[1020+3*(f-h)+Nr[1020+c-d]])+63>>7,m=18*v+63>>7,v=9*v+63>>7;A[u-3*l]=Lr[255+A[u-3*l]+v],A[u-2*l]=Lr[255+c+m],A[u-l]=Lr[255+h+g],A[u+0]=Lr[255+f-g],A[u+l]=Lr[255+d-m],A[u+2*l]=Lr[255+p-v]}t+=r}}function Vt(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Mt(e,t,n,a,o))if(Pt(e,t,n,s))Tt(e,t,n);else{var A=e,u=t,l=n,c=A[u-l],h=A[u+0],f=A[u+l],d=Ur[112+(4+(p=3*(h-c))>>3)],p=Ur[112+(p+3>>3)],g=d+1>>1;A[u-2*l]=Lr[255+A[u-2*l]+g],A[u-l]=Lr[255+c+p],A[u+0]=Lr[255+h-d],A[u+l]=Lr[255+f-g]}t+=r}}function Gt(e,t,n,r,i,a){Wt(e,t,n,1,16,r,i,a)}function qt(e,t,n,r,i,a){Wt(e,t,1,n,16,r,i,a)}function Xt(e,t,n,r,i,a){var o;for(o=3;0<o;--o)Vt(e,t+=4*n,n,1,16,r,i,a)}function Yt(e,t,n,r,i,a){var o;for(o=3;0<o;--o)Vt(e,t+=4,1,n,16,r,i,a)}function Jt(e,t,n,r,i,a,o,s){Wt(e,t,i,1,8,a,o,s),Wt(n,r,i,1,8,a,o,s)}function $t(e,t,n,r,i,a,o,s){Wt(e,t,1,i,8,a,o,s),Wt(n,r,1,i,8,a,o,s)}function Zt(e,t,n,r,i,a,o,s){Vt(e,t+4*i,i,1,8,a,o,s),Vt(n,r+4*i,i,1,8,a,o,s)}function en(e,t,n,r,i,a,o,s){Vt(e,t+4,1,i,8,a,o,s),Vt(n,r+4,1,i,8,a,o,s)}function tn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ae,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new c}function on(){this.xb=this.a=0,this.l=new Ve,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,rn),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(e,t,n,r,i,a,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)i[a+t]=e+n[r+t]&255,e=i[a+t]}function un(e,t,n,r,i,a,o){var s;if(null==e)An(null,null,n,r,i,a,o);else for(s=0;s<o;++s)i[a+s]=e[t+s]+n[r+s]&255}function ln(e,t,n,r,i,a,o){if(null==e)An(null,null,n,r,i,a,o);else{var s,A=e[t+0],u=A,l=A;for(s=0;s<o;++s)u=l+(A=e[t+s])-u,l=n[r+s]+(-256&u?0>u?0:255:u)&255,u=A,i[a+s]=l}}function cn(e,n,i,o){var s=n.width,A=n.o;if(t(null!=e&&null!=n),0>i||0>=o||i+o>A)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new sn,(u=null==e.ga)||(u=n.width*n.o,t(0==e.Gb.length),e.Gb=a(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var l=e.Fa,c=e.P,h=e.qc,f=e.mb,d=e.nb,p=c+1,g=h-1,v=u.l;if(t(null!=l&&null!=f&&null!=n),pi[0]=null,pi[1]=An,pi[2]=un,pi[3]=ln,u.ca=f,u.tb=d,u.c=n.width,u.i=n.height,t(0<u.c&&0<u.i),1>=h)n=0;else if(u.$a=3&l[c+0],u.Z=l[c+0]>>2&3,u.Lc=l[c+0]>>4&3,c=l[c+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||c)n=0;else if(v.put=fe,v.ac=he,v.bc=de,v.ma=u,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,u.$a)e:{t(1==u.$a),n=ke();t:for(;;){if(null==n){n=0;break e}if(t(null!=u),u.mc=n,n.c=u.c,n.i=u.i,n.l=u.l,n.l.ma=u,n.l.width=u.c,n.l.height=u.i,n.a=0,m(n.m,l,p,g),!_e(u.c,u.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Be(n.s)?(u.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(u.ic=0,n=Ie(n,u.c)),!n)break t;n=1;break e}u.mc=null,n=0}else n=g>=u.c*u.i;u=!n}if(u)return null;1!=e.ga.Lc?e.Ga=0:o=A-i}t(null!=e.ga),t(i+o<=A);e:{if(n=(l=e.ga).c,A=l.l.o,0==l.$a){if(p=e.rc,g=e.Vc,v=e.Fa,c=e.P+1+i*n,h=e.mb,f=e.nb+i*n,t(c<=e.P+e.qc),0!=l.Z)for(t(null!=pi[l.Z]),u=0;u<o;++u)pi[l.Z](p,g,v,c,h,f,n),p=h,g=f,f+=n,c+=n;else for(u=0;u<o;++u)r(h,f,v,c,n),p=h,g=f,f+=n,c+=n;e.rc=p,e.Vc=g}else{if(t(null!=l.mc),n=i+o,t(null!=(u=l.mc)),t(n<=u.i),u.C>=n)n=1;else if(l.ic||gn(),l.ic){l=u.V,p=u.Ba,g=u.c;var w=u.i,y=(v=1,c=u.$/g,h=u.$%g,f=u.m,d=u.s,u.$),b=g*w,x=g*n,C=d.wc,F=y<x?ye(d,h,c):null;t(y<=b),t(n<=w),t(Be(d));t:for(;;){for(;!f.h&&y<x;){if(h&C||(F=ye(d,h,c)),t(null!=F),E(f),256>(w=ve(F.G[0],F.H[0],f)))l[p+y]=w,++y,++h>=g&&(h=0,++c<=n&&!(c%16)&&Ee(u,c));else{if(!(280>w)){v=0;break t}w=ge(w-256,f);var S,k=ve(F.G[4],F.H[4],f);if(E(f),!(y>=(k=me(g,k=ge(k,f)))&&b-y>=w)){v=0;break t}for(S=0;S<w;++S)l[p+y+S]=l[p+y+S-k];for(y+=w,h+=w;h>=g;)h-=g,++c<=n&&!(c%16)&&Ee(u,c);y<x&&h&C&&(F=ye(d,h,c))}t(f.h==B(f))}Ee(u,c>n?n:c);break t}!v||f.h&&y<b?(v=0,u.a=f.h?5:3):u.$=y,n=v}else n=Fe(u,u.V,u.Ba,u.c,u.i,n,Ne);if(!n){o=0;break e}}i+o>=A&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function hn(e,t,n,r,i,a){for(;0<i--;){var o,s=e,A=t+(n?1:0),u=e,l=t+(n?0:3);for(o=0;o<r;++o){var c=u[l+4*o];255!=c&&(c*=32897,s[A+4*o+0]=s[A+4*o+0]*c>>23,s[A+4*o+1]=s[A+4*o+1]*c>>23,s[A+4*o+2]=s[A+4*o+2]*c>>23)}t+=a}}function fn(e,t,n,r,i){for(;0<r--;){var a;for(a=0;a<n;++a){var o=e[t+2*a+0],s=15&(u=e[t+2*a+1]),A=4369*s,u=(240&u|u>>4)*A>>16;e[t+2*a+0]=(240&o|o>>4)*A>>16&240|(15&o|o<<4)*A>>16>>4&15,e[t+2*a+1]=240&u|s}t+=i}}function dn(e,t,n,r,i,a,o,s){var A,u,l=255;for(u=0;u<i;++u){for(A=0;A<r;++A){var c=e[t+A];a[o+4*A]=c,l&=c}t+=n,o+=s}return 255!=l}function pn(e,t,n,r,i){var a;for(a=0;a<i;++a)n[r+a]=e[t+a]>>8}function gn(){xr=hn,Br=fn,Cr=dn,Er=pn}function mn(n,r,i){e[n]=function(e,n,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w){var y,b=w-1>>1,x=s[A+0]|u[l+0]<<16,B=c[h+0]|f[d+0]<<16;t(null!=e);var C=3*x+B+131074>>2;for(r(e[n+0],255&C,C>>16,p,g),null!=a&&(C=3*B+x+131074>>2,r(a[o+0],255&C,C>>16,m,v)),y=1;y<=b;++y){var E=s[A+y]|u[l+y]<<16,F=c[h+y]|f[d+y]<<16,S=x+E+B+F+524296,k=S+2*(E+B)>>3;C=k+x>>1,x=(S=S+2*(x+F)>>3)+E>>1,r(e[n+2*y-1],255&C,C>>16,p,g+(2*y-1)*i),r(e[n+2*y-0],255&x,x>>16,p,g+(2*y-0)*i),null!=a&&(C=S+B>>1,x=k+F>>1,r(a[o+2*y-1],255&C,C>>16,m,v+(2*y-1)*i),r(a[o+2*y+0],255&x,x>>16,m,v+(2*y+0)*i)),x=E,B=F}1&w||(C=3*x+B+131074>>2,r(e[n+w-1],255&C,C>>16,p,g+(w-1)*i),null!=a&&(C=3*B+x+131074>>2,r(a[o+w-1],255&C,C>>16,m,v+(w-1)*i)))}}function vn(){gi[Rr]=mi,gi[Dr]=wi,gi[Tr]=vi,gi[Pr]=yi,gi[Or]=bi,gi[Mr]=xi,gi[jr]=Bi,gi[Hr]=wi,gi[Kr]=yi,gi[zr]=bi,gi[Wr]=xi}function wn(e){return e&~_i?0>e?0:255:e>>ki}function yn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function bn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function xn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,i){r[i+0]=yn(e,n),r[i+1]=bn(e,t,n),r[i+2]=xn(e,t)}function Cn(e,t,n,r,i){r[i+0]=xn(e,t),r[i+1]=bn(e,t,n),r[i+2]=yn(e,n)}function En(e,t,n,r,i){var a=bn(e,t,n);t=a<<3&224|xn(e,t)>>3,r[i+0]=248&yn(e,n)|a>>5,r[i+1]=t}function Fn(e,t,n,r,i){var a=240&xn(e,t)|15;r[i+0]=240&yn(e,n)|bn(e,t,n)>>4,r[i+1]=a}function Sn(e,t,n,r,i){r[i+0]=255,Bn(e,t,n,r,i+1)}function kn(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function _n(e,t,n,r,i){Bn(e,t,n,r,i),r[i+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function In(t,n,r){e[t]=function(e,t,i,a,o,s,A,u,l){for(var c=u+(-2&l)*r;u!=c;)n(e[t+0],i[a+0],o[s+0],A,u),n(e[t+1],i[a+0],o[s+0],A,u+r),t+=2,++a,++s,u+=2*r;1&l&&n(e[t+0],i[a+0],o[s+0],A,u)}}function Nn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Un(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:or(t,n,r,i);break;case 1:Ar(t,n,r,i)}}function Ln(e,t){var n,a,o=t.M,s=t.Nb,A=e.oc,u=e.pc+40,l=e.oc,c=e.pc+584,h=e.oc,f=e.pc+600;for(n=0;16>n;++n)A[u+32*n-1]=129;for(n=0;8>n;++n)l[c+32*n-1]=129,h[f+32*n-1]=129;for(0<o?A[u-1-32]=l[c-1-32]=h[f-1-32]=129:(i(A,u-32-1,127,21),i(l,c-32-1,127,9),i(h,f-32-1,127,9)),a=0;a<e.za;++a){var d=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(A,u+32*n-4,A,u+32*n+12,4);for(n=-1;8>n;++n)r(l,c+32*n-4,l,c+32*n+4,4),r(h,f+32*n-4,h,f+32*n+4,4)}var p=e.Gd,g=e.Hd+a,m=d.ad,v=d.Hc;if(0<o&&(r(A,u-32,p[g].y,0,16),r(l,c-32,p[g].f,0,8),r(h,f-32,p[g].ea,0,8)),d.Za){var w=A,y=u-32+16;for(0<o&&(a>=e.za-1?i(w,y,p[g].y[15],4):r(w,y,p[g+1].y,0,4)),n=0;4>n;n++)w[y+128+n]=w[y+256+n]=w[y+384+n]=w[y+0+n];for(n=0;16>n;++n,v<<=2)w=A,y=u+Ti[n],ci[d.Ob[n]](w,y),Un(v,m,16*+n,w,y)}else if(w=Nn(a,o,d.Ob[0]),li[w](A,u),0!=v)for(n=0;16>n;++n,v<<=2)Un(v,m,16*+n,A,u+Ti[n]);for(n=d.Gc,w=Nn(a,o,d.Dd),hi[w](l,c),hi[w](h,f),v=m,w=l,y=c,255&(d=0|n)&&(170&d?sr(v,256,w,y):ur(v,256,w,y)),d=h,v=f,255&(n>>=8)&&(170&n?sr(m,320,d,v):ur(m,320,d,v)),o<e.Ub-1&&(r(p[g].y,0,A,u+480,16),r(p[g].f,0,l,c+224,8),r(p[g].ea,0,h,f+224,8)),n=8*s*e.B,p=e.sa,g=e.ta+16*a+16*s*e.R,m=e.qa,d=e.ra+8*a+n,v=e.Ha,w=e.Ia+8*a+n,n=0;16>n;++n)r(p,g+n*e.R,A,u+32*n,16);for(n=0;8>n;++n)r(m,d+n*e.B,l,c+32*n,8),r(v,w+n*e.B,h,f+32*n,8)}}function Qn(e,r,i,a,o,s,A,u,l){var c=[0],h=[0],f=0,d=null!=l?l.kd:0,p=null!=l?l:new nn;if(null==e||12>i)return 7;p.data=e,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];e:{var g=r,v=i,w=p.gb;if(t(null!=e),t(null!=v),t(null!=w),w[0]=0,12<=v[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){w=3;break e}var y=U(e,g[0]+4);if(12>y||4294967286<y){w=3;break e}if(d&&y>v[0]-8){w=7;break e}w[0]=y,g[0]+=12,v[0]-=12}w=0}if(0!=w)return w;for(y=0<p.gb[0],i=i[0];;){e:{var x=e;v=r,w=i;var B=c,C=h,E=g=[0];if((k=f=[f])[0]=0,8>w[0])w=7;else{if(!n(x,v[0],"VP8X")){if(10!=U(x,v[0]+4)){w=3;break e}if(18>w[0]){w=7;break e}var F=U(x,v[0]+8),S=1+N(x,v[0]+12);if(2147483648<=S*(x=1+N(x,v[0]+15))){w=3;break e}null!=E&&(E[0]=F),null!=B&&(B[0]=S),null!=C&&(C[0]=x),v[0]+=18,w[0]-=18,k[0]=1}w=0}}if(f=f[0],g=g[0],0!=w)return w;if(v=!!(2&g),!y&&f)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=A&&(A[0]=v),null!=u&&(u[0]=0),A=c[0],g=h[0],f&&v&&null==l){w=0;break}if(4>i){w=7;break}if(y&&f||!y&&!f&&!n(e,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{F=e,w=r,y=i;var k=p.gb;B=p.na,C=p.P,E=p.Sa,S=22,t(null!=F),t(null!=y),x=w[0];var _=y[0];for(t(null!=B),t(null!=E),B[0]=null,C[0]=null,E[0]=0;;){if(w[0]=x,y[0]=_,8>_){w=7;break e}var I=U(F,x+4);if(4294967286<I){w=3;break e}var L=8+I+1&-2;if(S+=L,0<k&&S>k){w=3;break e}if(!n(F,x,"VP8 ")||!n(F,x,"VP8L")){w=0;break e}if(_[0]<L){w=7;break e}n(F,x,"ALPH")||(B[0]=F,C[0]=x+8,E[0]=I),x+=L,_-=L}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=w)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(k=e,w=r,y=i,B=p.gb[0],C=p.Ja,E=p.xa,F=w[0],x=!n(k,F,"VP8 "),S=!n(k,F,"VP8L"),t(null!=k),t(null!=y),t(null!=C),t(null!=E),8>y[0])w=7;else{if(x||S){if(k=U(k,F+4),12<=B&&k>B-12){w=3;break e}if(d&&k>y[0]-8){w=7;break e}C[0]=k,w[0]+=8,y[0]-=8,E[0]=S}else E[0]=5<=y[0]&&47==k[F+0]&&!(k[F+4]>>5),C[0]=y[0];w=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=w)break;if(4294967286<p.Ja)return 3;if(null==u||v||(u[0]=p.xa?2:1),A=[A],g=[g],p.xa){if(5>i){w=7;break}u=A,d=g,v=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],k=[0],B=[0],m(C=new b,e,r,i),pe(C,y,k,B)?(null!=u&&(u[0]=y[0]),null!=d&&(d[0]=k[0]),null!=v&&(v[0]=B[0]),e=1):e=0):e=0}else{if(10>i){w=7;break}u=g,null==e||10>i||!Xe(e,r+3,i-3)?e=0:(d=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=p.Ja||!v||!e?e=0:(A&&(A[0]=v),u&&(u[0]=e),e=1))}if(!e)return 3;if(A=A[0],g=g[0],f&&(c[0]!=A||h[0]!=g))return 3;null!=l&&(l[0]=p,l.offset=r-l.w,t(4294967286>r-l.w),t(l.offset==l.ha-i));break}return 0==w||7==w&&f&&null==l?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=a&&(a[0]=A),null!=o&&(o[0]=g),0):w}function Rn(e,t,n){var r=t.width,i=t.height,a=0,o=0,s=r,A=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,A=e.bd,a=e.v,o=e.j,11>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=A||a+s>r||o+A>i))return 0;if(t.v=a,t.j=o,t.va=a+s,t.o=o+A,t.U=s,t.T=A,t.da=null!=e&&0<e.da,t.da){if(!D(s,A,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Dn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Tn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,o=n.bd,s=-2&n.v,A=-2&n.j;if(0>s||0>A||0>=i||0>=o||s+i>e||A+o>t)return 2;e=i,t=o}if(n.da){if(!D(e,t,i=[n.ib],o=[n.hb]))return 2;e=i[0],t=o[0]}}r.width=e,r.height=t;e:{var u=r.width,l=r.height;if(e=r.S,0>=u||0>=l||!(e>=Rr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=o=i=t=0;var c=(A=u*Mi[e])*l;if(11>e||(o=(l+1)/2*(t=(u+1)/2),12==e&&(s=(i=u)*l)),null==(l=a(c+2*o+s))){e=1;break e}r.sd=l,11>e?((u=r.f.RGBA).eb=l,u.fb=0,u.A=A,u.size=c):((u=r.f.kb).y=l,u.O=0,u.fa=A,u.Fd=c,u.f=l,u.N=0+c,u.Ab=t,u.Cd=o,u.ea=l,u.W=0+c+o,u.Db=t,u.Ed=o,12==e&&(u.F=l,u.J=0+c+2*o),u.Tc=s,u.lb=i)}if(t=1,i=r.S,o=r.width,s=r.height,i>=Rr&&13>i)if(11>i)e=r.f.RGBA,t&=(A=Math.abs(e.A))*(s-1)+o<=e.size,t&=A>=o*Mi[i],t&=null!=e.eb;else{e=r.f.kb,A=(o+1)/2,c=(s+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),d=f*(s-1)+o;t&=u*(s-1)+o<=e.Fd,t&=l*(c-1)+A<=e.Cd,t=(t&=h*(c-1)+A<=e.Ed)&u>=o&l>=A&h>=A,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=o,t&=d<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Dn(r)),e}var Pn=64,On=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mn=24,jn=32,Hn=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return j(j(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return j(e,t[n-1])},e.Predictor7=function(e,t,n){return j(e,t[n+0])},e.Predictor8=function(e,t,n){return j(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return j(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return j(j(e,t[n-1]),j(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=z(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+z(r>>16&255,e>>16&255,t>>16&255)+z(r>>8&255,e>>8&255,t>>8&255)+z(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(K((e=j(e,t[n+0]))>>24&255,r>>24&255)<<24|K(e>>16&255,r>>16&255)<<16|K(e>>8&255,r>>8&255)<<8|K(255&e,255&r))>>>0};var zn=e.PredictorAdd0;e.PredictorAdd1=W,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vn,Gn=e.ColorIndexInverseTransform,qn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,Zn,er,tr,nr,rr,ir,ar,or,sr,Ar,ur,lr,cr,hr,fr,dr,pr,gr,mr,vr,wr,yr,br,xr,Br,Cr,Er,Fr=a(511),Sr=a(2041),kr=a(225),_r=a(767),Ir=0,Nr=Sr,Ur=kr,Lr=_r,Qr=Fr,Rr=0,Dr=1,Tr=2,Pr=3,Or=4,Mr=5,jr=6,Hr=7,Kr=8,zr=9,Wr=10,Vr=[2,3,7],Gr=[3,3,11],qr=[280,256,256,256,40],Xr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ai=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ui=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],li=[],ci=[],hi=[],fi=1,di=2,pi=[],gi=[];mn("UpsampleRgbLinePair",Bn,3),mn("UpsampleBgrLinePair",Cn,3),mn("UpsampleRgbaLinePair",_n,4),mn("UpsampleBgraLinePair",kn,4),mn("UpsampleArgbLinePair",Sn,4),mn("UpsampleRgba4444LinePair",Fn,2),mn("UpsampleRgb565LinePair",En,2);var mi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,wi=e.UpsampleRgbaLinePair,yi=e.UpsampleBgraLinePair,bi=e.UpsampleArgbLinePair,xi=e.UpsampleRgba4444LinePair,Bi=e.UpsampleRgb565LinePair,Ci=16,Ei=1<<Ci-1,Fi=-227,Si=482,ki=6,_i=(256<<ki)-1,Ii=0,Ni=a(256),Ui=a(256),Li=a(256),Qi=a(256),Ri=a(Si-Fi),Di=a(Si-Fi);In("YuvToRgbRow",Bn,3),In("YuvToBgrRow",Cn,3),In("YuvToRgbaRow",_n,4),In("YuvToBgraRow",kn,4),In("YuvToArgbRow",Sn,4),In("YuvToRgba4444Row",Fn,2),In("YuvToRgb565Row",En,2);var Ti=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pi=[0,2,8],Oi=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,s,A,u){var l=Dr,c=new tn,h=new oe;c.ba=h,h.S=l,h.width=[h.width],h.height=[h.height];var f=h.width,d=h.height,p=new se;if(null==p||null==e)var g=2;else t(null!=p),g=Qn(e,n,s,p.width,p.height,p.Pd,p.Qd,p.format,null);if(0!=g?f=0:(null!=f&&(f[0]=p.width[0]),null!=d&&(d[0]=p.height[0]),f=1),f){h.width=h.width[0],h.height=h.height[0],null!=A&&(A[0]=h.width),null!=u&&(u[0]=h.height);e:{if(A=new Ve,(u=new nn).data=e,u.w=n,u.ha=s,u.kd=1,n=[0],t(null!=u),(0==(e=Qn(u.data,u.w,u.ha,null,null,null,n,null,u))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=c),A.data=u.data,A.w=u.w+u.offset,A.ha=u.ha-u.offset,A.put=fe,A.ac=he,A.bc=de,A.ma=c,u.xa){if(null==(e=ke())){c=1;break e}if(function(e,n){var r=[0],i=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!pe(e.m,r,i,a)){e.a=3;break t}if(e.xb=di,n.width=r[0],n.height=i[0],!_e(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,A)){if(A=0==(n=Tn(A.width,A.height,c.Oa,c.ba))){t:{A=e;n:for(;;){if(null==A){A=0;break t}if(t(null!=A.s.yc),t(null!=A.s.Ya),t(0<A.s.Wb),t(null!=(s=A.l)),t(null!=(u=s.ma)),0!=A.xb){if(A.ca=u.ba,A.tb=u.tb,t(null!=A.ca),!Rn(u.Oa,s,Pr)){A.a=2;break n}if(!Ie(A,s.width))break n;if(s.da)break n;if((s.da||re(A.ca.S))&&gn(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=A.ca.f.kb.F&&gn()),A.Pb&&0<A.s.ua&&null==A.s.vb.X&&!L(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Fe(A,A.V,A.Ba,A.c,A.i,s.o,xe))break n;u.Dc=A.Ma,A=1;break t}t(0!=A.a),A=0}A=!A}A&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){c=1;break e}if(e.Fa=u.na,e.P=u.P,e.qc=u.Sa,Ye(e,A)){if(0==(n=Tn(A.width,A.height,c.Oa,c.ba))){if(e.Aa=0,s=c.Oa,t(null!=(u=e)),null!=s){if(0<(f=0>(f=s.Md)?0:100<f?255:255*f/100)){for(d=p=0;4>d;++d)12>(g=u.pb[d]).lc&&(g.ia=f*Oi[0>g.lc?0:g.lc]>>3),p|=g.ia;p&&(alert("todo:VP8InitRandom"),u.ia=1)}u.Ga=s.Id,100<u.Ga?u.Ga=100:0>u.Ga&&(u.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return qe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Pi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var A=e.ed;for(s=0;4>s;++s){var u;if(e.Qa.Cb){var l=e.Qa.Lb[s];e.Qa.Fb||(l+=A.Tb)}else l=A.Tb;for(u=0;1>=u;++u){var c=e.gd[s][u],h=l;if(A.Pc&&(h+=A.vd[0],u&&(h+=A.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<A.wb&&(f=4<A.wb?f>>2:f>>1)>9-A.wb&&(f=9-A.wb),1>f&&(f=1),c.dd=f,c.tc=2*h+f,c.ld=40<=h?2:15<=h?1:0}else c.tc=0;c.La=u}}}s=0}else qe(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=1);t:{s=e.Ic,A=4*(f=e.za);var d=32*f,p=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*f;if((c=A+832+(u=3*(16*s+Pi[e.L])/2*d)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=c)s=0;else{if(c>e.Vb){if(e.Vb=0,e.Ec=a(c),e.Fc=0,null==e.Ec){s=qe(e,1,"no memory during frame initialization.");break t}e.Vb=c}c=e.Ec,h=e.Fc,e.Ac=c,e.Bc=h,h+=A,e.Gd=o(d,Ke),e.Hd=0,e.rb=o(p+1,Oe),e.sb=1,e.wa=g?o(g,Pe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=c,e.pc=h,h+=832,e.ya=o(m,je),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(d=Pi[e.L])*e.R,d=d/2*e.B,e.sa=c,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*s*e.R+d,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+d,e.$c=0,h+=u,e.mb=l?c:null,e.nb=l?h:null,t(h+l<=e.Fc+e.Vb),$e(e),i(e.Ac,e.Bc,0,A),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Ir){for(s=-255;255>=s;++s)Fr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Sr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)kr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)_r[255+s]=0>s?0:255<s?255:s;Ir=1}ir=At,ar=it,sr=at,Ar=ot,ur=st,or=rt,lr=Gt,cr=qt,hr=Jt,fr=$t,dr=Xt,pr=Yt,gr=Zt,mr=en,vr=jt,wr=Ht,yr=Kt,br=zt,ci[0]=Bt,ci[1]=lt,ci[2]=bt,ci[3]=xt,ci[4]=Ct,ci[5]=Ft,ci[6]=Et,ci[7]=St,ci[8]=_t,ci[9]=kt,li[0]=gt,li[1]=ht,li[2]=ft,li[3]=dt,li[4]=mt,li[5]=vt,li[6]=wt,hi[0]=Lt,hi[1]=ct,hi[2]=It,hi[3]=Nt,hi[4]=Rt,hi[5]=Qt,hi[6]=Dt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],A=e.m,u=e;for(o=0;o<u.za;++o){var l=A,c=u,h=c.Ac,f=c.Bc+4*o,d=c.zc,p=c.ya[c.aa+o];if(c.Qa.Bb?p.$b=k(l,c.Pa.jb[0])?2+k(l,c.Pa.jb[2]):k(l,c.Pa.jb[1]):p.$b=0,c.kc&&(p.Ad=k(l,c.Bd)),p.Za=!k(l,145)+0,p.Za){var g=p.Ob,m=0;for(c=0;4>c;++c){var v,w=d[0+c];for(v=0;4>v;++v){w=si[h[f+v]][w];for(var y=ai[k(l,w[0])];0<y;)y=ai[2*y+k(l,w[y])];w=-y,h[f+v]=w}r(g,m,h,f,4),m+=4,d[0+c]=w}}else w=k(l,156)?k(l,128)?1:3:k(l,163)?2:0,p.Ob[0]=w,i(h,f,w,4),i(d,0,w,4);p.Dd=k(l,142)?k(l,114)?k(l,183)?1:3:2:0}if(u.m.Ka)return qe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=s,l=(A=e).rb[A.sb-1],h=A.rb[A.sb+A.ja],o=A.ya[A.aa+A.ja],f=A.kc?o.Ad:0)l.la=h.la=0,o.Za||(l.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var b,x;if(l=h,h=u,f=A.Pa.Xc,d=A.ya[A.aa+A.ja],p=A.pb[d.$b],c=d.ad,g=0,m=A.rb[A.sb-1],w=v=0,i(c,g,0,384),d.Za)var B=0,C=f[3];else{y=a(16);var E=l.Na+m.Na;if(E=ni(h,f[1],E,p.Eb,0,y,0),l.Na=m.Na=(0<E)+0,1<E)ir(y,0,c,g);else{var F=y[0]+3>>3;for(y=0;256>y;y+=16)c[g+y]=F}B=1,C=f[0]}var S=15&l.la,_=15&m.la;for(y=0;4>y;++y){var I=1&_;for(F=x=0;4>F;++F)S=S>>1|(I=(E=ni(h,C,E=I+(1&S),p.Sc,B,c,g))>B)<<7,x=x<<2|(3<E?3:1<E?2:0!=c[g+0]),g+=16;S>>=4,_=_>>1|I<<7,v=(v<<8|x)>>>0}for(C=S,B=_>>4,b=0;4>b;b+=2){for(x=0,S=l.la>>4+b,_=m.la>>4+b,y=0;2>y;++y){for(I=1&_,F=0;2>F;++F)E=I+(1&S),S=S>>1|(I=0<(E=ni(h,f[2],E,p.Qc,0,c,g)))<<3,x=x<<2|(3<E?3:1<E?2:0!=c[g+0]),g+=16;S>>=2,_=_>>1|I<<5}w|=x<<4*b,C|=S<<4<<b,B|=(240&_)<<b}l.la=C,m.la=B,d.Hc=v,d.Gc=w,d.ia=43690&w?0:p.ia,f=!(v|w)}if(0<A.L&&(A.wa[A.Y+A.ja]=A.gd[o.$b][o.Za],A.wa[A.Y+A.ja].La|=!f),u.Ka)return qe(e,7,"Premature end-of-file encountered.")}if($e(e),A=n,u=1,o=(s=e).D,l=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)t:{if(o.M=s.M,o.uc=l,Ln(s,o),u=1,o=(x=s.D).Nb,l=(w=Pi[s.L])*s.R,h=w/2*s.B,y=16*o*s.R,F=8*o*s.B,f=s.sa,d=s.ta-l+y,p=s.qa,c=s.ra-h+F,g=s.Ha,m=s.Ia-h+F,_=0==(S=x.M),v=S>=s.Va-1,2==s.Aa&&Ln(s,x),x.uc)for(I=(E=s).D.M,t(E.D.uc),x=E.yb;x<E.Hb;++x){B=x,C=I;var N=(U=(j=E).D).Nb;b=j.R;var U=U.wa[U.Y+B],L=j.sa,Q=j.ta+16*N*b+16*B,R=U.dd,D=U.tc;if(0!=D)if(t(3<=D),1==j.L)0<B&&wr(L,Q,b,D+4),U.La&&br(L,Q,b,D),0<C&&vr(L,Q,b,D+4),U.La&&yr(L,Q,b,D);else{var T=j.B,P=j.qa,O=j.ra+8*N*T+8*B,M=j.Ha,j=j.Ia+8*N*T+8*B;N=U.ld,0<B&&(cr(L,Q,b,D+4,R,N),fr(P,O,M,j,T,D+4,R,N)),U.La&&(pr(L,Q,b,D,R,N),mr(P,O,M,j,T,D,R,N)),0<C&&(lr(L,Q,b,D+4,R,N),hr(P,O,M,j,T,D+4,R,N)),U.La&&(dr(L,Q,b,D,R,N),gr(P,O,M,j,T,D,R,N))}}if(s.ia&&alert("todo:DitherRow"),null!=A.put){if(x=16*S,S=16*(S+1),_?(A.y=s.sa,A.O=s.ta+y,A.f=s.qa,A.N=s.ra+F,A.ea=s.Ha,A.W=s.Ia+F):(x-=w,A.y=f,A.O=d,A.f=p,A.N=c,A.ea=g,A.W=m),v||(S-=w),S>A.o&&(S=A.o),A.F=null,A.J=null,null!=s.Fa&&0<s.Fa.length&&x<S&&(A.J=cn(s,A,x,S-x),A.F=s.mb,null==A.F&&0==A.F.length)){u=qe(s,3,"Could not decode alpha data.");break t}x<A.j&&(w=A.j-x,x=A.j,t(!(1&w)),A.O+=s.R*w,A.N+=s.B*(w>>1),A.W+=s.B*(w>>1),null!=A.F&&(A.J+=A.width*w)),x<S&&(A.O+=A.v,A.N+=A.v>>1,A.W+=A.v>>1,null!=A.F&&(A.J+=A.v),A.ka=x-A.j,A.U=A.va-A.v,A.T=S-x,u=A.put(A))}o+1!=s.Ic||v||(r(s.sa,s.ta-l,f,d+16*s.R,l),r(s.qa,s.ra-h,p,c+8*s.B,h),r(s.Ha,s.Ia-h,g,m+8*s.B,h))}if(!u)return qe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0})(e,A)||(n=e.a)}}else n=e.a}0==n&&null!=c.Oa&&c.Oa.fd&&(n=Dn(c.ba))}c=n}l=0!=c?null:11>l?h.f.RGBA.eb:h.f.kb.y}else l=null;return l};var Mi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function l(e,t){return e[t+0]|e[t+1]<<8}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new A;var f=[0],d=[0],p=[],g=new A,m=e,v=function(e,t){var n={},r=0,i=!1,a=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var s=u(e,t),A=h(e,t+=4);t+=4;var f=A+(1&A);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?o:t-8,g.src_size=a+A+8,r++,i&&(i=!1,a=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var d=t+4;g.canvas_width=1+c(e,d),d+=3,g.canvas_height=1+c(e,d),d+=3;break;case"ALPH":i=!0,a=f+8,o=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),d=t+4,g.loop_count=l(e,d),d+=2;break;case"ANMF":var p,g;(g=n.frames[r]={}).offset_x=2*c(e,t),t+=3,g.offset_y=2*c(e,t),t+=3,g.width=1+c(e,t),t+=3,g.height=1+c(e,t),t+=3,g.duration=c(e,t),t+=3,p=e[t++],g.dispose=1&p,g.blend=p>>1&1}"ANMF"!=s&&(t+=f)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,y=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],d=[w.canvas_width];for(var b=0;b<y.length&&0!=y[b].blend;b++);}var x=y[0],B=g.WebPDecodeRGBA(m,x.src_off,x.src_size,d,f);x.rgba=B,x.imgwidth=d[0],x.imgheight=f[0];for(var C=0;C<d[0]*f[0]*4;C++)p[C]=B[C];return this.width=d,this.height=f,this.data=p,this}!function(e){var t,n,r,i,a,o,s,A,u,l=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new A,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new c(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,A=this.internal.Matrix,u=new l}]);var c=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),u.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var A=[];Object.defineProperty(this,"pageBreaks",{get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(e){e instanceof l&&(u=e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(e){u.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null,d=null;Object.defineProperty(this,"fontFaces",{get:function(){return d},set:function(e){f=null,d=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var a=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return t_;if(i in Hk)return[Hk[i]];for(;""!==i;){switch(n=null,t=(i=zk(i)).charAt(0)){case'"':case"'":n=Wk(i.substring(1),t);break;default:n=Vk(i)}if(null===n)return t_;if(r.push(n[0]),""!==(i=zk(n[1]))&&","!==i.charAt(0))return t_;i=i.replace(/^,/,"")}return r}(a);if(this.fontFaces){var A=function(e,t){if(null===f){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());f=function(e){for(var t={},n=0;n<e.length;++n){var r=Ok(e[n]),i=r.family,a=r.stretch,o=r.style,s=r.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][o]=t[i][a][o]||{},t[i][a][o][s]=r}return t}(n.concat(t))}return f}(this.pdf,this.fontFaces),u=s.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},jk,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=Ok(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Kk(a)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=Dk[e],r=n<=Dk.normal?-1:1,i=Mk(t,Rk,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(a.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=Qk[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(a.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Pk[e],r=Mk(t,Tk,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Kk(a)+"'.");return o}(A,u);this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var h="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<s.length;p++){if(void 0!==this.pdf.internal.getFont(s[p],c,{noFallback:!0,disableWarning:!0})){h=s[p];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[p],"bold",{noFallback:!0,disableWarning:!0}))h=s[p],c="bold";else if(void 0!==this.pdf.internal.getFont(s[p],"normal",{noFallback:!0,disableWarning:!0})){h=s[p],c="normal";break}}if(""===h)for(var g=0;g<s.length;g++)if(d[s[g]]){h=d[s[g]];break}h=""===h?"Times":h,this.pdf.setFont(h,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,T.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,T.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};c.prototype.setLineDash=function(e){this.lineDash=e},c.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},c.prototype.fill=function(){y.call(this,"fill",!1)},c.prototype.stroke=function(){y.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw pS.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},c.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,nx.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},c.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw pS.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},c.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw pS.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(n,r)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},c.prototype.bezierCurveTo=function(e,t,n,r,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw pS.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(i,a)),A=this.ctx.transform.applyToPoint(new o(e,t)),u=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:A.x,y1:A.y,x2:u.x,y2:u.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},c.prototype.arc=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw pS.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var A=this.ctx.transform.applyToPoint(new o(0,n)),u=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(A.x-u.x,2)+Math.pow(A.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:a})},c.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},c.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw pS.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},c.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw pS.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},c.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw pS.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},c.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw pS.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},c.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},c.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new yS(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};c.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw pS.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=Q(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;k.call(this,{text:e,x:t,y:n,scale:a,angle:i,align:this.textAlign,maxWidth:r})}},c.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw pS.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){r=isNaN(r)?void 0:r;var i=Q(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;k.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},c.prototype.measureText=function(e){if("string"!=typeof e)throw pS.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},c.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw pS.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new A(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},c.prototype.rotate=function(e){if(isNaN(e))throw pS.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new A(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},c.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw pS.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new A(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},c.prototype.transform=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a))throw pS.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new A(e,t,n,r,i,a);this.ctx.transform=this.ctx.transform.multiply(o)},c.prototype.setTransform=function(e,t,n,r,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new A(e,t,n,r,i,a)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};c.prototype.drawImage=function(e,t,n,r,i,a,o,u,l){var c=this.pdf.getImageProperties(e),h=1,f=1,d=1,m=1;void 0!==r&&void 0!==u&&(d=u/r,m=l/i,h=c.width/r*u/r,f=c.height/i*l/i),void 0===a&&(a=t,o=n,t=0,n=0),void 0!==r&&void 0===u&&(u=r,l=i),void 0===r&&void 0===u&&(u=c.width,l=c.height);for(var y,x=this.ctx.transform.decompose(),B=Q(x.rotate.shx),C=new A,E=(C=(C=(C=C.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new s(a-t*d,o-n*m,r*h,i*f)),F=g.call(this,E),S=[],k=0;k<F.length;k+=1)-1===S.indexOf(F[k])&&S.push(F[k]);if(w(S),this.autoPaging)for(var _=S[0],I=S[S.length-1],N=_;N<I+1;N++){this.pdf.setPage(N);var U=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===N?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===N?0:R+(N-2)*D;if(0!==this.ctx.clip_path.length){var P=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(y,this.posX+this.margin[3],-T+L+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=P}var O=JSON.parse(JSON.stringify(E));O=v([O],this.posX+this.margin[3],-T+L+this.ctx.prevPageLastElemOffset)[0];var M=(N>_||N<I)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,B),M&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",E.x,E.y,E.w,E.h,null,null,B)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var a=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"bct":var o=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=a},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},w=function(e){return e.sort(function(e,t){return e-t})},y=function(e,t){for(var n,r,i=this.fillStyle,a=this.strokeStyle,o=this.lineCap,s=this.lineWidth,A=Math.abs(s*this.ctx.transform.scaleX),u=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),c=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<c.length;f++)if(void 0!==c[f].x)for(var d=g.call(this,c[f]),y=0;y<d.length;y+=1)-1===h.indexOf(d[y])&&h.push(d[y]);for(var x=0;x<h.length;x++)for(;this.pdf.internal.getNumberOfPages()<h[x];)m.call(this);if(w(h),this.autoPaging)for(var B=h[0],C=h[h.length-1],E=B;E<C+1;E++){this.pdf.setPage(E),this.fillStyle=i,this.strokeStyle=a,this.lineCap=o,this.lineWidth=A,this.lineJoin=u;var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],S=1===E?this.posY+this.margin[0]:this.margin[0],k=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===E?0:k+(E-2)*_;if(0!==this.ctx.clip_path.length){var N=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset),b.call(this,e,!0),this.path=N}if(r=JSON.parse(JSON.stringify(l)),this.path=v(r,this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset),!1===t||0===E){var U=(E>B||E<C)&&p.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,_,null).clip().discardPath()),b.call(this,e,t),U&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=A,b.call(this,e,t),this.lineWidth=s;this.path=l},b=function(e,t){if(("stroke"!==e||t||!d.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var A=i.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(n=[s.x-a[o-1].x,s.y-a[o-1].y],A>0))for(;A>=0;A--)if(!0!==i[A-1].close&&!0!==i[A-1].begin){i[A-1].deltas.push(n),i[A-1].abs.push(s);break}break;case"bct":n=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],i[i.length-1].deltas.push(n);break;case"qct":var u=a[o-1].x+2/3*(s.x1-a[o-1].x),l=a[o-1].y+2/3*(s.y1-a[o-1].y),c=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),p=s.x,g=s.y;n=[u-a[o-1].x,l-a[o-1].y,c-a[o-1].x,h-a[o-1].y,p-a[o-1].x,g-a[o-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,v=0;v<i.length;v++)if(i[v].arc)for(var w=i[v].abs,y=0;y<w.length;y++){var b=w[y];"arc"===b.type?C.call(this,b.x,b.y,b.radius,b.startAngle,b.endAngle,b.counterclockwise,void 0,t,!m):_.call(this,b.x,b.y),m=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),m=!1;else if(!0!==i[v].begin){var x=i[v].start.x,B=i[v].start.y;I.call(this,i[v].deltas,x,B),m=!0}r&&E.call(this,r),t&&F.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},B=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};c.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(e,t,n,r,i,a,o,s,A){for(var u=U.call(this,n,r,i,a),l=0;l<u.length;l++){var c=u[l];0===l&&(A?S.call(this,c.x1+e,c.y1+t):_.call(this,c.x1+e,c.y1+t)),N.call(this,e,t,c.x2,c.y2,c.x3,c.y3,c.x4,c.y4)}s?F.call(this):E.call(this,o)},E=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},k=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),i=B.call(this,r)-n.h,a=this.ctx.transform.applyToPoint(new o(e.x,r)),u=this.ctx.transform.decompose(),l=new A;l=(l=(l=l.multiply(u.translate)).multiply(u.skew)).multiply(u.scale);for(var c,h,f,d=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),m=l.applyToRectangle(new s(e.x,i,n.w,n.h)),y=g.call(this,m),C=[],E=0;E<y.length;E+=1)-1===C.indexOf(y[E])&&C.push(y[E]);if(w(C),this.autoPaging)for(var F=C[0],S=C[C.length-1],k=F;k<S+1;k++){this.pdf.setPage(k);var _=1===k?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],N=this.pdf.internal.pageSize.height-this.margin[2],U=N-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],Q=L-this.margin[3],R=1===k?0:I+(k-2)*U;if(0!==this.ctx.clip_path.length){var D=this.path;c=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(c,this.posX+this.margin[3],-1*R+_),b.call(this,"fill",!0),this.path=D}var T=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-R+_+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var P="text"!==this.autoPaging;if(P||T.y+T.h<=N){if(P||T.y>=_&&T.x<=L){var O=P?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-T.x)[0],M=v([JSON.parse(JSON.stringify(d))],this.posX+this.margin[3],-R+_+this.ctx.prevPageLastElemOffset)[0],j=P&&(k>F||k<S)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Q,U,null).clip().discardPath()),this.pdf.text(O,M.x,M.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),j&&this.pdf.restoreGraphicsState()}}else T.y<N&&(this.ctx.prevPageLastElemOffset+=N-T.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,a.x+this.posX,a.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},_=function(e,t,i,a){i=i||0,a=a||0,this.pdf.internal.out(n(e+i)+" "+r(t+a)+" l")},I=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},N=function(e,n,r,o,s,A,u,l){this.pdf.internal.out([t(i(r+e)),t(a(o+n)),t(i(s+e)),t(a(A+n)),t(i(u+e)),t(a(l+n)),"c"].join(" "))},U=function(e,t,n,r){for(var i=2*Math.PI,a=Math.PI/2;t>n;)t-=i;var o=Math.abs(n-t);o<i&&r&&(o=i-o);for(var s=[],A=r?-1:1,u=t;o>1e-5;){var l=u+A*Math.min(o,a);s.push(L.call(this,e,u,l)),o-=Math.abs(l-u),u=l}return s},L=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),a=e*Math.sin(r),o=i,s=-a,A=o*o+s*s,u=A+o*i+s*a,l=4/3*(Math.sqrt(2*A*u)-u)/(o*a-s*i),c=o-l*s,h=s+l*o,f=c,d=-h,p=r+t,g=Math.cos(p),m=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:c*g-h*m,y2:c*m+h*g,x3:f*g-d*m,y3:f*m+d*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},Q=function(e){return 180*e/Math.PI},R=function(e,t,n,r,i,a){var o=e+.5*(n-e),A=t+.5*(r-t),u=i+.5*(n-i),l=a+.5*(r-a),c=Math.min(e,i,o,u),h=Math.max(e,i,o,u),f=Math.min(t,a,A,l),d=Math.max(t,a,A,l);return new s(c,f,h-c,d-f)},D=function(e,t,n,r,i,a,o,A){var u,l,c,h,f,d,p,g,m,v,w,y,b,x,B=n-e,C=r-t,E=i-n,F=a-r,S=o-i,k=A-a;for(l=0;l<41;l++)m=(p=(c=e+(u=l/40)*B)+u*((f=n+u*E)-c))+u*(f+u*(i+u*S-f)-p),v=(g=(h=t+u*C)+u*((d=r+u*F)-h))+u*(d+u*(a+u*k-d)-g),0==l?(w=m,y=v,b=m,x=v):(w=Math.min(w,m),y=Math.min(y,v),b=Math.max(b,m),x=Math.max(x,v));return new s(Math.round(w),Math.round(y),Math.round(b-w),Math.round(x-y))},T=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(VS.API),function(e){var t=function(e){var t,n,r,i,a,o,s,A,u,l;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(a=((a=((a=((a=(a-(l=a%85))/85)-(u=a%85))/85)-(A=a%85))/85)-(s=a%85))/85)%85,n.push(o+33,s+33,A+33,u+33,l+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,a,o=String,s="length",A=255,u="charCodeAt",l="slice",c="replace";for(e[l](-2),e=e[l](0,-2)[c](/\s/g,"")[c]("z","!!!!!"),r=[],i=0,a=(e+=t="uuuuu"[l](e[s]%5||5))[s];a>i;i+=5)n=52200625*(e[u](i)-33)+614125*(e[u](i+1)-33)+7225*(e[u](i+2)-33)+85*(e[u](i+3)-33)+(e[u](i+4)-33),r.push(A&n>>24,A&n>>16,A&n>>8,A&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),o.fromCharCode.apply(o,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Mx(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,o){var s=0,A=e||"",u=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":A=n(A),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=i(A),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=r(A),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=a(A),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:A,reverseChain:u.reverse().join(" ")}}}(VS.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return a(r.responseText)}(e,t,n)}catch(et){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(VS.API),function(e){function t(){return(fS.html2canvas?Promise.resolve(fS.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(fS.DOMPurify?Promise.resolve(fS.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var i=function(e){var t=(0,nx.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var o=n[a],s=o.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},s.prototype.setMargin=function(e){return this.then(function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||VS.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),a=n.call(i,e,t);return s.convert(a,r.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,VS.getPageSize=function(e,t,n){if("object"===(0,nx.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,a=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,A=0,u=0;if(o.hasOwnProperty(a))A=o[a][1]/i,u=o[a][0]/i;else try{A=n[1],u=n[0]}catch(l){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",u>A&&(s=u,u=A,A=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",A>u&&(s=u,u=A,A=s)}return{width:u,height:A,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ok):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(VS.API),VS.API.addJS=function(e){return Xk=e,this.internal.events.subscribe("postPutResources",function(){Gk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gk+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Gk&&void 0!==qk&&this.internal.out("/Names <</JavaScript "+Gk+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],o=n.exec(a);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,u=[];for(i=0;i<A;i++){var l=e.internal.newObject();u.push(l);var c=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+c.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<u.length;i++)e.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var o=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(VS.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,a,o){var s,A=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),a={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:r}}return u}}(VS.API),VS.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=function(e,t){return new cS(e,t).decode()}(e,{checkCrc:!0}),o=a.width,s=a.height,A=a.channels,u=a.palette,l=a.depth;i=u&&1===A?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,a=e.depth,o=!1,s=[],A=[],u=void 0,l=!1,c=0,h=0;h<i.length;h++){var f=Kx(i[h],4),d=f[0],p=f[1],g=f[2],m=f[3];s.push(d,p,g),null!=m&&(0===m?(c++,A.length<1&&A.push(h)):m<255&&(l=!0))}if(l||c>1){o=!0,A=void 0;var v=t*n;u=new Uint8Array(v);for(var w=new DataView(r.buffer),y=0;y<v;y++){var b=Kx(i[l_(w,y,a)],4)[3];u[y]=b}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:r,alphaBytes:u,needSMask:o,palette:s,mask:A}}(a):2===A||4===A?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,a=e.depth,o=2===i?"DeviceGray":"DeviceRGB",s=i-1,A=n*r,u=s,l=A*u,c=1*A,h=Math.ceil(l*a/8),f=Math.ceil(c*a/8),d=new Uint8Array(h),p=new Uint8Array(f),g=new DataView(t.buffer),m=new DataView(d.buffer),v=new DataView(p.buffer),w=!1,y=0;y<A;y++){for(var b=y*i,x=0;x<u;x++)c_(m,l_(g,b+x,a),y*u+x,a);var B=l_(g,b+u,a);B<(1<<a)-1&&(w=!0),c_(v,B,1*y,a)}return{colorSpace:o,colorsPerPixel:s,colorBytes:d,alphaBytes:p,needSMask:w}}(a):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint8Array?t:new Uint8Array(t.buffer),needSMask:!1}}(a);var c,h,f,d=i,p=d.colorSpace,g=d.colorsPerPixel,m=d.colorBytes,v=d.alphaBytes,w=d.needSMask,y=d.palette,b=d.mask,x=null;return r!==VS.API.image_compression.NONE?(x=function(e){var t;switch(e){case VS.API.image_compression.FAST:t=11;break;case VS.API.image_compression.MEDIUM:t=13;break;case VS.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),c=this.decode.FLATE_DECODE,h="/Predictor ".concat(x," "),e=n_(m,o*g,g,r),w&&(f=n_(v,o,1,r))):(c=void 0,h="",e=m,w&&(f=v)),h+="/Colors ".concat(g," /BitsPerComponent ").concat(l," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:c,decodeParameters:h,transparency:b,palette:y,sMask:f,predictor:x,width:o,height:s,bitsPerComponent:l,colorSpace:p}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new f_(t),o=a.width,s=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var u={data:A,width:o,height:s},l=new p_(100).encode(u,100);return e.processJPEG.call(this,l,n,r,i)},e.processGIF87A=e.processGIF89A}(VS.API),g_.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},g_.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(Je){pS.log("bit decode error:"+Je)}},g_.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var A=this.palette[a>>7-s&1];this.data[o+4*s]=A.blue,this.data[o+4*s+1]=A.green,this.data[o+4*s+2]=A.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},g_.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,A=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[A],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},g_.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},g_.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,A=(a>>10&t)/t*255|0,u=a>>15?255:0,l=r*this.width*4+4*i;this.data[l]=A,this.data[l+1]=s,this.data[l+2]=o,this.data[l+3]=u}this.pos+=e}},g_.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,A=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,l=i*this.width*4+4*a;this.data[l]=u,this.data[l+1]=A,this.data[l+2]=s,this.data[l+3]=255}this.pos+=e}},g_.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},g_.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},g_.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new g_(t,!1),o=a.width,s=a.height,A={data:a.getData(),width:o,height:s},u=new p_(100).encode(A,100);return e.processJPEG.call(this,u,n,r,i)}}(VS.API),m_.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new m_(t),o=a.width,s=a.height,A={data:a.getData(),width:o,height:s},u=new p_(100).encode(A,100);return e.processJPEG.call(this,u,n,r,i)}}(VS.API),VS.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,A=0,u=0;u<i;u+=4){var l=r[u],c=r[u+1],h=r[u+2],f=r[u+3];a[s++]=l,a[s++]=c,a[s++]=h,o[A++]=f}var d=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:d,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},VS.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yk=VS.API,Jk=Yk.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,A=s.fof?s.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,l=u.fof?u.fof:1,c=!1!==t.doKerning,h=0,f=e.length,d=0,p=s[0]||A,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=c&&"object"===(0,nx.A)(u[r])&&!isNaN(parseInt(u[r][d],10))?u[r][d]/l:0,g.push((s[r]||p)/A+h)),d=r;return g},$k=Yk.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Yk.processArabic&&(e=Yk.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Jk.apply(this,arguments).reduce(function(e,t){return e+t},0)},Zk=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var A=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(A,a)),s=0,A=a),s+=t[a],a++;return A!==a&&i.push(e.slice(A,a)),i},e_=function(e,t,n){n||(n={});var r,i,a,o,s,A,u,l=[],c=[l],h=n.textIndent||0,f=0,d=0,p=e.split(" "),g=Jk.apply(this,[" ",n])[0];if(A=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(A).join(" "),v=[];p.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),p=v,A=$k.apply(this,[m,n])}for(a=0,o=p.length;a<o;a++){var w=0;if(r=p[a],A&&"\n"==r[0]&&(r=r.substr(1),w=1),h+f+(d=(i=Jk.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||w){if(d>t){for(s=Zk.apply(this,[r,i,t-(h+f),t]),l.push(s.shift()),l=[s.pop()];s.length;)c.push([s.shift()]);d=i.slice(r.length-(l[0]?l[0].length:0)).reduce(function(e,t){return e+t},0)}else l=[r];c.push(l),h=d+A,f=g}else l.push(r),h+=f+d,f=g}return u=A?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},c.map(u)},Yk.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,A,u=[];for(s=0,A=r.length;s<A;s++)u=u.concat(e_.apply(this,[r[s],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,r,a,A=["{"];for(var u in e){if(t=e[u],isNaN(parseInt(u,10))?n="'"+u+"'":(u=parseInt(u,10),n=(n=o(u).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=o(t).slice(3),a="-"):(r=o(t).slice(2),a=""),r=a+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==(0,nx.A)(t))throw new Error("Don't know what to do with value type "+(0,nx.A)(t)+".");r=s(t)}A.push(n+r)}return A.push("}"),A.join("")},A=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,a,o={},s=1,A=o,u=[],l="",c="",h=e.length-1,f=1;f<h;f+=1)"'"==(a=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(u.push([A,i]),A={},i=void 0):"}"==a?((n=u.pop())[0][n[1]]=A,i=void 0,A=n[0]):"-"==a?s=-1:void 0===i?r.hasOwnProperty(a)?(l+=r[a],i=parseInt(l,16)*s,s=1,l=""):l+=a:r.hasOwnProperty(a)?(c+=r[a],A[i]=parseInt(c,16)*s,s=1,i=void 0,c=""):c+=a;return o},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},c={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=l.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(VS.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(bS(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(VS),VS.API.addSvgAsImage=function(e,t,r,i,a,o,s,A){if(isNaN(t)||isNaN(r))throw pS.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw pS.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(fS.canvg?Promise.resolve(fS.canvg):n.e(732).then(n.bind(n,3732))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(l,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(c)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),t,r,i,a,s,A)})},VS.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},VS.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),A=[],u=0,l=0,c=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=s.length;for(c=0;c<f;c+=1)n[s[c]].value=n[s[c]].defaultValue,n[s[c]].explicitSet=!1}if("object"===(0,nx.A)(e))for(i in e)if(a=e[i],h(s,i)&&void 0!==a){if("boolean"===n[i].type&&"boolean"==typeof a)n[i].value=a;else if("name"===n[i].type&&h(n[i].valueSet,a))n[i].value=a;else if("integer"===n[i].type&&Number.isInteger(a))n[i].value=a;else if("array"===n[i].type){for(u=0;u<a.length;u+=1)if(r=!0,1===a[u].length&&"number"==typeof a[u][0])A.push(String(a[u]-1));else if(a[u].length>1){for(l=0;l<a[u].length;l+=1)"number"!=typeof a[u][l]&&(r=!1);!0===r&&A.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+A.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+i.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(VS.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],o=0,s=e.length;o<s;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(i[4-n.length],n)}return a.join("")},r=function(e){var t,n,r,i,a,o,s;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<s;o++)t=n[o],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,A=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),u="",l=0;l<A.length;l++)u+=String.fromCharCode(A[l]);var c=a();o({data:u,addLength1:!0,objectId:c}),i("endobj");var h=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+MS(n.fontName)),i("/FontFile2 "+c+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var d=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+MS(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+MS(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+d+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,A="",u=0;u<s.length;u++)A+=String.fromCharCode(s[u]);var l=a();o({data:A,addLength1:!0,objectId:l}),i("endobj");var c=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:c}),i("endobj");var h=a();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+MS(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=a();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+c+" 0 R/BaseFont/"+MS(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,a=e.y,o=e.options||{},s=e.mutex||{},A=s.pdfEscape,u=s.activeFontKey,l=s.fonts,c=u,h="",f=0,d="",p=l[c].encoding;if("Identity-H"!==l[c].encoding)return{text:r,x:i,y:a,options:o,mutex:s};for(d=r,c=u,Array.isArray(r)&&(d=r[0]),f=0;f<d.length;f+=1)l[c].metadata.hasOwnProperty("cmap")&&(t=l[c].metadata.cmap.unicode.codeMap[d[f].charCodeAt(0)]),t||d[f].charCodeAt(0)<256&&l[c].metadata.hasOwnProperty("Unicode")?h+=d[f]:h+="";var g="";return parseInt(c.slice(1))<14||"WinAnsiEncoding"===p?g=A(h,c).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(g=n(h,l[c])),s.isHex=!0,{text:g,x:i,y:a,options:o,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([i(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(i(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(VS),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(VS.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,a,o,s,A,u=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?u[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},w=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,o,s){var A,u,l,c,h=t[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(A=o[s-1])&&"AN"!==A||"EN"!==(u=t[s+1])&&"AN"!==u?h="N":g&&(u="AN"),h=u===A?u:"N";break;case"ES":h="EN"===(A=s>0?o[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){h="EN";break}if(g){h="N";break}for(l=s+1,c=t.length;l<c&&"ET"===t[l];)l++;h=l<c&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!a){for(c=t.length,l=s+1;l<c&&"NSM"===t[l];)l++;if(l<c){var f=e[s],d=f>=1425&&f<=2303||64286===f;if(A=t[l],d&&("R"===A||"AL"===A)){h="R";break}}}h=s<1||"B"===(A=t[s-1])?"N":o[s-1];break;case"B":g=!1,n=!0,h=m;break;case"S":r=!0,h="N"}return h},b=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var a,o,s,A,u,f=-1,d=e.length,p=0,w=[],b=m?c:l,x=[];for(g=!1,n=!1,r=!1,o=0;o<d;o++)x[o]=v(e[o]);for(s=0;s<d;s++){if(u=p,w[s]=y(e,x,w,s),a=240&(p=b[u][h[w[s]]]),p&=15,t[s]=A=b[p][5],a>0)if(16===a){for(o=f;o<s;o++)t[o]=1;f=-1}else f=-1;if(b[p][6])-1===f&&(f=s);else if(f>-1){for(o=f;o<s;o++)t[o]=A;f=-1}"B"===x[s]&&(t[s]=0),i.hiLevel|=A}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,d)},B=function(e,t,r,i,a){if(!(a.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var o,s,A,u,l=t.length,c=0;c<l;){if(i[c]>=e){for(A=c+1;A<l&&i[A]>=e;)A++;for(u=c,s=A-1;u<s;u++,s--)o=t[u],t[u]=t[s],t[s]=o,r&&(o=r[u],r[u]=r[s],r[s]=o);c=A}c++}}},C=function(e,t,n){var r=e.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&A)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=d.indexOf(e[i]))>=0&&(e[i]=d[r+1])}(r,n,i),B(2,r,t,n,i),B(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=w(e)),void 0===s&&(s=w(e))}(e,t),i||!o||s)if(i&&o&&a^s)m=a?1:0,e=b(e,t,n);else if(!i&&o&&s)m=a?1:0,e=C(e,t,n),e=b(e,t);else if(!i||a||o||s){if(i&&!o&&a^s)e=b(e,t),a?(m=0,e=C(e,t,n)):(m=1,e=C(e,t,n),e=b(e,t));else if(i&&a&&!o&&s)m=1,e=C(e,t,n),e=b(e,t);else if(!i&&!o&&a^s){var r=A;a?(m=1,e=C(e,t,n),m=0,A=!1,e=C(e,t,n),A=r):(m=0,e=C(e,t,n),e=b(e,t),m=1,A=!1,e=C(e,t,n),A=r,e=b(e,t))}}else m=0,e=C(e,t,n);else m=a?1:0,e=C(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,o=e.isOutputVisual,a=e.isInputRtl,s=e.isOutputRtl,A=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([n.doBidiReorder(t[a])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(VS),VS.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new w_(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new P_(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new y_(this.contents),this.head=new B_(this),this.name=new I_(this),this.cmap=new E_(this),this.toUnicode={},this.hhea=new F_(this),this.maxp=new N_(this),this.hmtx=new U_(this),this.post=new k_(this),this.os2=new S_(this),this.loca=new T_(this),this.glyf=new Q_(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var v_,w_=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,a,o,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*a+256*o+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),y_=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,a,o,s,A,u,l,c,h,f,d;for(d in h=Object.keys(t).length,s=Math.log(2),l=16*Math.floor(Math.log(h)/s),a=Math.floor(l/s),u=16*h-l,(r=new w_).writeInt(this.scalarType),r.writeShort(h),r.writeShort(l),r.writeShort(a),r.writeShort(u),i=16*h,A=r.pos+i,o=null,f=[],t)for(c=t[d],r.writeString(d),r.writeInt(e(c)),r.writeInt(A),r.writeInt(c.length),f=f.concat(c),"head"===d&&(o=A),A+=c.length;A%4;)f.push(0),A++;return r.write(f),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=L_.call(e);e.length%4;)e.push(0);for(r=new w_(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),b_={}.hasOwnProperty,x_=function(e,t){for(var n in t)b_.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};v_=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var B_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new w_).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),C_=function(){function e(e,t){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(h=e.readUInt16(),c=h/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=c?t<c:t>c;s=0<=c?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,d=function(){var t,n;for(n=[],s=t=0;0<=c?t<c:t>c;s=0<=c?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],s=t=0;0<=c?t<c:t>c;s=0<=c?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],s=t=0;0<=c?t<c:t>c;s=0<=c?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,v=i.length;g<v;s=++g)for(p=i[s],n=m=f=d[s];f<=p?m<=p:m>=p;n=f<=p?++m:--m)0===u[s]?a=n+A[s]:0!==(a=o[u[s]/2+(n-f)-(c-s)]||0)&&(a+=A[s]),this.codeMap[n]=65535&a}e.pos=l}return e.encode=function(e,t){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g,m,v,w,y,b,x,B,C,E,F,S,k,_,I,N,U,L,Q,R,D,T,P,O,M,j,H,K,z,W,V,G;switch(_=new w_,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(d=0,p=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),m={0:0},i={},I=0,Q=a.length;I<Q;I++)null==m[z=e[r=a[I]]]&&(m[z]=++d),i[r]={old:e[r],new:m[e[r]]},p[r]=m[e[r]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(p),{charMap:i,subtable:_.data,maxGlyphID:d+1};case"unicode":for(S=[],l=[],v=0,m={},n={},g=A=null,N=0,R=a.length;N<R;N++)null==m[y=e[r=a[N]]]&&(m[y]=++v),n[r]={old:y,new:m[y]},o=m[y]-r,null!=g&&o===A||(g&&l.push(g),S.push(r),A=o),g=r;for(g&&l.push(g),l.push(65535),S.push(65535),E=2*(C=S.length),B=2*Math.pow(Math.log(C)/Math.LN2,2),c=Math.log(B/2)/Math.LN2,x=2*C-B,s=[],b=[],h=[],f=U=0,D=S.length;U<D;f=++U){if(F=S[f],u=l[f],65535===F){s.push(0),b.push(0);break}if(F-(k=n[F].new)>=32768)for(s.push(0),b.push(2*(h.length+C-f)),r=L=F;F<=u?L<=u:L>=u;r=F<=u?++L:--L)h.push(n[r].new);else s.push(k-F),b.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*C+2*h.length),_.writeUInt16(0),_.writeUInt16(E),_.writeUInt16(B),_.writeUInt16(c),_.writeUInt16(x),H=0,T=l.length;H<T;H++)r=l[H],_.writeUInt16(r);for(_.writeUInt16(0),K=0,P=S.length;K<P;K++)r=S[K],_.writeUInt16(r);for(W=0,O=s.length;W<O;W++)o=s[W],_.writeUInt16(o);for(V=0,M=b.length;V<M;V++)w=b[V],_.writeUInt16(w);for(G=0,j=h.length;G<j;G++)d=h[G],_.writeUInt16(d);return{charMap:n,subtable:_.data,maxGlyphID:v+1}}},e}(),E_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new C_(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=C_.encode(e,t),(r=new w_).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),F_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),S_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),k_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),__=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},I_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,a,o,s,A,u,l,c;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},i=u=0,l=n.length;u<l;i=++u)r=n[i],e.pos=r.offset,A=e.readString(r.length),a=new __(A,r),null==s[c=r.nameID]&&(s[c]=[]),s[r.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(at){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),N_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),U_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,a,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),L_=[].slice,Q_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,a,o,s,A,u,l;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new w_(t.read(r))).readShort(),A=o.readShort(),l=o.readShort(),s=o.readShort(),u=o.readShort(),this.cache[e]=-1===a?new D_(o,A,l,s,u):new R_(o,a,A,l,s,u),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,a,o,s;for(a=[],i=[],o=0,s=t.length;o<s;o++)r=e[t[o]],i.push(a.length),r&&(a=a.concat(r.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),R_=function(){function e(e,t,n,r,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),D_=function(){function e(e,t,n,r,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new w_(L_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),T_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return x_(e,v_),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,a=0;a<n.length;++a)if(n[a]=r,i<t.length&&t[i]==a){++i,n[a]=r;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(r+=s)}for(var A=new Array(4*n.length),u=0;u<n.length;++u)A[4*u+3]=255&n[u],A[4*u+2]=(65280&n[u])>>8,A[4*u+1]=(16711680&n[u])>>16,A[4*u]=(4278190080&n[u])>>24;return A},e}(),P_=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,a,o,s;for(r={},a=0,o=e.length;a<o;a++)r[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,a,o,s,A,u,l,c,h,f,d,p,g;for(r in n=E_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},g=n.charMap)h[(s=g[r]).old]=s.new;for(f in c=n.maxGlyphID,a)f in h||(h[f]=c++);return u=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),l=Object.keys(u).sort(function(e,t){return e-t}),d=function(){var e,t,n;for(n=[],e=0,t=l.length;e<t;e++)o=l[e],n.push(u[o]);return n}(),i=this.font.glyf.encode(a,d,h),A=this.font.loca.encode(i.offsets,d),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();VS.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var e,i,a;for(a=[],e=0,i=n.length;e<i;e++)r=n[e],a.push(t.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join("\n")}return""+n},t}();const O_=()=>{const e=(0,r.useRef)(),t=(0,r.useRef)(),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),[s,A]=(0,r.useState)(!1),{user:u}=Pe(),[l,c]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[d,p]=(0,r.useState)([]),[g,m]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),[x,B]=(0,r.useState)("view"),[C,E]=(0,r.useState)(!1),[F,S]=(0,r.useState)(null),[k,_]=(0,r.useState)(""),[I,N]=(0,r.useState)(!1),[U,L]=(0,r.useState)(null),[Q,R]=(0,r.useState)(null),D=(0,r.useRef)();(0,r.useEffect)(()=>{(async()=>{const e="/models";await Promise.all([im.tinyFaceDetector.loadFromUri(e),im.faceLandmark68Net.loadFromUri(e),im.faceRecognitionNet.loadFromUri(e),im.faceExpressionNet.loadFromUri(e),im.ssdMobilenetv1.loadFromUri(e)]),i(!0)})()},[]),(0,r.useEffect)(()=>{n&&(async()=>{const e=localStorage.getItem("token"),t=await fetch("/api/face",{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();if(Array.isArray(n)&&n.length>0){const e=n.filter(e=>e.userId&&e.userId._id&&Array.isArray(e.faceDescriptors)&&e.faceDescriptors.length>0).map(e=>new jd(String(e.userId._id),e.faceDescriptors.map(e=>new Float32Array(e))));e.length>0?o(new Em(e,.5)):(console.warn("No valid face descriptors found after filtering."),o(null))}else console.warn("No face data received or face data is not an array."),o(null)})()},[n]),(0,r.useEffect)(()=>{if(C&&n&&a&&e.current)T();else{if(e.current&&e.current.srcObject){e.current.srcObject.getTracks().forEach(e=>e.stop()),e.current.srcObject=null}D.current&&(clearInterval(D.current),D.current=null),A(!1)}return()=>{if(D.current&&clearInterval(D.current),e.current&&e.current.srcObject){e.current.srcObject.getTracks().forEach(e=>e.stop())}}},[C,n,a]),(0,r.useEffect)(()=>{if(s&&C){const n=t.current,r=e.current;if(!n||!r)return;const i={width:r.clientWidth,height:r.clientHeight};vp(n,i),D.current=setInterval(async()=>{if(a){_("Scanning...");const e=await Cm(r,new Pg).withFaceLandmarks().withFaceDescriptors(),t=Fm(e,i);if(n.getContext("2d").clearRect(0,0,n.width,n.height),Gp(n,t),e.length>0){const t=a.findBestMatch(e[0].descriptor);"unknown"!==t.label?(_(`Face recognized: ${t.label}`),P(t.label)):_("Face not recognized. Please try again.")}else _("No face detected. Please position your face in the center.")}},100)}else D.current&&(clearInterval(D.current),D.current=null)},[s,C,a]);const T=()=>{navigator.mediaDevices.getUserMedia({video:{}}).then(t=>{e.current.srcObject=t,e.current.onloadedmetadata=()=>{A(!0)}}).catch(e=>{console.error("Error accessing camera:",e),A(!1),alert("Error accessing camera. Please ensure camera permissions are granted and no other application is using the camera.")})},P=async e=>{try{const t=localStorage.getItem("token"),n=await fetch(`/api/auth/user/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();S(e.user)}else alert("User not found.")}catch(t){console.error("Error fetching user data:",t),alert("An error occurred while fetching user data.")}};(0,r.useEffect)(()=>{u&&u.clubCode&&O()},[u]);const O=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshops",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();c(e)}}catch(e){console.error("Error fetching workshops:",e)}finally{f(!1)}},M=e=>{B("view"),w(e),(async e=>{try{const t=localStorage.getItem("token"),n=await fetch(`http://localhost:5000/api/workshops/${e}/participants`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();b(r.workshop),p(r.participants),m(!0)}catch(t){console.error("Error fetching workshop and participants for modal:",t),alert("Failed to load workshop details and participants.")}})(e)},j=e=>{B("mark"),w(e),(async e=>{try{const t=localStorage.getItem("token"),n=await fetch(`http://localhost:5000/api/attendance/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();p(e),m(!0)}else alert("Failed to fetch participants for marking attendance.")}catch(t){console.error("Error fetching participants for marking attendance:",t),alert("An error occurred while fetching participants for marking attendance.")}})(e)},H=()=>{m(!1),p([]),w(null),E(!1),S(null)};return h?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:(0,De.jsx)("span",{children:"Loading..."})})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"att-main-content",children:[(0,De.jsxs)("div",{className:"header",children:[(0,De.jsx)("h1",{children:"Workshop Attendance"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===u||void 0===u?void 0:u.username," (",Array.isArray(null===u||void 0===u?void 0:u.roles)&&u.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),(0,De.jsx)("div",{className:"table-content",children:(0,De.jsxs)("table",{className:"attendance-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Name"}),(0,De.jsx)("th",{children:"Date"}),(0,De.jsx)("th",{children:"Time"}),(0,De.jsx)("th",{children:"Venue"}),(0,De.jsx)("th",{children:"Actions"})]})}),(0,De.jsx)("tbody",{children:l.map(e=>{const t=new Date(e.date)<new Date;return(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:e.name}),(0,De.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,De.jsx)("td",{children:e.time}),(0,De.jsx)("td",{children:e.location}),(0,De.jsxs)("td",{className:"actions-cell",children:[u&&u.roles&&u.roles.includes("admin")&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("button",{className:"icon-button",onClick:()=>(async e=>{R(e);try{const t=localStorage.getItem("token"),n=await fetch(`/api/workshops/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();L(e),N(!0)}else console.error(`Failed to fetch workshop details: ${n.status} ${n.statusText}`),alert("Failed to fetch workshop details for editing.")}finally{R(null)}})(e._id),title:"Edit",children:Q===e._id?(0,De.jsx)("div",{className:"loading-spinner-small"}):"\u270e"}),(0,De.jsx)("button",{className:"icon-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this workshop?"))try{const t=localStorage.getItem("token"),n=await fetch(`/api/workshops/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(n.ok)alert("Workshop deleted successfully!"),O();else{const e=await n.json();alert(e.message||"Failed to delete workshop.")}}catch(t){console.error("Error deleting workshop:",t),alert("An error occurred while deleting the workshop.")}})(e._id),title:"Delete",children:"\ud83d\uddd1"})]}),(0,De.jsx)("button",{className:"icon-button",onClick:()=>M(e._id),title:"Participants",children:"\ud83d\udc64"}),(0,De.jsx)("button",{className:"icon-button",onClick:()=>j(e._id),disabled:t,title:t?"Attendance Closed":"Mark Attendance",children:t?"\u274c":"\u2705"})]})]},e._id)})})]})})]}),g&&"view"===x&&y&&(0,De.jsx)("div",{className:"modal-overlay",onClick:H,children:(0,De.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("h2",{children:"Workshop Participants"}),(0,De.jsxs)("div",{className:"wp-details",children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Workshop Name:"})," ",y.name]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Club Name:"})," ",y.clubCode]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Date:"})," ",new Date(y.date).toLocaleDateString()]})]}),(0,De.jsx)("div",{className:"wp-actions",children:(0,De.jsx)("button",{onClick:()=>{const e=document.getElementById("participants-content-to-print");tx()(e,{scale:2,useCORS:!0}).then(e=>{const t=e.toDataURL("image/png"),n=new VS("p","mm","a4"),r=210*e.height/e.width;let i=r,a=0;for(n.addImage(t,"PNG",0,a,210,r),i-=297;i>=0;)a=i-r,n.addPage(),n.addImage(t,"PNG",0,a,210,r),i-=297;n.save(`workshop_${y._id}_participants.pdf`)})},className:"wp-button",children:"Download PDF"})}),(0,De.jsxs)("div",{id:"participants-content-to-print",className:"wp-table-container",children:[" ",d.length>0?(0,De.jsxs)("table",{className:"wp-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Name"}),(0,De.jsx)("th",{children:"Roll No"}),(0,De.jsx)("th",{children:"Mobile No"}),(0,De.jsx)("th",{children:"Email"})]})}),(0,De.jsx)("tbody",{children:d.map(e=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:e.user.name}),(0,De.jsx)("td",{children:e.user.rollNo}),(0,De.jsx)("td",{children:e.user.mobileNumber||"N/A"}),(0,De.jsx)("td",{children:e.user.email})]},e.user._id))})]}):(0,De.jsx)("p",{className:"wp-no-participants",children:"No participants registered for this workshop yet."})]})]})}),g&&"mark"===x&&(0,De.jsx)("div",{className:"modal-overlay",onClick:H,children:(0,De.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("h2",{children:"Mark Attendance"}),(0,De.jsx)("div",{className:"attendance-modal-header",children:(0,De.jsx)("button",{onClick:()=>E(!0),children:"New"})}),C?(0,De.jsxs)("div",{children:[!s&&(0,De.jsx)("p",{children:"Loading camera..."}),(0,De.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"600px"},children:[(0,De.jsx)("video",{ref:e,style:{display:"block",width:"100%",height:"auto"},autoPlay:!0,muted:!0,playsInline:!0}),(0,De.jsx)("canvas",{ref:t,style:{position:"absolute",top:0,left:0}})]}),(0,De.jsx)("p",{children:k}),F&&(0,De.jsxs)("div",{children:[(0,De.jsxs)("p",{children:["Name: ",F.username]}),(0,De.jsxs)("p",{children:["Roll No: ",F.rollNo]}),(0,De.jsx)("button",{onClick:()=>(async e=>{if(v&&e)try{const t=localStorage.getItem("token"),n=await fetch("/api/attendance/mark",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({workshopId:v,presentUserIds:[e._id]})});if(n.ok)alert("Attendance marked successfully!"),p(t=>[...t,{user:e}]),S(null),E(!1);else{const e=await n.json();alert(e.message||"Failed to mark attendance.")}}catch(t){console.error("Error marking attendance:",t),alert("An error occurred while marking attendance.")}})(F),children:"Confirm"}),(0,De.jsx)("button",{onClick:()=>{S(null)},children:"Retry"})]})]}):(0,De.jsxs)("table",{className:"attendance-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Name"}),(0,De.jsx)("th",{children:"Roll No"}),(0,De.jsx)("th",{children:"Actions"})]})}),(0,De.jsx)("tbody",{children:d.map(e=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:e.user.username}),(0,De.jsx)("td",{children:e.user.rollNo}),(0,De.jsx)("td",{children:(0,De.jsx)("button",{className:"icon-button",onClick:()=>(async(e,t)=>{if(e&&t&&window.confirm("Are you sure you want to remove this attendee?"))try{const n=localStorage.getItem("token"),r=await fetch(`/api/attendance/${e}/attendees/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(r.ok)alert("Attendee removed successfully!"),p(e=>e.filter(e=>e.user._id!==t));else{const e=await r.json();alert(e.message||"Failed to remove attendee.")}}catch(n){console.error("Error removing attendee:",n),alert("An error occurred while removing the attendee.")}})(v,e.user._id),title:"Remove",children:(0,De.jsx)(qb,{icon:Yb})})})]},e.user._id))})]})]})}),I&&U&&(0,De.jsx)("div",{className:"modal-overlay",onClick:()=>{N(!1),L(null)},children:(0,De.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("h2",{children:"Edit Workshop"}),(0,De.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=localStorage.getItem("token"),t={...U};t.image&&t.image.image&&t.image.image.data||t.image&&t.image._id?t.image=t.image._id:t.image=null;const n=await fetch(`/api/workshops/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(n.ok)alert("Workshop updated successfully!"),N(!1),L(null),O();else{console.error(`Failed to update workshop: ${n.status} ${n.statusText}`);const e=await n.json();alert(e.message||"Failed to update workshop.")}}catch(e){console.error("Error updating workshop:",e),alert("An error occurred while updating the workshop.")}})()},children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Name:"}),(0,De.jsx)("input",{type:"text",value:U.name,onChange:e=>L({...U,name:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Topic:"}),(0,De.jsx)("input",{type:"text",value:U.topic,onChange:e=>L({...U,topic:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Date:"}),(0,De.jsx)("input",{type:"date",value:U.date?new Date(U.date).toISOString().split("T")[0]:"",onChange:e=>L({...U,date:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Time:"}),(0,De.jsx)("input",{type:"time",value:U.time,onChange:e=>L({...U,time:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Location:"}),(0,De.jsx)("input",{type:"text",value:U.location,onChange:e=>L({...U,location:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Description:"}),(0,De.jsx)("textarea",{value:U.description||"",onChange:e=>L({...U,description:e.target.value})})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Max Participants:"}),(0,De.jsx)("input",{type:"number",value:U.maxParticipants||"",onChange:e=>L({...U,maxParticipants:parseInt(e.target.value)||0})})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code:"}),(0,De.jsx)("input",{type:"text",value:U.clubCode||"",readOnly:!0})]}),(0,De.jsx)("button",{type:"submit",children:"Save Changes"})]})]})})]})},M_=()=>{const{user:e,isAdmin:t}=Pe(),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[s,A]=(0,r.useState)(""),[u,l]=(0,r.useState)(null),[c,h]=(0,r.useState)([]),[f,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p(),(async()=>{try{const e=await fetch("/api/workshops",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch workshops");const t=await e.json();h(t.map(e=>e.name))}catch(e){console.error("Error fetching workshops:",e),alert("Failed to load workshops.")}finally{d(!1)}})()},[]);const p=async()=>{try{const e=await fetch("/api/album",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch images");const t=(await e.json()).map(e=>{const t=e.image.data.data,n=btoa(new Uint8Array(t).reduce((e,t)=>e+String.fromCharCode(t),""));return{...e,src:`data:${e.image.contentType};base64,${n}`,uploadedAt:new Date(e.createdAt).toLocaleDateString(),uploadedBy:e.uploadedBy||"Unknown"}});i(t)}catch(e){console.error("Error fetching images:",e),alert("Failed to load images.")}finally{d(!1)}};return f?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:"Loading..."})]}):(0,De.jsx)(De.Fragment,{children:(0,De.jsxs)("div",{className:"album-container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"albm-main-content",children:[(0,De.jsx)("h2",{children:"Workshop Album"}),(0,De.jsxs)("div",{className:"upload-area",children:[(0,De.jsxs)("select",{value:s,onChange:e=>A(e.target.value),className:"workshop-select",children:[(0,De.jsx)("option",{value:"",children:"Select a Workshop"}),c.map((e,t)=>(0,De.jsx)("option",{value:e,children:e},t))]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("input",{type:"file",id:"image-upload",accept:"image/*",onChange:async e=>{const t=e.target.files;if(!t||0===t.length)return;if(!s)return void alert("Please select a workshop before uploading images.");o(!0);const n=new FormData;n.append("image",t[0]),n.append("workshop",s);try{if(!(await fetch("/api/album/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:n})).ok)throw new Error("Failed to upload image");alert("Image uploaded successfully!"),p()}catch(r){console.error("Error uploading image:",r),alert("Failed to upload image. Please try again.")}finally{o(!1)}},style:{display:"none"}}),(0,De.jsx)("label",{htmlFor:"image-upload",className:"upload-button",children:a?(0,De.jsx)("span",{children:"Uploading..."}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("span",{className:"upload-icon",children:"\ud83d\udcf7"}),(0,De.jsx)("span",{children:"Upload Workshop Image"})]})})]}),(0,De.jsx)("p",{className:"upload-hint",children:"Select a workshop and click to upload an image"})]}),(0,De.jsx)("div",{className:"image-grid",children:0===n.length?(0,De.jsx)("p",{children:"No images in the album yet. Upload some!"}):n.map(e=>(0,De.jsx)("div",{className:"image-item",children:(0,De.jsxs)("div",{className:"image-container",children:[(0,De.jsx)("img",{src:e.src,alt:e.workshop,className:"album-image",onClick:()=>(e=>l(e))(e)}),(0,De.jsxs)("div",{className:"image-overlay",children:[(0,De.jsxs)("div",{className:"image-info",children:[(0,De.jsx)("h4",{children:e.workshop}),e.uploadedBy&&(0,De.jsxs)("p",{children:["Uploaded by: ",e.uploadedBy]}),e.uploadedAt&&(0,De.jsxs)("p",{children:["Date: ",e.uploadedAt]})]}),t()&&(0,De.jsx)("button",{className:"delete-image-btn",onClick:()=>(async e=>{if(!t())return void alert("Only admins can delete images.");if(window.confirm("Are you sure you want to delete this image?"))try{if(!(await fetch(`/api/album/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete image");alert("Image deleted successfully!"),p()}catch(n){console.error("Error deleting image:",n),alert("Failed to delete image. Please try again.")}})(e._id),title:"Delete image",children:"\ud83d\uddd1\ufe0f"})]})]})},e._id))}),u&&(0,De.jsx)("div",{className:"image-overlay-modal",onClick:()=>l(null),children:(0,De.jsxs)("div",{className:"image-overlay-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("img",{src:u.src,alt:u.workshop,className:"full-image"}),(0,De.jsx)("div",{className:"overlay-actions",children:(0,De.jsx)("a",{href:u.src,download:`${u.workshop}.png`,className:"download-button",children:"Download"})})]})})]})]})})},j_=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),s=te(),{login:A}=Pe();return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsx)("div",{className:"login-container main-with-header-footer",children:(0,De.jsxs)("form",{className:"login-form",onSubmit:async t=>{t.preventDefault();try{const t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n,clubCode:a})}),r=await t.json();if(t.ok)if(console.log("Login response:",r),console.log("User roles:",r.user.roles),console.log("Is array?",Array.isArray(r.user.roles)),console.log("Includes admin?",r.user.roles.includes("admin")),Array.isArray(r.user.roles)&&r.user.roles.includes("admin"))r.user.clubCode===a?(A(r.user,r.token),s("/intro")):alert("Invalid club code. Please check your club code and try again.");else{const e=Array.isArray(r.user.roles)?r.user.roles.join(", "):"none";alert(`This login is only for Admins. Your account has the following roles: ${e}. Please use Club Member Login for club member accounts.`)}else alert(r.message||"Login failed")}catch(r){console.error("Login error:",r),alert("Login failed. Please try again.")}},children:[(0,De.jsx)("h2",{children:"Admin Login"}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Admin Name:"}),(0,De.jsx)("input",{type:"text",name:"adminId",placeholder:"Enter Your Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Password:"}),(0,De.jsx)("input",{type:"password",placeholder:"Enter password",value:n,onChange:e=>i(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code:"}),(0,De.jsx)("input",{type:"text",name:"clubCode",placeholder:"Enter Club's Unique Code",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,De.jsx)("button",{type:"submit",children:"Login"}),(0,De.jsxs)("div",{className:"login-link",children:["Don't have an account? ",(0,De.jsx)(Ne,{to:"/register",children:"Register here"})]})]})}),(0,De.jsx)(je,{})]})},H_=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),s=te(),{login:A}=Pe();return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsx)("div",{className:"login-container main-with-header-footer",children:(0,De.jsxs)("form",{className:"login-form",onSubmit:async t=>{t.preventDefault();try{const t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n,clubCode:a})}),r=await t.json();t.ok?Array.isArray(r.user.roles)&&r.user.roles.includes("clubMember")?r.user.clubCode===a?(A(r.user,r.token),s("/intro")):alert("Invalid club code"):alert("This login is only for Club Members. Please use Admin Login for admin accounts."):alert(r.message||"Login failed")}catch(r){console.error("Login error:",r),alert("Login failed. Please try again.")}},children:[(0,De.jsx)("h2",{children:"Club Member Login"}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Student Name:"}),(0,De.jsx)("input",{type:"text",name:"rollNumber",placeholder:"Enter your Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Password:"}),(0,De.jsx)("input",{type:"password",placeholder:"Enter password",value:n,onChange:e=>i(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code:"}),(0,De.jsx)("input",{type:"text",name:"clubCode",placeholder:"Enter Club's Unique Code",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,De.jsx)("button",{type:"submit",children:"Login"}),(0,De.jsxs)("div",{className:"register-link",children:["Don't have an account? ",(0,De.jsx)("span",{onClick:()=>s("/register"),children:"Register here"})]})]})}),(0,De.jsx)(je,{})]})},K_=()=>(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsxs)("div",{className:"unified-register-container",children:[(0,De.jsx)("h2",{children:"Choose Your Registration Type"}),(0,De.jsxs)("div",{className:"registration-options",children:[(0,De.jsxs)(Ne,{to:"/register/admin-club",className:"option-card",children:[(0,De.jsx)("h3",{children:"Admin / Club Member"}),(0,De.jsx)("p",{children:"Register as an admin or a club member to manage workshops and club activities."})]}),(0,De.jsxs)(Ne,{to:"/register/student",className:"option-card",children:[(0,De.jsx)("h3",{children:"Student"}),(0,De.jsx)("p",{children:"Register as a student to enroll in workshops and view your progress."})]})]})]}),(0,De.jsx)(je,{})]}),z_=()=>{const[e,t]=(0,r.useState)({username:"",email:"",mobileNumber:"",password:"",confirmPassword:"",role:"clubMember",clubCode:""}),[n,i]=(0,r.useState)({}),[a,o]=(0,r.useState)(!1),[s,A]=(0,r.useState)(null),[u,l]=(0,r.useState)(!1),c=te(),{login:h}=Pe(),f=e=>{const{name:r,value:a}=e.target;t(e=>({...e,[r]:a})),n[r]&&i(e=>({...e,[r]:""}))};return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsx)("div",{className:"register-container",children:(0,De.jsxs)("form",{className:"register-form",onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.username.trim()?e.username.length<3&&(t.username="Username must be at least 3 characters"):t.username="Username is required",e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),e.clubCode.trim()||(t.clubCode="Club code is required"),i(t),0===Object.keys(t).length})()){o(!0);try{console.log("Submitting registration request:",{username:e.username,email:e.email,role:e.role,clubCode:e.clubCode});const t=await fetch("/api/registration-requests/submit-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,email:e.email,password:e.password,role:e.role,clubCode:e.clubCode,mobileNumber:e.mobileNumber})});console.log("Response status:",t.status),console.log("Response ok:",t.ok);const n=await t.json();if(console.log("Response data:",n),t.ok){const t="admin"===e.role?"\u2705 Registration request submitted successfully! Your request has been sent to the system administrator for approval. You will receive an email notification once approved.":"\u2705 Registration request submitted successfully! Your request has been sent to your club administrator for approval. You will receive an email notification once approved.";alert(t),c("/")}else n.message&&n.message.includes("admin already exists")?alert("\u274c Admin already exists for this club. Only one admin is allowed per club. Please register as a Club Member instead."):n.message&&n.message.includes("No admin found")?alert("\u274c No admin found for this club. Please contact the system administrator."):alert(n.message||"Registration request failed")}catch(n){console.error("Registration request error:",n),alert("Registration request failed. Please try again.")}finally{o(!1)}}},children:[(0,De.jsx)("h2",{children:"Submit Registration Request"}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"User Name:"}),(0,De.jsx)("input",{type:"text",name:"username",placeholder:"Enter username",value:e.username,onChange:f,className:n.username?"error":""}),n.username&&(0,De.jsx)("span",{className:"error-message",children:n.username})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Email:"}),(0,De.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:e.email,onChange:f,className:n.email?"error":""}),n.email&&(0,De.jsx)("span",{className:"error-message",children:n.email})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Mobile Number (Optional):"}),(0,De.jsx)("input",{type:"text",name:"mobileNumber",placeholder:"Enter mobile number",value:e.mobileNumber,onChange:f})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Password:"}),(0,De.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:e.password,onChange:f,className:n.password?"error":""}),n.password&&(0,De.jsx)("span",{className:"error-message",children:n.password})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Confirm Password:"}),(0,De.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm password",value:e.confirmPassword,onChange:f,className:n.confirmPassword?"error":""}),n.confirmPassword&&(0,De.jsx)("span",{className:"error-message",children:n.confirmPassword})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Role:"}),(0,De.jsxs)("select",{name:"role",value:e.role,onChange:f,children:[(0,De.jsx)("option",{value:"clubMember",children:"Club Member"}),(0,De.jsx)("option",{value:"admin",children:"Admin (One per club only)"})]}),"admin"===e.role&&(0,De.jsxs)("div",{className:"role-info",children:[(0,De.jsx)("span",{className:"info-icon",children:"\u2139\ufe0f"}),(0,De.jsx)("span",{className:"info-text",children:"Only one admin is allowed per club. If an admin already exists, registration will be rejected."})]})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code:"}),(0,De.jsxs)("div",{className:"club-code-container",children:[(0,De.jsx)("input",{type:"text",name:"clubCode",placeholder:"Enter Club's Unique Code",value:e.clubCode,onChange:f,className:n.clubCode?"error":""}),(0,De.jsx)("button",{type:"button",className:"check-admin-btn",onClick:async()=>{if(e.clubCode.trim()){l(!0),A(null);try{console.log("Checking admin for club code:",e.clubCode);const t=`/api/auth/check-admin/${e.clubCode}`;console.log("Request URL:",t);const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Response status:",n.status),console.log("Response ok:",n.ok);const r=await n.json();console.log("Response data:",r),n.ok?A(r):alert(r.message||"Failed to check admin status")}catch(t){console.error("Admin check error:",t),console.error("Error details:",t.message),alert(`Failed to check admin status: ${t.message}`)}finally{l(!1)}}else alert("Please enter a club code first")},disabled:u||!e.clubCode.trim(),children:u?"Checking...":"Check Admin"})]}),n.clubCode&&(0,De.jsx)("span",{className:"error-message",children:n.clubCode}),s&&(0,De.jsxs)("div",{className:"admin-check-result "+(s.exists?"exists":"not-exists"),children:[(0,De.jsx)("span",{className:"result-icon",children:s.exists?"\u274c":"\u2705"}),(0,De.jsx)("span",{className:"result-text",children:s.exists?`Admin exists: ${s.admin.username} (${s.admin.email})`:"No admin found for this club"})]})]}),(0,De.jsx)("button",{type:"submit",disabled:a,children:a?"Submitting Request...":"Submit Registration Request"}),(0,De.jsxs)("div",{className:"login-link",children:["Already have an account? ",(0,De.jsx)("span",{onClick:()=>c("/admin-login"),children:"Login here"})]})]})}),(0,De.jsx)(je,{})]})},W_=()=>{const{user:e,isAdmin:t}=Pe(),n=te(),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)({}),[A,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{l(),c()},[]);const l=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshop-requests/requests",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();a(e)}}catch(e){console.error("Error fetching requests:",e)}finally{u(!1)}},c=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshop-requests/stats",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();s(e)}}catch(e){console.error("Error fetching stats:",e)}},h=e=>{switch(e){case"pending":return"#f59e0b";case"approved":return"#10b981";case"rejected":return"#ef4444";default:return"#6b7280"}},f=e=>{switch(e){case"pending":return"\u23f3 Pending";case"approved":return"\u2705 Approved";case"rejected":return"\u274c Rejected";default:return e}};return A?(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"wr-main-content",children:(0,De.jsx)("div",{className:"loading",children:"Loading..."})})]}):(0,De.jsxs)("div",{className:"container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"wr-main-content",children:[(0,De.jsxs)("div",{className:"header",children:[(0,De.jsx)("h2",{children:t()?"All Requests":"My Workshop Requests"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:[null===e||void 0===e?void 0:e.username," (",Array.isArray(null===e||void 0===e?void 0:e.roles)&&e.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),(0,De.jsxs)("div",{className:"stats-section",children:[(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("h3",{children:"Total Requests"}),(0,De.jsx)("span",{className:"stat-number",children:o.total||0})]}),(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("h3",{children:"Pending"}),(0,De.jsx)("span",{className:"stat-number pending",children:o.pending||0})]}),(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("h3",{children:"Approved"}),(0,De.jsx)("span",{className:"stat-number approved",children:o.approved||0})]}),(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("h3",{children:"Rejected"}),(0,De.jsx)("span",{className:"stat-number rejected",children:o.rejected||0})]})]}),(0,De.jsx)("div",{className:"actions-section",children:!t()&&(0,De.jsx)("button",{className:"submit-request-btn",onClick:()=>n("/request-workshop"),children:"\ud83d\udcdd Request New Workshop"})}),(0,De.jsx)("div",{className:"requests-section",children:0===i.length?(0,De.jsx)("div",{className:"no-requests",children:(0,De.jsx)("p",{children:"No workshop requests found."})}):(0,De.jsx)("div",{className:"requests-grid",children:i.map(e=>(0,De.jsxs)("div",{className:"request-card",children:[(0,De.jsxs)("div",{className:"request-header",children:[(0,De.jsx)("h3",{children:e.workshopName}),(0,De.jsx)("span",{className:"status-badge",style:{backgroundColor:h(e.status)},children:f(e.status)})]}),(0,De.jsxs)("div",{className:"request-details",children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Date:"})," ",e.date]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Topic:"})," ",e.topic]}),e.description&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Description:"})," ",e.description]}),e.maxParticipants>0&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Max Participants:"})," ",e.maxParticipants]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Requested by:"})," ",e.requesterName]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Submitted:"})," ",new Date(e.createdAt).toLocaleDateString()]}),e.adminResponse&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Admin Response:"})," ",e.adminResponse]}),"approved"===e.status&&e.workshopId&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Workshop Created:"})," \u2705 Workshop has been automatically created"]})]}),t()&&(0,De.jsx)("div",{className:"request-actions",children:"pending"===e.status&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("button",{className:"approve-btn",onClick:()=>(async e=>{const t=prompt("Enter approval message (optional):");try{const n=localStorage.getItem("token"),r=await fetch(`/api/workshop-requests/approve/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({adminResponse:t})});if(r.ok)alert("Request approved successfully! Workshop has been automatically created."),l(),c();else{const e=await r.json();alert(e.message||"Failed to approve request")}}catch(n){console.error("Error approving request:",n),alert("Failed to approve request")}})(e._id),children:"\u2705 Approve & Create Workshop"}),(0,De.jsx)("button",{className:"reject-btn",onClick:()=>(async e=>{const t=prompt("Enter rejection reason (optional):");try{const n=localStorage.getItem("token"),r=await fetch(`/api/workshop-requests/reject/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({adminResponse:t})});if(r.ok)alert("Request rejected"),l(),c();else{const e=await r.json();alert(e.message||"Failed to reject request")}}catch(n){console.error("Error rejecting request:",n),alert("Failed to reject request")}})(e._id),children:"\u274c Reject"})]})})]},e._id))})})]})]})},V_=()=>{const{requestId:e}=re(),t=te(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(!0),[s,A]=(0,r.useState)(!1),[u,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[e]);const c=async()=>{try{const t=await fetch(`/api/registration-requests/status/${e}`),n=await t.json();t.ok?i(n):l(n.message||"Failed to fetch request details")}catch(u){l("Network error. Please try again.")}finally{o(!1)}};return n?"pending"!==n.status?(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsxs)("div",{className:"status-message",children:["approved"===n.status?"\u2705":"\u274c","This request has already been ",n.status]}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"Go Back"})]})}):(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsx)("h1",{children:"Registration Request Approval"}),(0,De.jsxs)("div",{className:"request-details",children:[(0,De.jsx)("h2",{children:"User Details"}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Username:"}),(0,De.jsx)("span",{className:"value",children:n.username})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Email:"}),(0,De.jsx)("span",{className:"value",children:n.email})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Role:"}),(0,De.jsx)("span",{className:"value",children:(n.roles,n.roles)})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Club Code:"}),(0,De.jsx)("span",{className:"value",children:n.clubCode})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Request Type:"}),(0,De.jsx)("span",{className:"value",children:"admin"===n.requestType?"Admin Registration":"Member Registration"})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Request Date:"}),(0,De.jsx)("span",{className:"value",children:new Date(n.createdAt).toLocaleString()})]})]}),(0,De.jsxs)("div",{className:"action-buttons",children:[(0,De.jsx)("button",{onClick:async()=>{A(!0);try{const r=await fetch(`/api/registration-requests/approve/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"admin"===(null===n||void 0===n?void 0:n.requestType)?"systemAdmin":"clubAdmin"})}),i=await r.json();r.ok?(alert("\u2705 Registration request approved successfully! The user will receive an email notification."),t("/")):alert("\u274c Failed to approve request: "+i.message)}catch(u){alert("\u274c Error approving request. Please try again.")}finally{A(!1)}},disabled:s,className:"approve-btn",children:s?"Processing...":"\u2705 Approve Request"}),(0,De.jsx)("button",{onClick:async()=>{const r=prompt("Please provide a reason for rejection (optional):");if(null!==r){A(!0);try{const i=await fetch(`/api/registration-requests/reject/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:"admin"===(null===n||void 0===n?void 0:n.requestType)?"systemAdmin":"clubAdmin",rejectionReason:r||"No reason provided"})}),a=await i.json();i.ok?(alert("\u274c Registration request rejected. The user will receive an email notification."),t("/")):alert("\u274c Failed to reject request: "+a.message)}catch(u){alert("\u274c Error rejecting request. Please try again.")}finally{A(!1)}}},disabled:s,className:"reject-btn",children:s?"Processing...":"\u274c Reject Request"})]}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"\u2190 Go Back"})]})}):(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsx)("div",{className:"error",children:"\u274c Request not found"}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"Go Back"})]})})},G_=()=>{const{requestId:e}=re(),t=te(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(!0),[s,A]=(0,r.useState)(!1),[u,l]=(0,r.useState)(null),[c,h]=(0,r.useState)("");(0,r.useEffect)(()=>{f()},[e]);const f=async()=>{try{const t=await fetch(`/api/registration-requests/status/${e}`),n=await t.json();t.ok?i(n):l(n.message||"Failed to fetch request details")}catch(u){l("Network error. Please try again.")}finally{o(!1)}};return a?(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsx)("div",{className:"approve-card",children:(0,De.jsx)("div",{className:"loading",children:"Loading request details..."})})}):u?(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsxs)("div",{className:"error",children:["\u274c ",u]}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"Go Back"})]})}):n?"pending"!==n.status?(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsxs)("div",{className:"status-message",children:["approved"===n.status?"\u2705":"\u274c","This request has already been ",n.status]}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"Go Back"})]})}):(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsx)("h1",{children:"Reject Registration Request"}),(0,De.jsxs)("div",{className:"request-details",children:[(0,De.jsx)("h2",{children:"User Details"}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Username:"}),(0,De.jsx)("span",{className:"value",children:n.username})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Email:"}),(0,De.jsx)("span",{className:"value",children:n.email})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Role:"}),(0,De.jsx)("span",{className:"value",children:"admin"===n.role?"Administrator":"Club Member"})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Club Code:"}),(0,De.jsx)("span",{className:"value",children:n.clubCode})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Request Type:"}),(0,De.jsx)("span",{className:"value",children:"admin"===n.requestType?"Admin Registration":"Member Registration"})]}),(0,De.jsxs)("div",{className:"detail-row",children:[(0,De.jsx)("span",{className:"label",children:"Request Date:"}),(0,De.jsx)("span",{className:"value",children:new Date(n.createdAt).toLocaleString()})]})]}),(0,De.jsxs)("div",{className:"rejection-reason",children:[(0,De.jsx)("h3",{children:"Rejection Reason"}),(0,De.jsx)("textarea",{value:c,onChange:e=>h(e.target.value),placeholder:"Please provide a reason for rejecting this registration request...",rows:"4",required:!0})]}),(0,De.jsx)("div",{className:"action-buttons",children:(0,De.jsx)("button",{onClick:async()=>{if(c.trim()){A(!0);try{const r=await fetch(`/api/registration-requests/reject/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:"admin"===(null===n||void 0===n?void 0:n.requestType)?"systemAdmin":"clubAdmin",rejectionReason:c.trim()})}),i=await r.json();r.ok?(alert("\u274c Registration request rejected. The user will receive an email notification."),t("/")):alert("\u274c Failed to reject request: "+i.message)}catch(u){alert("\u274c Error rejecting request. Please try again.")}finally{A(!1)}}else alert("Please provide a reason for rejection.")},disabled:s||!c.trim(),className:"reject-btn",children:s?"Processing...":"\u274c Reject Request"})}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"\u2190 Go Back"})]})}):(0,De.jsx)("div",{className:"approve-container",children:(0,De.jsxs)("div",{className:"approve-card",children:[(0,De.jsx)("div",{className:"error",children:"\u274c Request not found"}),(0,De.jsx)("button",{onClick:()=>t("/"),className:"back-btn",children:"Go Back"})]})})},q_=()=>{const{user:e,isAdmin:t}=Pe(),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[s,A]=(0,r.useState)(new Set),[u,l]=(0,r.useState)(!1),[c,h]=(0,r.useState)(null),f=e=>{if(!e||!e.data||!e.contentType)return"";const t=e.data.data,n=btoa(new Uint8Array(t).reduce((e,t)=>e+String.fromCharCode(t),""));return`data:${e.contentType};base64,${n}`};(0,r.useEffect)(()=>{d(),e&&p()},[e]);const d=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/workshops",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();i(e)}}catch(e){console.error("Error fetching workshops:",e)}finally{o(!1)}},p=async()=>{try{const t=localStorage.getItem("token"),n=await fetch(`/api/workshop-registrations/user/${e.userId}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();A(new Set(e.map(e=>e.workshop._id)))}}catch(t){console.error("Error fetching registered workshops:",t)}};return a?(0,De.jsxs)("div",{className:"home-container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("div",{className:"loading",children:"Loading..."})]}):(0,De.jsxs)("div",{className:"home-container",children:[(0,De.jsx)(Ke,{}),(0,De.jsxs)("div",{className:"home-header",children:[(0,De.jsx)("h1",{children:"Workshops"}),(0,De.jsx)("div",{className:"user-info",children:(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===e||void 0===e?void 0:e.username," (",Array.isArray(null===e||void 0===e?void 0:e.roles)&&e.roles.includes("admin")?"Administrator":"Club Member",")"]})})]}),0===n.length?(0,De.jsx)("div",{className:"no-workshops",children:(0,De.jsx)("p",{children:"No workshops found."})}):(0,De.jsx)("div",{className:"workshop-cards",children:n.map(e=>{const r=s.has(e._id),a=new Date(e.date)<new Date;return(0,De.jsxs)("div",{className:"workshop-card",children:[console.log("Workshop image data:",e.image),e.image&&(0,De.jsx)("img",{src:f(e.image.image),alt:e.name,className:"workshop-image"}),(0,De.jsx)("h3",{children:e.name}),(0,De.jsx)("p",{className:"topic",children:e.topic}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Date:"})," ",new Date(e.date).toLocaleDateString()]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Location:"})," ",e.location]}),e.description&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Description:"})," ",e.description]}),e.maxParticipants>0&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Max Participants:"})," ",e.maxParticipants]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Club Code:"})," ",e.clubCode]}),(0,De.jsx)("div",{className:"card-hover-actions",children:t()&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("button",{className:"edit-btn",onClick:()=>(e=>{h(e),l(!0)})(e),children:(0,De.jsx)("i",{className:"fas fa-edit"})}),(0,De.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(t){if(window.confirm("Are you sure you want to delete this workshop?"))try{const t=localStorage.getItem("token");(await fetch(`/api/workshops/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok?(i(n.filter(t=>t._id!==e)),alert("Workshop deleted successfully")):alert("Failed to delete workshop")}catch(r){console.error("Delete workshop error:",r),alert("Failed to delete workshop")}}else alert("Only admins can delete workshops")})(e._id),children:(0,De.jsx)("i",{className:"fas fa-trash"})})]})}),(0,De.jsx)("div",{className:"card-actions",children:!t&&(0,De.jsx)("button",{className:"register-btn",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/api/workshop-registrations/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({workshopId:e})});if(n.ok)alert("Successfully registered for the workshop!"),A(new Set([...s,e]));else{const e=await n.json();alert(e.message||"Failed to register for the workshop.")}}catch(t){console.error("Registration error:",t),alert("An error occurred during registration.")}})(e._id),disabled:r||a,children:r?"Registered":a?"Past":"Register"})})]},e._id)})}),u&&c&&(0,De.jsx)("div",{className:"modal-overlay",onClick:()=>{l(!1),h(null)},children:(0,De.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("h2",{children:"Edit Workshop"}),(0,De.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`/api/workshops/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(c)});if(t.ok)alert("Workshop updated successfully!"),l(!1),h(null),d();else{const e=await t.json();alert(e.message||"Failed to update workshop.")}}catch(e){console.error("Error updating workshop:",e),alert("An error occurred while updating the workshop.")}})()},children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Name:"}),(0,De.jsx)("input",{type:"text",value:c.name,onChange:e=>h({...c,name:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Topic:"}),(0,De.jsx)("input",{type:"text",value:c.topic,onChange:e=>h({...c,topic:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Date:"}),(0,De.jsx)("input",{type:"date",value:c.date?new Date(c.date).toISOString().split("T")[0]:"",onChange:e=>h({...c,date:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Time:"}),(0,De.jsx)("input",{type:"time",value:c.time,onChange:e=>h({...c,time:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Location:"}),(0,De.jsx)("input",{type:"text",value:c.location,onChange:e=>h({...c,location:e.target.value}),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Description:"}),(0,De.jsx)("textarea",{value:c.description||"",onChange:e=>h({...c,description:e.target.value})})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Link:"}),(0,De.jsx)("input",{type:"text",value:c.link||"",onChange:e=>h({...c,link:e.target.value})})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Max Participants:"}),(0,De.jsx)("input",{type:"number",value:c.maxParticipants||"",onChange:e=>h({...c,maxParticipants:parseInt(e.target.value)||0})})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Club Code:"}),(0,De.jsx)("input",{type:"text",value:c.clubCode||"",readOnly:!0})]}),(0,De.jsx)("button",{type:"submit",children:"Save Changes"})]})]})})]})},X_=()=>(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsxs)("div",{className:"about-container main-with-header-footer",children:[(0,De.jsx)("header",{className:"about-header",children:(0,De.jsx)("h1",{children:"About the Project"})}),(0,De.jsxs)("section",{className:"project-synopsis",children:[(0,De.jsx)("h2",{children:"Synopsis for Minor Project-I"}),(0,De.jsx)("h3",{children:"Title Of Project: Workshop Management System"}),(0,De.jsx)("h3",{children:"1. Introduction:"}),(0,De.jsx)("p",{children:"In educational institutions, student clubs often organize workshops to enhance learning and engagement. Managing these workshops manually can be tedious, error-prone, and inefficient. This project proposes the development of a Workshop Management System (WMS) \u2014 a centralized, digital platform for organizing and monitoring workshops conducted by multiple clubs within a university."}),(0,De.jsx)("h3",{children:"2. Objective:"}),(0,De.jsx)("p",{children:"To design and implement a user-friendly web-based system that simplifies:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Club team structuring"}),(0,De.jsx)("li",{children:"Workshop creation and management"}),(0,De.jsx)("li",{children:"Participant tracking"}),(0,De.jsx)("li",{children:"Attendance recording"}),(0,De.jsx)("li",{children:"Media storage and retrieval"})]}),(0,De.jsx)("h3",{children:"3. Technologies Used:"}),(0,De.jsxs)("table",{children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Layer"}),(0,De.jsx)("th",{children:"Tools & Frameworks"})]})}),(0,De.jsxs)("tbody",{children:[(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"Frontend"}),(0,De.jsx)("td",{children:"HTML, CSS, JavaScript, React.js"})]}),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"Backend"}),(0,De.jsx)("td",{children:"Node.js, Express.js"})]}),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"Database"}),(0,De.jsx)("td",{children:"MongoDB Atlas"})]}),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"Tools"}),(0,De.jsx)("td",{children:"Git, VS Code"})]})]})]}),(0,De.jsx)("h3",{children:"4. System Modules:"}),(0,De.jsxs)("ul",{children:[(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"I. Club Management:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Add/edit club team members (President, VP, Coordinators)"}),(0,De.jsx)("li",{children:"Assign roles and responsibilities"})]})]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"II. Workshop Management:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Create new workshops with details (title, date, topic, location)"}),(0,De.jsx)("li",{children:"Maintain history for future reference"})]})]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"III. Participant Handling:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Register students for workshops"}),(0,De.jsx)("li",{children:"Store participant data for attendance and certification"})]})]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"IV. Attendance Tracking:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Mark and store attendance per workshop"}),(0,De.jsx)("li",{children:"Retrieve and export data when needed"})]})]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"V. Media Gallery:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Upload and manage photos/videos of past workshops"}),(0,De.jsx)("li",{children:"Organize by club and event"})]})]})]}),(0,De.jsx)("h3",{children:"5. Database Design (MongoDB Collections):"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"clubs \u2013 Club name, description, members"}),(0,De.jsx)("li",{children:"workshops \u2013 Workshop details, linked to a club"}),(0,De.jsx)("li",{children:"participants \u2013 Registered users for each workshop"}),(0,De.jsx)("li",{children:"attendance \u2013 Attendance status per participant per event"}),(0,De.jsx)("li",{children:"media \u2013 Image/video URLs linked to workshops"})]}),(0,De.jsx)("h3",{children:"6. Testing and Validation:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"APIs tested using Postman"}),(0,De.jsx)("li",{children:"Functional testing for form submissions"})]}),(0,De.jsx)("h3",{children:"7. Expected Outcome:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"A fully functional web application"}),(0,De.jsx)("li",{children:"Centralized management of workshops"}),(0,De.jsx)("li",{children:"Accurate tracking of participation and attendance"}),(0,De.jsx)("li",{children:"Organized digital archive of workshop media"})]}),(0,De.jsx)("h3",{children:"8. Scope for Future Enhancement:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Login and authentication system"}),(0,De.jsx)("li",{children:"Automated certificate generation"}),(0,De.jsx)("li",{children:"Email/SMS notification system for event reminders"}),(0,De.jsx)("li",{children:"Admin dashboard with analytics and reports"})]}),(0,De.jsx)("h3",{children:"9. Conclusion:"}),(0,De.jsx)("p",{children:"This Workshop Management System enhances the efficiency of organizing and maintaining workshop- related data for university clubs. It reduces manual workload, ensures data consistency, and provides a scalable digital solution for academic events."})]}),(0,De.jsxs)("section",{className:"developers-section",children:[(0,De.jsx)("h2",{children:"Developers"}),(0,De.jsx)("p",{children:"This project was developed by:"}),(0,De.jsxs)("table",{children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Roll No"}),(0,De.jsx)("th",{children:"Regd No"}),(0,De.jsx)("th",{children:"Name of the Student"}),(0,De.jsx)("th",{children:"Contact Number"})]})}),(0,De.jsxs)("tbody",{children:[(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"23CSE094"}),(0,De.jsx)("td",{children:"23UG010179"}),(0,De.jsx)("td",{children:"Moningi Vinay Kumar"}),(0,De.jsx)("td",{children:"+91 8280528986"})]}),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"23CSE051"}),(0,De.jsx)("td",{children:"23UG010136"}),(0,De.jsx)("td",{children:"Soumyaranjan Rath"}),(0,De.jsx)("td",{children:"+91 76098 65480"})]}),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:"23CSE046"}),(0,De.jsx)("td",{children:"23UG010131"}),(0,De.jsx)("td",{children:"Anamu Yashwant"}),(0,De.jsx)("td",{children:"+91 99374 44730"})]})]})]})]}),(0,De.jsxs)("section",{className:"supervisor-section",children:[(0,De.jsx)("h2",{children:"Supervision"}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Group No:"})," B14 ",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Name of the Supervisor:"})," Mr. Santosh Kumar Panda",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Name of the Class Teacher:"})," Mr. Tirupati Sahu"]})]})]}),(0,De.jsx)(je,{})]}),Y_=()=>{const{user:e,isAdmin:t}=Pe(),n=te(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)({workshopName:"",date:"",time:"",location:"",topic:"",description:"",link:"",maxParticipants:""}),[A,u]=(0,r.useState)(null),l=e=>{const{name:t,value:n,type:r,files:i}=e.target;"file"===r?u(i[0]):s(e=>({...e,[t]:n}))};return(0,De.jsxs)("div",{className:"request-workshop-container",children:[(0,De.jsxs)("div",{className:"request-workshop-header",children:[(0,De.jsx)("h1",{children:"Request Workshop"}),(0,De.jsx)("p",{children:"Submit a workshop request for admin approval"}),(0,De.jsxs)("div",{className:"user-info",children:[(0,De.jsxs)("span",{className:"user-role",children:["Logged in as: ",null===e||void 0===e?void 0:e.username," (Club Member)"]}),(0,De.jsxs)("span",{className:"club-code",children:["Club: ",null===e||void 0===e?void 0:e.clubCode]})]})]}),(0,De.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e)return void alert("Please log in to submit a workshop request.");a(!0);const r=new FormData;for(const e in o)r.append(e,o[e]);A&&r.append("image",A);try{const e=localStorage.getItem("token"),t=await fetch("/api/workshop-requests/submit",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(t.ok)alert("Workshop request submitted successfully! An admin will review and approve it."),s({workshopName:"",date:"",time:"",location:"",topic:"",description:"",link:"",maxParticipants:""}),u(null),n("/workshop-requests");else{const e=await t.json();alert(e.message||"Failed to submit workshop request")}}catch(i){console.error("Submit request error:",i),alert("Failed to submit workshop request. Please try again.")}finally{a(!1)}},className:"request-workshop-form",children:[(0,De.jsxs)("div",{className:"form-row",children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"workshopName",children:"Workshop Name *"}),(0,De.jsx)("input",{type:"text",id:"workshopName",name:"workshopName",value:o.workshopName,onChange:l,placeholder:"Enter workshop name",required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"date",children:"Date *"}),(0,De.jsx)("input",{type:"date",id:"date",name:"date",value:o.date,onChange:l,required:!0})]})]}),(0,De.jsxs)("div",{className:"form-row",children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"time",children:"Time *"}),(0,De.jsx)("input",{type:"time",id:"time",name:"time",value:o.time,onChange:l,required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"location",children:"Location *"}),(0,De.jsx)("input",{type:"text",id:"location",name:"location",value:o.location,onChange:l,placeholder:"Enter venue/location",required:!0})]})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"topic",children:"Topic *"}),(0,De.jsx)("input",{type:"text",id:"topic",name:"topic",value:o.topic,onChange:l,placeholder:"Enter workshop topic",required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"description",children:"Description"}),(0,De.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:l,placeholder:"Enter workshop description",rows:"4"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"link",children:"Link"}),(0,De.jsx)("input",{type:"text",id:"link",name:"link",value:o.link,onChange:l,placeholder:"Enter workshop link"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"maxParticipants",children:"Maximum Participants"}),(0,De.jsx)("input",{type:"number",id:"maxParticipants",name:"maxParticipants",value:o.maxParticipants,onChange:l,placeholder:"Enter max participants",min:"1"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"image",children:"Workshop Image (Optional)"}),(0,De.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/jpeg,image/png",onChange:l})]}),(0,De.jsxs)("div",{className:"form-actions",children:[(0,De.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>n("/workshop-requests"),children:"Cancel"}),(0,De.jsx)("button",{type:"submit",className:"submit-button",disabled:i,children:i?"Submitting...":"Submit Request"})]})]}),(0,De.jsxs)("div",{className:"info-section",children:[(0,De.jsx)("h3",{children:"How it works:"}),(0,De.jsxs)("ol",{children:[(0,De.jsx)("li",{children:"Fill out this form with your workshop details"}),(0,De.jsx)("li",{children:"Submit the request for admin review"}),(0,De.jsx)("li",{children:"Admin will approve or reject your request"}),(0,De.jsx)("li",{children:"If approved, the workshop will be automatically created"}),(0,De.jsx)("li",{children:"You can track your request status in the Workshop Requests section"})]})]})]})},J_=e=>{let{children:t}=e;const{isAuthenticated:n,loading:r}=Pe();return r?(0,De.jsx)("div",{children:"Loading..."}):n()?t:(0,De.jsx)(ve,{to:"/"})};function $_(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z_}=Object.prototype,{getPrototypeOf:eI}=Object,{iterator:tI,toStringTag:nI}=Symbol,rI=(iI=Object.create(null),e=>{const t=Z_.call(e);return iI[t]||(iI[t]=t.slice(8,-1).toLowerCase())});var iI;const aI=e=>(e=e.toLowerCase(),t=>rI(t)===e),oI=e=>t=>typeof t===e,{isArray:sI}=Array,AI=oI("undefined");function uI(e){return null!==e&&!AI(e)&&null!==e.constructor&&!AI(e.constructor)&&hI(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lI=aI("ArrayBuffer");const cI=oI("string"),hI=oI("function"),fI=oI("number"),dI=e=>null!==e&&"object"===typeof e,pI=e=>{if("object"!==rI(e))return!1;const t=eI(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(nI in e)&&!(tI in e)},gI=aI("Date"),mI=aI("File"),vI=aI("Blob"),wI=aI("FileList"),yI=aI("URLSearchParams"),[bI,xI,BI,CI]=["ReadableStream","Request","Response","Headers"].map(aI);function EI(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),sI(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(uI(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function FI(e,t){if(uI(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const SI="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,kI=e=>!AI(e)&&e!==SI;const _I=(II="undefined"!==typeof Uint8Array&&eI(Uint8Array),e=>II&&e instanceof II);var II;const NI=aI("HTMLFormElement"),UI=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),LI=aI("RegExp"),QI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};EI(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const RI=aI("AsyncFunction"),DI=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],SI.addEventListener("message",e=>{let{source:t,data:i}=e;t===SI&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),SI.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,hI(SI.postMessage)),TI="undefined"!==typeof queueMicrotask?queueMicrotask.bind(SI):"undefined"!==typeof process&&process.nextTick||DI,PI={isArray:sI,isArrayBuffer:lI,isBuffer:uI,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||hI(e.append)&&("formdata"===(t=rI(e))||"object"===t&&hI(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&lI(e.buffer),t},isString:cI,isNumber:fI,isBoolean:e=>!0===e||!1===e,isObject:dI,isPlainObject:pI,isEmptyObject:e=>{if(!dI(e)||uI(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ye){return!1}},isReadableStream:bI,isRequest:xI,isResponse:BI,isHeaders:CI,isUndefined:AI,isDate:gI,isFile:mI,isBlob:vI,isRegExp:LI,isFunction:hI,isStream:e=>dI(e)&&hI(e.pipe),isURLSearchParams:yI,isTypedArray:_I,isFileList:wI,forEach:EI,merge:function e(){const{caseless:t}=kI(this)&&this||{},n={},r=(r,i)=>{const a=t&&FI(n,i)||i;pI(n[a])&&pI(r)?n[a]=e(n[a],r):pI(r)?n[a]=e({},r):sI(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&EI(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return EI(t,(t,r)=>{n&&hI(t)?e[r]=$_(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&eI(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:rI,kindOfTest:aI,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(sI(e))return e;let t=e.length;if(!fI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[tI]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:NI,hasOwnProperty:UI,hasOwnProp:UI,reduceDescriptors:QI,freezeMethods:e=>{QI(e,(t,n)=>{if(hI(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];hI(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return sI(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:FI,global:SI,isContextDefined:kI,isSpecCompliantForm:function(e){return!!(e&&hI(e.append)&&"FormData"===e[nI]&&e[tI])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(dI(e)){if(t.indexOf(e)>=0)return;if(uI(e))return e;if(!("toJSON"in e)){t[r]=e;const i=sI(e)?[]:{};return EI(e,(e,t)=>{const a=n(e,r+1);!AI(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:RI,isThenable:e=>e&&(dI(e)||hI(e))&&hI(e.then)&&hI(e.catch),setImmediate:DI,asap:TI,isIterable:e=>null!=e&&hI(e[tI])};function OI(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}PI.inherits(OI,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:PI.toJSONObject(this.config),code:this.code,status:this.status}}});const MI=OI.prototype,jI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jI[e]={value:e}}),Object.defineProperties(OI,jI),Object.defineProperty(MI,"isAxiosError",{value:!0}),OI.from=(e,t,n,r,i,a)=>{const o=Object.create(MI);return PI.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),OI.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const HI=OI;function KI(e){return PI.isPlainObject(e)||PI.isArray(e)}function zI(e){return PI.endsWith(e,"[]")?e.slice(0,-2):e}function WI(e,t,n){return e?e.concat(t).map(function(e,t){return e=zI(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const VI=PI.toFlatObject(PI,{},null,function(e){return/^is[A-Z]/.test(e)});const GI=function(e,t,n){if(!PI.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=PI.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!PI.isUndefined(t[e])})).metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&PI.isSpecCompliantForm(t);if(!PI.isFunction(i))throw new TypeError("visitor must be a function");function A(e){if(null===e)return"";if(PI.isDate(e))return e.toISOString();if(PI.isBoolean(e))return e.toString();if(!s&&PI.isBlob(e))throw new HI("Blob is not supported. Use a Buffer instead.");return PI.isArrayBuffer(e)||PI.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(PI.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(PI.isArray(e)&&function(e){return PI.isArray(e)&&!e.some(KI)}(e)||(PI.isFileList(e)||PI.endsWith(n,"[]"))&&(s=PI.toArray(e)))return n=zI(n),s.forEach(function(e,r){!PI.isUndefined(e)&&null!==e&&t.append(!0===o?WI([n],r,a):null===o?n:n+"[]",A(e))}),!1;return!!KI(e)||(t.append(WI(i,n,a),A(e)),!1)}const l=[],c=Object.assign(VI,{defaultVisitor:u,convertValue:A,isVisitable:KI});if(!PI.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!PI.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),PI.forEach(n,function(n,a){!0===(!(PI.isUndefined(n)||null===n)&&i.call(t,n,PI.isString(a)?a.trim():a,r,c))&&e(n,r?r.concat(a):[a])}),l.pop()}}(e),t};function qI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function XI(e,t){this._pairs=[],e&&GI(e,this,t)}const YI=XI.prototype;YI.append=function(e,t){this._pairs.push([e,t])},YI.toString=function(e){const t=e?function(t){return e.call(this,t,qI)}:qI;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const JI=XI;function $I(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZI(e,t,n){if(!t)return e;const r=n&&n.encode||$I;PI.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):PI.isURLSearchParams(t)?t.toString():new JI(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const eN=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){PI.forEach(this.handlers,function(t){null!==t&&e(t)})}},tN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nN={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:JI,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},rN="undefined"!==typeof window&&"undefined"!==typeof document,iN="object"===typeof navigator&&navigator||void 0,aN=rN&&(!iN||["ReactNative","NativeScript","NS"].indexOf(iN.product)<0),oN="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,sN=rN&&window.location.href||"http://localhost",AN={...e,...nN};const uN=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&PI.isArray(r)?r.length:a,s)return PI.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&PI.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&PI.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(PI.isFormData(e)&&PI.isFunction(e.entries)){const n={};return PI.forEachEntry(e,(e,r)=>{t(function(e){return PI.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const lN={transitional:tN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=PI.isObject(e);i&&PI.isHTMLForm(e)&&(e=new FormData(e));if(PI.isFormData(e))return r?JSON.stringify(uN(e)):e;if(PI.isArrayBuffer(e)||PI.isBuffer(e)||PI.isStream(e)||PI.isFile(e)||PI.isBlob(e)||PI.isReadableStream(e))return e;if(PI.isArrayBufferView(e))return e.buffer;if(PI.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return GI(e,new AN.classes.URLSearchParams,{visitor:function(e,t,n,r){return AN.isNode&&PI.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=PI.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return GI(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(PI.isString(e))try{return(t||JSON.parse)(e),PI.trim(e)}catch(Ye){if("SyntaxError"!==Ye.name)throw Ye}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||lN.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(PI.isResponse(e)||PI.isReadableStream(e))return e;if(e&&PI.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Ye){if(n){if("SyntaxError"===Ye.name)throw HI.from(Ye,HI.ERR_BAD_RESPONSE,this,null,this.response);throw Ye}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:AN.classes.FormData,Blob:AN.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};PI.forEach(["delete","get","head","post","put","patch"],e=>{lN.headers[e]={}});const cN=lN,hN=PI.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fN=Symbol("internals");function dN(e){return e&&String(e).trim().toLowerCase()}function pN(e){return!1===e||null==e?e:PI.isArray(e)?e.map(pN):String(e)}function gN(e,t,n,r,i){return PI.isFunction(r)?r.call(this,t,n):(i&&(t=n),PI.isString(t)?PI.isString(r)?-1!==t.indexOf(r):PI.isRegExp(r)?r.test(t):void 0:void 0)}class mN{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=dN(t);if(!i)throw new Error("header name must be a non-empty string");const a=PI.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=pN(e))}const a=(e,t)=>PI.forEach(e,(e,n)=>i(e,n,t));if(PI.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(PI.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&hN[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(PI.isObject(e)&&PI.isIterable(e)){let n,r,i={};for(const t of e){if(!PI.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?PI.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=dN(e)){const n=PI.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(PI.isFunction(t))return t.call(this,e,n);if(PI.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dN(e)){const n=PI.findKey(this,e);return!(!n||void 0===this[n]||t&&!gN(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=dN(e)){const i=PI.findKey(n,e);!i||t&&!gN(0,n[i],i,t)||(delete n[i],r=!0)}}return PI.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!gN(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return PI.forEach(this,(r,i)=>{const a=PI.findKey(n,i);if(a)return t[a]=pN(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=pN(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return PI.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&PI.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[fN]=this[fN]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=dN(e);t[r]||(!function(e,t){const n=PI.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return PI.isArray(e)?e.forEach(r):r(e),this}}mN.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),PI.reduceDescriptors(mN.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),PI.freezeMethods(mN);const vN=mN;function wN(e,t){const n=this||cN,r=t||n,i=vN.from(r.headers);let a=r.data;return PI.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function yN(e){return!(!e||!e.__CANCEL__)}function bN(e,t,n){HI.call(this,null==e?"canceled":e,HI.ERR_CANCELED,t,n),this.name="CanceledError"}PI.inherits(bN,HI,{__CANCEL__:!0});const xN=bN;function BN(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new HI("Request failed with status code "+n.status,[HI.ERR_BAD_REQUEST,HI.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const CN=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const A=Date.now(),u=r[o];i||(i=A),n[a]=s,r[a]=A;let l=o,c=0;for(;l!==a;)c+=n[l++],l%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),A-i<t)return;const h=u&&A-u;return h?Math.round(1e3*c/h):void 0}};const EN=function(e,t){let n,r,i=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,A=new Array(s),u=0;u<s;u++)A[u]=arguments[u];t>=a?o(A,e):(n=A,r||(r=setTimeout(()=>{r=null,o(n)},a-t)))},()=>n&&o(n)]},FN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=CN(50,250);return EN(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,A=i(s);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:A||void 0,estimated:A&&o&&a<=o?(o-a)/A:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},SN=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},kN=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PI.asap(()=>e(...n))},_N=AN.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,AN.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(AN.origin),AN.navigator&&/(msie|trident)/i.test(AN.navigator.userAgent)):()=>!0,IN=AN.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];PI.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),PI.isString(r)&&o.push("path="+r),PI.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function NN(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const UN=e=>e instanceof vN?{...e}:e;function LN(e,t){t=t||{};const n={};function r(e,t,n,r){return PI.isPlainObject(e)&&PI.isPlainObject(t)?PI.merge.call({caseless:r},e,t):PI.isPlainObject(t)?PI.merge({},t):PI.isArray(t)?t.slice():t}function i(e,t,n,i){return PI.isUndefined(t)?PI.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!PI.isUndefined(t))return r(void 0,t)}function o(e,t){return PI.isUndefined(t)?PI.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const A={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(UN(e),UN(t),0,!0)};return PI.forEach(Object.keys({...e,...t}),function(r){const a=A[r]||i,o=a(e[r],t[r],r);PI.isUndefined(o)&&a!==s||(n[r]=o)}),n}const QN=e=>{const t=LN({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:s,auth:A}=t;if(t.headers=s=vN.from(s),t.url=ZI(NN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),A&&s.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):""))),PI.isFormData(r))if(AN.hasStandardBrowserEnv||AN.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(AN.hasStandardBrowserEnv&&(i&&PI.isFunction(i)&&(i=i(t)),i||!1!==i&&_N(t.url))){const e=a&&o&&IN.read(o);e&&s.set(a,e)}return t},RN="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=QN(e);let i=r.data;const a=vN.from(r.headers).normalize();let o,s,A,u,l,{responseType:c,onUploadProgress:h,onDownloadProgress:f}=r;function d(){u&&u(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=vN.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());BN(function(e){t(e),d()},function(e){n(e),d()},{data:c&&"text"!==c&&"json"!==c?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new HI("Request aborted",HI.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new HI("Network Error",HI.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||tN;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new HI(t,i.clarifyTimeoutError?HI.ETIMEDOUT:HI.ECONNABORTED,e,p)),p=null},void 0===i&&a.setContentType(null),"setRequestHeader"in p&&PI.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),PI.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),c&&"json"!==c&&(p.responseType=r.responseType),f&&([A,l]=FN(f,!0),p.addEventListener("progress",A)),h&&p.upload&&([s,u]=FN(h),p.upload.addEventListener("progress",s),p.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new xN(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===AN.protocols.indexOf(m)?n(new HI("Unsupported protocol "+m+":",HI.ERR_BAD_REQUEST,e)):p.send(i||null)})},DN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof HI?t:new xN(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new HI(`timeout ${t} of ms exceeded`,HI.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>PI.asap(o),s}},TN=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},PN=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},ON=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of PN(e))yield*TN(n,t)}(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},MN="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,jN=MN&&"function"===typeof ReadableStream,HN=MN&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),KN=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ye){return!1}},zN=jN&&KN(()=>{let e=!1;const t=new Request(AN.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),WN=jN&&KN(()=>PI.isReadableStream(new Response("").body)),VN={stream:WN&&(e=>e.body)};var GN;MN&&(GN=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!VN[e]&&(VN[e]=PI.isFunction(GN[e])?t=>t[e]():(t,n)=>{throw new HI(`Response type '${e}' is not supported`,HI.ERR_NOT_SUPPORT,n)})}));const qN=async(e,t)=>{const n=PI.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(PI.isBlob(e))return e.size;if(PI.isSpecCompliantForm(e)){const t=new Request(AN.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return PI.isArrayBufferView(e)||PI.isArrayBuffer(e)?e.byteLength:(PI.isURLSearchParams(e)&&(e+=""),PI.isString(e)?(await HN(e)).byteLength:void 0)})(t):n},XN=MN&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:A,responseType:u,headers:l,withCredentials:c="same-origin",fetchOptions:h}=QN(e);u=u?(u+"").toLowerCase():"text";let f,d=DN([i,a&&a.toAbortSignal()],o);const p=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let g;try{if(A&&zN&&"get"!==n&&"head"!==n&&0!==(g=await qN(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(PI.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=SN(g,FN(kN(A)));r=ON(n.body,65536,e,t)}}PI.isString(c)||(c=c?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:d,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?c:void 0});let a=await fetch(f,h);const o=WN&&("stream"===u||"response"===u);if(WN&&(s||o&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=PI.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&SN(t,FN(kN(s),!0))||[];a=new Response(ON(a.body,65536,n,()=>{r&&r(),p&&p()}),e)}u=u||"text";let m=await VN[PI.findKey(VN,u)||"text"](a,e);return!o&&p&&p(),await new Promise((t,n)=>{BN(t,n,{data:m,headers:vN.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})})}catch(m){if(p&&p(),m&&"TypeError"===m.name&&/Load failed|fetch/i.test(m.message))throw Object.assign(new HI("Network Error",HI.ERR_NETWORK,e,f),{cause:m.cause||m});throw HI.from(m,m&&m.code,e,f)}}),YN={http:null,xhr:RN,fetch:XN};PI.forEach(YN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ye){}Object.defineProperty(e,"adapterName",{value:t})}});const JN=e=>`- ${e}`,$N=e=>PI.isFunction(e)||null===e||!1===e,ZN=e=>{e=PI.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!$N(n)&&(r=YN[(t=String(n)).toLowerCase()],void 0===r))throw new HI(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(JN).join("\n"):" "+JN(e[0]):"as no adapter specified";throw new HI("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function eU(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xN(null,e)}function tU(e){eU(e),e.headers=vN.from(e.headers),e.data=wN.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ZN(e.adapter||cN.adapter)(e).then(function(t){return eU(e),t.data=wN.call(e,e.transformResponse,t),t.headers=vN.from(t.headers),t},function(t){return yN(t)||(eU(e),t&&t.response&&(t.response.data=wN.call(e,e.transformResponse,t.response),t.response.headers=vN.from(t.response.headers))),Promise.reject(t)})}const nU="1.11.0",rU={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rU[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const iU={};rU.transitional=function(e,t,n){function r(e,t){return"[Axios v"+nU+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new HI(r(i," has been removed"+(t?" in "+t:"")),HI.ERR_DEPRECATED);return t&&!iU[i]&&(iU[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},rU.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const aU={assertOptions:function(e,t,n){if("object"!==typeof e)throw new HI("options must be an object",HI.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new HI("option "+a+" must be "+n,HI.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new HI("Unknown option "+a,HI.ERR_BAD_OPTION)}},validators:rU},oU=aU.validators;class sU{constructor(e){this.defaults=e||{},this.interceptors={request:new eN,response:new eN}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ye){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=LN(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&aU.assertOptions(n,{silentJSONParsing:oU.transitional(oU.boolean),forcedJSONParsing:oU.transitional(oU.boolean),clarifyTimeoutError:oU.transitional(oU.boolean)},!1),null!=r&&(PI.isFunction(r)?t.paramsSerializer={serialize:r}:aU.assertOptions(r,{encode:oU.function,serialize:oU.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),aU.assertOptions(t,{baseUrl:oU.spelling("baseURL"),withXsrfToken:oU.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&PI.merge(i.common,i[t.method]);i&&PI.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=vN.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const A=[];let u;this.interceptors.response.forEach(function(e){A.push(e.fulfilled,e.rejected)});let l,c=0;if(!s){const e=[tU.bind(this),void 0];for(e.unshift(...o),e.push(...A),l=e.length,u=Promise.resolve(t);c<l;)u=u.then(e[c++],e[c++]);return u}l=o.length;let h=t;for(c=0;c<l;){const e=o[c++],t=o[c++];try{h=e(h)}catch(f){t.call(this,f);break}}try{u=tU.call(this,h)}catch(f){return Promise.reject(f)}for(c=0,l=A.length;c<l;)u=u.then(A[c++],A[c++]);return u}getUri(e){return ZI(NN((e=LN(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}PI.forEach(["delete","get","head","options"],function(e){sU.prototype[e]=function(t,n){return this.request(LN(n||{},{method:e,url:t,data:(n||{}).data}))}}),PI.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(LN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}sU.prototype[e]=t(),sU.prototype[e+"Form"]=t(!0)});const AU=sU;class uU{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new xN(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new uU(function(t){e=t});return{token:t,cancel:e}}}const lU=uU;const cU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cU).forEach(e=>{let[t,n]=e;cU[n]=t});const hU=cU;const fU=function e(t){const n=new AU(t),r=$_(AU.prototype.request,n);return PI.extend(r,AU.prototype,n,{allOwnKeys:!0}),PI.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(LN(t,n))},r}(cN);fU.Axios=AU,fU.CanceledError=xN,fU.CancelToken=lU,fU.isCancel=yN,fU.VERSION=nU,fU.toFormData=GI,fU.AxiosError=HI,fU.Cancel=fU.CanceledError,fU.all=function(e){return Promise.all(e)},fU.spread=function(e){return function(t){return e.apply(null,t)}},fU.isAxiosError=function(e){return PI.isObject(e)&&!0===e.isAxiosError},fU.mergeConfig=LN,fU.AxiosHeaders=vN,fU.formToJSON=e=>uN(PI.isHTMLForm(e)?new FormData(e):e),fU.getAdapter=ZN,fU.HttpStatusCode=hU,fU.default=fU;const dU=fU,pU=()=>{const[e,t]=(0,r.useState)(1),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[s,A]=(0,r.useState)(""),[u,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[f,d]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[m,v]=(0,r.useState)(""),w=te();return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsx)("div",{className:"register-container",children:(0,De.jsxs)("form",{className:"register-form",onSubmit:1===e?async e=>{e.preventDefault(),v(""),g("");try{const e=await dU.post("http://localhost:5000/api/auth/register-student",{username:n,email:u,name:n,rollNo:a,mobileNumber:s});g(e.data.message),t(2)}catch(o){var r,i;v((null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Error requesting OTP.")}}:async e=>{e.preventDefault(),v(""),g("");try{const e=await dU.post("http://localhost:5000/api/auth/verify-student",{username:n,email:u,password:c,otp:f,name:n,rollNo:a,mobileNumber:s});g(e.data.message+" Redirecting to login..."),setTimeout(()=>{w("/student-login")},2e3)}catch(i){var t,r;v((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error verifying OTP.")}},children:[(0,De.jsx)("h2",{children:"Student Registration"}),m&&(0,De.jsx)("p",{className:"error-message",children:m}),p&&(0,De.jsx)("p",{className:"success-message",children:p}),1===e?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,De.jsx)("input",{type:"text",id:"fullName",value:n,onChange:e=>i(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"rollNo",children:"Roll Number"}),(0,De.jsx)("input",{type:"text",id:"rollNo",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"mobileNumber",children:"Mobile Number (Optional)"}),(0,De.jsx)("input",{type:"text",id:"mobileNumber",value:s,onChange:e=>A(e.target.value)})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"email",children:"College Email"}),(0,De.jsx)("input",{type:"email",id:"email",value:u,onChange:e=>l(e.target.value),required:!0})]}),(0,De.jsx)("button",{type:"submit",className:"register-button",children:"Request OTP"})]}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"password",children:"Password"}),(0,De.jsx)("input",{type:"password",id:"password",value:c,onChange:e=>h(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"otp",children:"OTP"}),(0,De.jsx)("input",{type:"text",id:"otp",value:f,onChange:e=>d(e.target.value),required:!0})]}),(0,De.jsx)("button",{type:"submit",className:"register-button",children:"Verify OTP & Register"})]}),(0,De.jsxs)("div",{className:"login-link",children:["Already have an account? ",(0,De.jsx)(Ne,{to:"/student-login",children:"Login here"})]})]})}),(0,De.jsx)(je,{})]})},gU=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),s=te(),{login:A}=Pe();return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Me,{}),(0,De.jsx)("div",{className:"login-container main-with-header-footer",children:(0,De.jsxs)("form",{className:"login-form",onSubmit:async t=>{t.preventDefault(),o("");try{const t=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})}),r=await t.json();t.ok?Array.isArray(r.user.roles)&&r.user.roles.includes("student")?(A(r.user,r.token),s("/student-dashboard")):o(`This login is only for Students. Your account has the following roles: ${r.user.roles.join(", ")}.`):o(r.message||"Login failed")}catch(r){console.error("Login error:",r),o("Login failed. Please try again.")}},children:[(0,De.jsx)("h2",{children:"Student Login"}),a&&(0,De.jsx)("p",{className:"error-message",children:a}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"College Email:"}),(0,De.jsx)("input",{type:"email",name:"email",placeholder:"Enter your college email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{children:"Password:"}),(0,De.jsx)("input",{type:"password",placeholder:"Enter password",value:n,onChange:e=>i(e.target.value),required:!0})]}),(0,De.jsx)("button",{type:"submit",children:"Login"}),(0,De.jsxs)("div",{className:"login-link",children:["Don't have an account? ",(0,De.jsx)(Ne,{to:"/register/student",children:"Register here"})]})]})}),(0,De.jsx)(je,{})]})},mU=()=>(0,De.jsx)("div",{className:"layout-container",children:(0,De.jsxs)("div",{className:"main-content-wrapper",children:[(0,De.jsx)(Ke,{})," ",(0,De.jsxs)("main",{className:"main-content",children:[(0,De.jsx)(we,{})," "]})]})}),vU=()=>{const{user:e}=Pe();return(0,De.jsxs)("div",{className:"student-welcome-container",children:[(0,De.jsx)(Ke,{}),(0,De.jsx)("main",{className:"student-welcome-main-content",children:(0,De.jsxs)("div",{className:"student-welcome-section",children:[(0,De.jsx)("div",{className:"student-welcome-header",children:(0,De.jsxs)("h1",{className:"student-welcome-user-name",children:["Hello ",(null===e||void 0===e?void 0:e.username)||"Student","!"]})}),(0,De.jsx)("p",{className:"student-welcome-message",children:"Dive into your personalized dashboard. Discover workshops, update your profile, and connect with your community!"}),(0,De.jsxs)("div",{className:"student-welcome-features",children:[(0,De.jsxs)("div",{className:"student-welcome-feature-card",children:[(0,De.jsx)("i",{className:"fas fa-calendar-alt student-welcome-feature-icon"}),(0,De.jsx)("h3",{children:"Explore Workshops"}),(0,De.jsx)("p",{children:"Find and join exciting workshops tailored to your interests."})]}),(0,De.jsxs)("div",{className:"student-welcome-feature-card",children:[(0,De.jsx)("i",{className:"fas fa-user student-welcome-feature-icon"}),(0,De.jsx)("h3",{children:"Manage Profile"}),(0,De.jsx)("p",{children:"Update your details and personalize your experience."})]}),(0,De.jsxs)("div",{className:"student-welcome-feature-card",children:[(0,De.jsx)("i",{className:"fas fa-users student-welcome-feature-icon"}),(0,De.jsx)("h3",{children:"Join Community"}),(0,De.jsx)("p",{children:"Connect with peers and collaborate on projects."})]})]})]})})]})},wU=()=>{const[e,t]=(0,r.useState)([{id:1,title:"Web Development Workshop",date:"15/06/2025",attendance:"Present"},{id:2,title:"Data Science Bootcamp",date:"20/07/2025",attendance:"Absent"}]);return(0,r.useEffect)(()=>{(async()=>{})()},[]),(0,De.jsx)("div",{className:"student-workshops-container-sw",children:(0,De.jsxs)("div",{className:"workshops-wrapper-sw",children:[(0,De.jsx)("h1",{className:"workshops-title-sw",children:"My Past Workshops"}),e.length>0?(0,De.jsx)("div",{className:"workshops-table-container-sw",children:(0,De.jsxs)("table",{className:"workshops-table-sw",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{className:"table-header-sw",children:[(0,De.jsx)("th",{className:"table-cell-sw",children:"Workshop Title"}),(0,De.jsx)("th",{className:"table-cell-sw",children:"Date"}),(0,De.jsx)("th",{className:"table-cell-sw",children:"Attendance"})]})}),(0,De.jsx)("tbody",{children:e.map(e=>(0,De.jsxs)("tr",{className:"table-row-sw",children:[(0,De.jsx)("td",{className:"table-cell-sw",children:e.title}),(0,De.jsx)("td",{className:"table-cell-sw",children:e.date}),(0,De.jsx)("td",{className:"table-cell-sw",children:e.attendance})]},e.id))})]})}):(0,De.jsx)("p",{className:"no-workshops-sw",children:"No past workshops found."}),(0,De.jsx)("p",{className:"workshops-footer-sw",children:"View your past workshops and attendance details."})]})})},yU=()=>{const{user:e,token:t,refreshUser:n}=Pe(),[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(!1),[A,u]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[y,b]=(0,r.useState)("none"),[x,B]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),[F,S]=(0,r.useState)("idle"),[k,_]=(0,r.useState)([]),I=(0,r.useRef)(),N=(0,r.useRef)(),U=(0,r.useRef)(),L=(0,r.useRef)(F);(0,r.useEffect)(()=>{L.current=F},[F]),(0,r.useEffect)(()=>{(async()=>{try{m("Loading face recognition models..."),await Promise.all([im.tinyFaceDetector.loadFromUri("/models"),im.faceLandmark68Net.loadFromUri("/models"),im.faceRecognitionNet.loadFromUri("/models")]),B(!0),m("Models loaded. Ready to scan.")}catch(e){console.error("Error loading models:",e),m("Error: Could not load face models.")}})()},[]),(0,r.useEffect)(()=>{e&&(a({name:e.name,rollNo:e.rollNo,email:e.email,mobileNumber:e.mobileNumber||"",role:e.roles?e.roles.join(", "):"Student"}),u(e.name),c(e.mobileNumber||""))},[e]),(0,r.useEffect)(()=>{(async()=>{if(e&&t)try{const e=await fetch("http://localhost:5000/api/face/status",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),n=await e.json();console.log("Face status data:",n),e.ok?(w(n.hasFaceData),b(n.updateRequestStatus)):(console.error("Failed to fetch face status:",n.message),m(`Error fetching face status: ${n.message}`))}catch(n){console.error("Network error fetching face status:",n),m("Network error fetching face status.")}})()},[e,t]);(0,r.useEffect)(()=>{C?(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0});I.current&&(I.current.srcObject=e)}catch(e){console.error("Error accessing webcam:",e),m("Error: Could not access webcam. Please ensure camera access is granted.")}})():(I.current&&I.current.srcObject&&(I.current.srcObject.getTracks().forEach(e=>e.stop()),I.current.srcObject=null),U.current&&clearInterval(U.current))},[C]),(0,r.useEffect)(()=>{if(h&&x){const e=N.current;if(!e)return;const t={width:I.current.width,height:I.current.height};vp(e,t),U.current=setInterval(async()=>{if(I.current&&!I.current.paused&&I.current.videoWidth>0){const n=await Cm(I.current,new Pg).withFaceLandmarks().withFaceDescriptors(),r=Fm(n,t);if(e.getContext("2d").clearRect(0,0,e.width,e.height),Gp(e,r),n.length>0){const e=(e=>{const t=e.getNose(),n=e.getLeftEye(),r=e.getRightEye(),i=e.getJawOutline(),a=(n[0].x+r[3].x)/2,o=(n[0].y,r[3].y,t[3]),s=i[0],A=i[16],u=Math.abs(a-o.x),l=Math.abs(s.x-A.x),c=Math.abs(o.x-s.x)/Math.abs(o.x-A.x);return c>1.8?"right":c<.55?"left":u<.25*l?"front":"unknown"})(n[0].landmarks),t=L.current;if(e===t){const e=n[0].descriptor;_(t=>[...t,Array.from(e)]),"front"===t?(m("Front view scanned. Now, please turn your head to the left."),S("left")):"left"===t?(m("Left view scanned. Now, please turn your head to the right."),S("right")):"right"===t&&(m("All scans complete! You can now submit."),S("done"),f(!1),E(!1))}else m(`Please turn your head to the ${t}. Detected: ${e}`)}else m(`No face detected. Please position your face for the ${L.current} view.`)}},1e3)}else U.current&&clearInterval(U.current);return()=>{U.current&&clearInterval(U.current)}},[h,x]);const[Q,R]=(0,r.useState)(!1),[D,T]=(0,r.useState)(""),[P,O]=(0,r.useState)(!1),M=()=>{R(!0)};return i?(0,De.jsx)("div",{className:"student-profile-container-sw",children:(0,De.jsxs)("div",{className:"profile-wrapper-sw",children:[(0,De.jsxs)("h1",{className:"profile-title-sw",children:["My Profile",(0,De.jsx)(qb,{icon:$b,className:"edit-icon-sw",onClick:()=>s(!0)})]}),(0,De.jsxs)("div",{className:"profile-card-sw",children:[(0,De.jsxs)("div",{className:"profile-details-sw",children:[(0,De.jsxs)("p",{className:"profile-field-sw",children:[(0,De.jsx)("span",{className:"field-label-sw",children:"Name:"}),o?(0,De.jsx)("input",{type:"text",value:A,onChange:e=>u(e.target.value),className:"edit-input-sw"}):i.name]}),(0,De.jsxs)("p",{className:"profile-field-sw",children:[(0,De.jsx)("span",{className:"field-label-sw",children:"Roll No:"})," ",i.rollNo]}),(0,De.jsxs)("p",{className:"profile-field-sw",children:[(0,De.jsx)("span",{className:"field-label-sw",children:"Email:"})," ",i.email]}),(0,De.jsxs)("p",{className:"profile-field-sw",children:[(0,De.jsx)("span",{className:"field-label-sw",children:"Mobile No. :"}),o?(0,De.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"edit-input-sw"}):i.mobileNumber||"Not Provided"]}),(0,De.jsxs)("p",{className:"profile-field-sw",children:[(0,De.jsx)("span",{className:"field-label-sw",children:"Role:"})," ",i.role]}),o&&(0,De.jsxs)("div",{className:"edit-buttons-sw",children:[(0,De.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:5000/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:A,mobileNumber:l})}),r=await e.json();e.ok?(alert("Profile updated successfully!"),n(),s(!1)):alert(`Error updating profile: ${r.message}`)}catch(e){console.error("Error updating profile:",e),alert("Network error during profile update.")}},className:"save-button-sw",children:"Save Changes"}),(0,De.jsx)("button",{onClick:()=>{u(i.name),c(i.mobileNumber||""),s(!1)},className:"cancel-button-sw",children:"Cancel"})]})]}),(0,De.jsxs)("div",{className:"face-scan-section-sw",children:[(0,De.jsx)("h2",{className:"section-title-sw",children:"Face Scan for Attendance"}),C&&(0,De.jsxs)("div",{className:"webcam-container-sw",children:[(0,De.jsx)("video",{ref:I,width:"300",height:"225",autoPlay:!0,muted:!0}),(0,De.jsx)("canvas",{ref:N,className:"face-canvas-sw"})]}),!x&&(0,De.jsx)("p",{className:"scan-status-sw",children:"Loading models..."}),x&&(0,De.jsxs)(De.Fragment,{children:[v&&("none"===y||"fulfilled"===y)&&(0,De.jsxs)("div",{className:"face-data-exists-sw",children:[(0,De.jsx)("p",{children:"Already Face data exist"}),(0,De.jsx)(qb,{icon:Zb,className:"lock-icon-sw",onClick:M})]}),"pending"===y&&(0,De.jsx)("p",{className:"scan-status-sw info-sw",children:"Your request to update face data is pending approval."}),"rejected"===y&&(0,De.jsxs)("div",{className:"face-data-exists-sw",children:[(0,De.jsx)("p",{className:"scan-status-sw error-sw",children:"Your request to update face data was rejected. Please contact admin for more information."}),(0,De.jsx)(qb,{icon:Zb,className:"lock-icon-sw",onClick:M})]}),(!v||"approved"===y)&&(0,De.jsxs)("div",{className:"face-scan-controls",children:[(0,De.jsx)("button",{onClick:()=>{E(!0),f(!0),_([]),S("front"),m("Please look directly at the camera for the front view.")},disabled:h||d,className:"face-scan-button-sw "+(h||d?"disabled-sw":""),children:h?`Scanning ${F}...`:"Scan Face"}),(0,De.jsx)("button",{onClick:async()=>{if(k.length<3)m("Please complete all three face scans.");else if(e&&t){p(!0),m("Submitting face data...");try{const e=await fetch("http://localhost:5000/api/face/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({descriptors:k})}),n=await e.json();e.ok?(m("Face data successfully submitted!"),w(!0),b("none"),S("idle")):m(`Error submitting face data: ${n.message}`)}catch(n){console.error("Error during face data submission:",n),m("Network error during face data submission.")}finally{p(!1)}}else m("User not authenticated.")},disabled:"done"!==F||d,className:"face-scan-button-sw "+("done"!==F||d?"disabled-sw":""),children:d?"Submitting...":"Submit"})]})]}),g&&(0,De.jsx)("p",{className:"scan-status-sw "+(g.includes("Error")?"error-sw":g.includes("Successfully")?"success-sw":"info-sw"),children:g}),Q&&(0,De.jsx)("div",{className:"reason-modal-overlay-sw",children:(0,De.jsxs)("div",{className:"reason-modal-sw",children:[(0,De.jsx)("h3",{children:"Reason for Face Data Update"}),(0,De.jsx)("textarea",{value:D,onChange:e=>T(e.target.value),placeholder:"Please provide a brief reason for requesting the update..."}),(0,De.jsxs)("div",{className:"modal-buttons-sw",children:[(0,De.jsx)("button",{onClick:async()=>{if(D){O(!0);try{const e=await fetch("http://localhost:5000/api/face/request-update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({reason:D})}),n=await e.json();e.ok?(b("pending"),m("Request to update face data has been sent for approval."),R(!1),T("")):m(`Error requesting update: ${n.message}`)}catch(e){console.error("Error requesting face data update:",e),m("Network error while requesting face data update.")}finally{O(!1)}}else m("Please provide a reason for the update.")},disabled:P,children:P?"Submitting...":"Submit"}),(0,De.jsx)("button",{onClick:()=>R(!1),disabled:P,children:"Cancel"})]})]})})]})]})]})}):(0,De.jsx)("div",{className:"student-profile-container-sw",children:(0,De.jsx)("div",{className:"loading-sw",children:"Loading profile..."})})},bU=()=>(0,De.jsx)(Oe,{children:(0,De.jsx)(ke,{children:(0,De.jsxs)(xe,{children:[(0,De.jsx)(ye,{path:"/",element:(0,De.jsx)(He,{})}),(0,De.jsx)(ye,{path:"/admin-login",element:(0,De.jsx)(j_,{})}),(0,De.jsx)(ye,{path:"/club-login",element:(0,De.jsx)(H_,{})}),(0,De.jsx)(ye,{path:"/register",element:(0,De.jsx)(K_,{})}),(0,De.jsx)(ye,{path:"/register/admin-club",element:(0,De.jsx)(z_,{})}),(0,De.jsx)(ye,{path:"/register/student",element:(0,De.jsx)(pU,{})}),(0,De.jsx)(ye,{path:"/Intro",element:(0,De.jsx)(ze,{})}),(0,De.jsx)(ye,{path:"/new-workshop",element:(0,De.jsx)(Ve,{})})," ",(0,De.jsx)(ye,{path:"/request-workshop",element:(0,De.jsx)(Y_,{})}),(0,De.jsx)(ye,{path:"/history",element:(0,De.jsx)(We,{})}),(0,De.jsx)(ye,{path:"/manageteam",element:(0,De.jsx)(J_,{children:(0,De.jsx)(qe,{})})}),(0,De.jsx)(ye,{path:"/attendance",element:(0,De.jsx)(O_,{})}),(0,De.jsx)(ye,{path:"/album",element:(0,De.jsx)(M_,{})}),(0,De.jsx)(ye,{path:"/workshop-requests",element:(0,De.jsx)(W_,{})}),(0,De.jsx)(ye,{path:"/approve-request/:requestId",element:(0,De.jsx)(V_,{})}),(0,De.jsx)(ye,{path:"/reject-request/:requestId",element:(0,De.jsx)(G_,{})}),(0,De.jsx)(ye,{path:"/workshops",element:(0,De.jsx)(q_,{})})," ",(0,De.jsx)(ye,{path:"/about",element:(0,De.jsx)(X_,{})}),(0,De.jsx)(ye,{path:"/student-login",element:(0,De.jsx)(gU,{})}),(0,De.jsxs)(ye,{path:"/student-dashboard",element:(0,De.jsx)(J_,{requiredRoles:["student"],children:(0,De.jsx)(mU,{})}),children:[(0,De.jsx)(ye,{index:!0,element:(0,De.jsx)(vU,{})}),(0,De.jsx)(ye,{path:"my-workshops",element:(0,De.jsx)(wU,{})}),(0,De.jsx)(ye,{path:"my-profile",element:(0,De.jsx)(yU,{})})]})]})})});a.createRoot(document.getElementById("root")).render((0,De.jsx)(r.StrictMode,{children:(0,De.jsx)(bU,{})}))})()})();
//# sourceMappingURL=main.3d1ea20c.js.map